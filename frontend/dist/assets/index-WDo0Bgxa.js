(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();var jo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ou(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gh={exports:{}},Zo={},Kh={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ps=Symbol.for("react.element"),lv=Symbol.for("react.portal"),sv=Symbol.for("react.fragment"),ov=Symbol.for("react.strict_mode"),av=Symbol.for("react.profiler"),cv=Symbol.for("react.provider"),uv=Symbol.for("react.context"),dv=Symbol.for("react.forward_ref"),fv=Symbol.for("react.suspense"),pv=Symbol.for("react.memo"),hv=Symbol.for("react.lazy"),Pf=Symbol.iterator;function mv(e){return e===null||typeof e!="object"?null:(e=Pf&&e[Pf]||e["@@iterator"],typeof e=="function"?e:null)}var Qh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yh=Object.assign,Xh={};function ol(e,t,n){this.props=e,this.context=t,this.refs=Xh,this.updater=n||Qh}ol.prototype.isReactComponent={};ol.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ol.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Jh(){}Jh.prototype=ol.prototype;function zu(e,t,n){this.props=e,this.context=t,this.refs=Xh,this.updater=n||Qh}var Mu=zu.prototype=new Jh;Mu.constructor=zu;Yh(Mu,ol.prototype);Mu.isPureReactComponent=!0;var Rf=Array.isArray,qh=Object.prototype.hasOwnProperty,Fu={current:null},Zh={key:!0,ref:!0,__self:!0,__source:!0};function em(e,t,n){var r,i={},l=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)qh.call(t,r)&&!Zh.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ps,type:e,key:l,ref:o,props:i,_owner:Fu.current}}function gv(e,t){return{$$typeof:ps,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wu(e){return typeof e=="object"&&e!==null&&e.$$typeof===ps}function yv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Lf=/\/+/g;function Wa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yv(""+e.key):t.toString(36)}function oo(e,t,n,r,i){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ps:case lv:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Wa(o,0):r,Rf(i)?(n="",e!=null&&(n=e.replace(Lf,"$&/")+"/"),oo(i,t,n,"",function(u){return u})):i!=null&&(Wu(i)&&(i=gv(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Lf,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Rf(e))for(var a=0;a<e.length;a++){l=e[a];var c=r+Wa(l,a);o+=oo(l,t,n,c,i)}else if(c=mv(e),typeof c=="function")for(e=c.call(e),a=0;!(l=e.next()).done;)l=l.value,c=r+Wa(l,a++),o+=oo(l,t,n,c,i);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ms(e,t,n){if(e==null)return e;var r=[],i=0;return oo(e,r,"","",function(l){return t.call(n,l,i++)}),r}function xv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Gt={current:null},ao={transition:null},vv={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:ao,ReactCurrentOwner:Fu};function tm(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:Ms,forEach:function(e,t,n){Ms(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ms(e,function(){t++}),t},toArray:function(e){return Ms(e,function(t){return t})||[]},only:function(e){if(!Wu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ie.Component=ol;Ie.Fragment=sv;Ie.Profiler=av;Ie.PureComponent=zu;Ie.StrictMode=ov;Ie.Suspense=fv;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vv;Ie.act=tm;Ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Yh({},e.props),i=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=Fu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)qh.call(t,c)&&!Zh.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ps,type:e.type,key:i,ref:l,props:r,_owner:o}};Ie.createContext=function(e){return e={$$typeof:uv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cv,_context:e},e.Consumer=e};Ie.createElement=em;Ie.createFactory=function(e){var t=em.bind(null,e);return t.type=e,t};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(e){return{$$typeof:dv,render:e}};Ie.isValidElement=Wu;Ie.lazy=function(e){return{$$typeof:hv,_payload:{_status:-1,_result:e},_init:xv}};Ie.memo=function(e,t){return{$$typeof:pv,type:e,compare:t===void 0?null:t}};Ie.startTransition=function(e){var t=ao.transition;ao.transition={};try{e()}finally{ao.transition=t}};Ie.unstable_act=tm;Ie.useCallback=function(e,t){return Gt.current.useCallback(e,t)};Ie.useContext=function(e){return Gt.current.useContext(e)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(e){return Gt.current.useDeferredValue(e)};Ie.useEffect=function(e,t){return Gt.current.useEffect(e,t)};Ie.useId=function(){return Gt.current.useId()};Ie.useImperativeHandle=function(e,t,n){return Gt.current.useImperativeHandle(e,t,n)};Ie.useInsertionEffect=function(e,t){return Gt.current.useInsertionEffect(e,t)};Ie.useLayoutEffect=function(e,t){return Gt.current.useLayoutEffect(e,t)};Ie.useMemo=function(e,t){return Gt.current.useMemo(e,t)};Ie.useReducer=function(e,t,n){return Gt.current.useReducer(e,t,n)};Ie.useRef=function(e){return Gt.current.useRef(e)};Ie.useState=function(e){return Gt.current.useState(e)};Ie.useSyncExternalStore=function(e,t,n){return Gt.current.useSyncExternalStore(e,t,n)};Ie.useTransition=function(){return Gt.current.useTransition()};Ie.version="18.3.1";Kh.exports=Ie;var y=Kh.exports;const yr=Ou(y);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv=y,kv=Symbol.for("react.element"),Sv=Symbol.for("react.fragment"),Cv=Object.prototype.hasOwnProperty,jv=wv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bv={key:!0,ref:!0,__self:!0,__source:!0};function nm(e,t,n){var r,i={},l=null,o=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Cv.call(t,r)&&!bv.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:kv,type:e,key:l,ref:o,props:i,_owner:jv.current}}Zo.Fragment=Sv;Zo.jsx=nm;Zo.jsxs=nm;Gh.exports=Zo;var s=Gh.exports,Pc={},rm={exports:{}},mn={},im={exports:{}},lm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,H){var C=M.length;M.push(H);e:for(;0<C;){var me=C-1>>>1,K=M[me];if(0<i(K,H))M[me]=H,M[C]=K,C=me;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var H=M[0],C=M.pop();if(C!==H){M[0]=C;e:for(var me=0,K=M.length,j=K>>>1;me<j;){var se=2*(me+1)-1,ue=M[se],fe=se+1,je=M[fe];if(0>i(ue,C))fe<K&&0>i(je,ue)?(M[me]=je,M[fe]=C,me=fe):(M[me]=ue,M[se]=C,me=se);else if(fe<K&&0>i(je,C))M[me]=je,M[fe]=C,me=fe;else break e}}return H}function i(M,H){var C=M.sortIndex-H.sortIndex;return C!==0?C:M.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],u=[],f=1,p=null,h=3,m=!1,x=!1,E=!1,I=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(M){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=M)r(u),H.sortIndex=H.expirationTime,t(c,H);else break;H=n(u)}}function L(M){if(E=!1,S(M),!x)if(n(c)!==null)x=!0,ee(A);else{var H=n(u);H!==null&&te(L,H.startTime-M)}}function A(M,H){x=!1,E&&(E=!1,k(_),_=-1),m=!0;var C=h;try{for(S(H),p=n(c);p!==null&&(!(p.expirationTime>H)||M&&!Z());){var me=p.callback;if(typeof me=="function"){p.callback=null,h=p.priorityLevel;var K=me(p.expirationTime<=H);H=e.unstable_now(),typeof K=="function"?p.callback=K:p===n(c)&&r(c),S(H)}else r(c);p=n(c)}if(p!==null)var j=!0;else{var se=n(u);se!==null&&te(L,se.startTime-H),j=!1}return j}finally{p=null,h=C,m=!1}}var T=!1,W=null,_=-1,Y=5,U=-1;function Z(){return!(e.unstable_now()-U<Y)}function q(){if(W!==null){var M=e.unstable_now();U=M;var H=!0;try{H=W(!0,M)}finally{H?he():(T=!1,W=null)}}else T=!1}var he;if(typeof w=="function")he=function(){w(q)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,B=xe.port2;xe.port1.onmessage=q,he=function(){B.postMessage(null)}}else he=function(){I(q,0)};function ee(M){W=M,T||(T=!0,he())}function te(M,H){_=I(function(){M(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,ee(A))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var C=h;h=H;try{return M()}finally{h=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,H){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var C=h;h=M;try{return H()}finally{h=C}},e.unstable_scheduleCallback=function(M,H,C){var me=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?me+C:me):C=me,M){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=C+K,M={id:f++,callback:H,priorityLevel:M,startTime:C,expirationTime:K,sortIndex:-1},C>me?(M.sortIndex=C,t(u,M),n(c)===null&&M===n(u)&&(E?(k(_),_=-1):E=!0,te(L,C-me))):(M.sortIndex=K,t(c,M),x||m||(x=!0,ee(A))),M},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(M){var H=h;return function(){var C=h;h=H;try{return M.apply(this,arguments)}finally{h=C}}}})(lm);im.exports=lm;var Nv=im.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev=y,hn=Nv;function ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sm=new Set,Ql={};function yi(e,t){el(e,t),el(e+"Capture",t)}function el(e,t){for(Ql[e]=t,e=0;e<t.length;e++)sm.add(t[e])}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rc=Object.prototype.hasOwnProperty,_v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,If={},Af={};function Tv(e){return Rc.call(Af,e)?!0:Rc.call(If,e)?!1:_v.test(e)?Af[e]=!0:(If[e]=!0,!1)}function Pv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Rv(e,t,n,r){if(t===null||typeof t>"u"||Pv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Kt(e,t,n,r,i,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_t[e]=new Kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_t[t]=new Kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_t[e]=new Kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_t[e]=new Kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_t[e]=new Kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_t[e]=new Kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_t[e]=new Kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_t[e]=new Kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_t[e]=new Kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bu=/[\-:]([a-z])/g;function $u(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Bu,$u);_t[t]=new Kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Bu,$u);_t[t]=new Kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Bu,$u);_t[t]=new Kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_t[e]=new Kt(e,1,!1,e.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_t[e]=new Kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Uu(e,t,n,r){var i=_t.hasOwnProperty(t)?_t[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Rv(t,n,i,r)&&(n=null),r||i===null?Tv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var xr=Ev.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fs=Symbol.for("react.element"),Ai=Symbol.for("react.portal"),Di=Symbol.for("react.fragment"),Hu=Symbol.for("react.strict_mode"),Lc=Symbol.for("react.profiler"),om=Symbol.for("react.provider"),am=Symbol.for("react.context"),Vu=Symbol.for("react.forward_ref"),Ic=Symbol.for("react.suspense"),Ac=Symbol.for("react.suspense_list"),Gu=Symbol.for("react.memo"),_r=Symbol.for("react.lazy"),cm=Symbol.for("react.offscreen"),Df=Symbol.iterator;function wl(e){return e===null||typeof e!="object"?null:(e=Df&&e[Df]||e["@@iterator"],typeof e=="function"?e:null)}var ot=Object.assign,Ba;function Ll(e){if(Ba===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ba=t&&t[1]||""}return`
`+Ba+e}var $a=!1;function Ua(e,t){if(!e||$a)return"";$a=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),l=r.stack.split(`
`),o=i.length-1,a=l.length-1;1<=o&&0<=a&&i[o]!==l[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==l[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==l[a]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{$a=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ll(e):""}function Lv(e){switch(e.tag){case 5:return Ll(e.type);case 16:return Ll("Lazy");case 13:return Ll("Suspense");case 19:return Ll("SuspenseList");case 0:case 2:case 15:return e=Ua(e.type,!1),e;case 11:return e=Ua(e.type.render,!1),e;case 1:return e=Ua(e.type,!0),e;default:return""}}function Dc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Di:return"Fragment";case Ai:return"Portal";case Lc:return"Profiler";case Hu:return"StrictMode";case Ic:return"Suspense";case Ac:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case am:return(e.displayName||"Context")+".Consumer";case om:return(e._context.displayName||"Context")+".Provider";case Vu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gu:return t=e.displayName||null,t!==null?t:Dc(e.type)||"Memo";case _r:t=e._payload,e=e._init;try{return Dc(e(t))}catch{}}return null}function Iv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dc(t);case 8:return t===Hu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ur(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function um(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Av(e){var t=um(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ws(e){e._valueTracker||(e._valueTracker=Av(e))}function dm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=um(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function bo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Oc(e,t){var n=t.checked;return ot({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Of(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ur(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fm(e,t){t=t.checked,t!=null&&Uu(e,"checked",t,!1)}function zc(e,t){fm(e,t);var n=Ur(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mc(e,t.type,n):t.hasOwnProperty("defaultValue")&&Mc(e,t.type,Ur(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Mc(e,t,n){(t!=="number"||bo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Il=Array.isArray;function Gi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ur(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Fc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ie(91));return ot({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Mf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ie(92));if(Il(n)){if(1<n.length)throw Error(ie(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ur(n)}}function pm(e,t){var n=Ur(t.value),r=Ur(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ff(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bs,mm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bs=Bs||document.createElement("div"),Bs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ol={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dv=["Webkit","ms","Moz","O"];Object.keys(Ol).forEach(function(e){Dv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ol[t]=Ol[e]})});function gm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ol.hasOwnProperty(e)&&Ol[e]?(""+t).trim():t+"px"}function ym(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=gm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Ov=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bc(e,t){if(t){if(Ov[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ie(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ie(62))}}function $c(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uc=null;function Ku(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hc=null,Ki=null,Qi=null;function Wf(e){if(e=gs(e)){if(typeof Hc!="function")throw Error(ie(280));var t=e.stateNode;t&&(t=ia(t),Hc(e.stateNode,e.type,t))}}function xm(e){Ki?Qi?Qi.push(e):Qi=[e]:Ki=e}function vm(){if(Ki){var e=Ki,t=Qi;if(Qi=Ki=null,Wf(e),t)for(e=0;e<t.length;e++)Wf(t[e])}}function wm(e,t){return e(t)}function km(){}var Ha=!1;function Sm(e,t,n){if(Ha)return e(t,n);Ha=!0;try{return wm(e,t,n)}finally{Ha=!1,(Ki!==null||Qi!==null)&&(km(),vm())}}function Xl(e,t){var n=e.stateNode;if(n===null)return null;var r=ia(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ie(231,t,typeof n));return n}var Vc=!1;if(pr)try{var kl={};Object.defineProperty(kl,"passive",{get:function(){Vc=!0}}),window.addEventListener("test",kl,kl),window.removeEventListener("test",kl,kl)}catch{Vc=!1}function zv(e,t,n,r,i,l,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var zl=!1,No=null,Eo=!1,Gc=null,Mv={onError:function(e){zl=!0,No=e}};function Fv(e,t,n,r,i,l,o,a,c){zl=!1,No=null,zv.apply(Mv,arguments)}function Wv(e,t,n,r,i,l,o,a,c){if(Fv.apply(this,arguments),zl){if(zl){var u=No;zl=!1,No=null}else throw Error(ie(198));Eo||(Eo=!0,Gc=u)}}function xi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Cm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bf(e){if(xi(e)!==e)throw Error(ie(188))}function Bv(e){var t=e.alternate;if(!t){if(t=xi(e),t===null)throw Error(ie(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var l=i.alternate;if(l===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return Bf(i),e;if(l===r)return Bf(i),t;l=l.sibling}throw Error(ie(188))}if(n.return!==r.return)n=i,r=l;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=l;break}if(a===r){o=!0,r=i,n=l;break}a=a.sibling}if(!o){for(a=l.child;a;){if(a===n){o=!0,n=l,r=i;break}if(a===r){o=!0,r=l,n=i;break}a=a.sibling}if(!o)throw Error(ie(189))}}if(n.alternate!==r)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?e:t}function jm(e){return e=Bv(e),e!==null?bm(e):null}function bm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bm(e);if(t!==null)return t;e=e.sibling}return null}var Nm=hn.unstable_scheduleCallback,$f=hn.unstable_cancelCallback,$v=hn.unstable_shouldYield,Uv=hn.unstable_requestPaint,pt=hn.unstable_now,Hv=hn.unstable_getCurrentPriorityLevel,Qu=hn.unstable_ImmediatePriority,Em=hn.unstable_UserBlockingPriority,_o=hn.unstable_NormalPriority,Vv=hn.unstable_LowPriority,_m=hn.unstable_IdlePriority,ea=null,tr=null;function Gv(e){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(ea,e,void 0,(e.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:Yv,Kv=Math.log,Qv=Math.LN2;function Yv(e){return e>>>=0,e===0?32:31-(Kv(e)/Qv|0)|0}var $s=64,Us=4194304;function Al(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function To(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,l=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Al(a):(l&=o,l!==0&&(r=Al(l)))}else o=n&~i,o!==0?r=Al(o):l!==0&&(r=Al(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,l=t&-t,i>=l||i===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Mn(t),i=1<<n,r|=e[n],t&=~i;return r}function Xv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-Mn(l),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=Xv(a,t)):c<=t&&(e.expiredLanes|=a),l&=~a}}function Kc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tm(){var e=$s;return $s<<=1,!($s&4194240)&&($s=64),e}function Va(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function hs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mn(t),e[t]=n}function qv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Mn(n),l=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~l}}function Yu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Mn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ge=0;function Pm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rm,Xu,Lm,Im,Am,Qc=!1,Hs=[],Dr=null,Or=null,zr=null,Jl=new Map,ql=new Map,Rr=[],Zv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uf(e,t){switch(e){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":Jl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(t.pointerId)}}function Sl(e,t,n,r,i,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[i]},t!==null&&(t=gs(t),t!==null&&Xu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ew(e,t,n,r,i){switch(t){case"focusin":return Dr=Sl(Dr,e,t,n,r,i),!0;case"dragenter":return Or=Sl(Or,e,t,n,r,i),!0;case"mouseover":return zr=Sl(zr,e,t,n,r,i),!0;case"pointerover":var l=i.pointerId;return Jl.set(l,Sl(Jl.get(l)||null,e,t,n,r,i)),!0;case"gotpointercapture":return l=i.pointerId,ql.set(l,Sl(ql.get(l)||null,e,t,n,r,i)),!0}return!1}function Dm(e){var t=si(e.target);if(t!==null){var n=xi(t);if(n!==null){if(t=n.tag,t===13){if(t=Cm(n),t!==null){e.blockedOn=t,Am(e.priority,function(){Lm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function co(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Uc=r,n.target.dispatchEvent(r),Uc=null}else return t=gs(n),t!==null&&Xu(t),e.blockedOn=n,!1;t.shift()}return!0}function Hf(e,t,n){co(e)&&n.delete(t)}function tw(){Qc=!1,Dr!==null&&co(Dr)&&(Dr=null),Or!==null&&co(Or)&&(Or=null),zr!==null&&co(zr)&&(zr=null),Jl.forEach(Hf),ql.forEach(Hf)}function Cl(e,t){e.blockedOn===t&&(e.blockedOn=null,Qc||(Qc=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,tw)))}function Zl(e){function t(i){return Cl(i,e)}if(0<Hs.length){Cl(Hs[0],e);for(var n=1;n<Hs.length;n++){var r=Hs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Dr!==null&&Cl(Dr,e),Or!==null&&Cl(Or,e),zr!==null&&Cl(zr,e),Jl.forEach(t),ql.forEach(t),n=0;n<Rr.length;n++)r=Rr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Rr.length&&(n=Rr[0],n.blockedOn===null);)Dm(n),n.blockedOn===null&&Rr.shift()}var Yi=xr.ReactCurrentBatchConfig,Po=!0;function nw(e,t,n,r){var i=Ge,l=Yi.transition;Yi.transition=null;try{Ge=1,Ju(e,t,n,r)}finally{Ge=i,Yi.transition=l}}function rw(e,t,n,r){var i=Ge,l=Yi.transition;Yi.transition=null;try{Ge=4,Ju(e,t,n,r)}finally{Ge=i,Yi.transition=l}}function Ju(e,t,n,r){if(Po){var i=Yc(e,t,n,r);if(i===null)tc(e,t,r,Ro,n),Uf(e,r);else if(ew(i,e,t,n,r))r.stopPropagation();else if(Uf(e,r),t&4&&-1<Zv.indexOf(e)){for(;i!==null;){var l=gs(i);if(l!==null&&Rm(l),l=Yc(e,t,n,r),l===null&&tc(e,t,r,Ro,n),l===i)break;i=l}i!==null&&r.stopPropagation()}else tc(e,t,r,null,n)}}var Ro=null;function Yc(e,t,n,r){if(Ro=null,e=Ku(r),e=si(e),e!==null)if(t=xi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Cm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ro=e,null}function Om(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hv()){case Qu:return 1;case Em:return 4;case _o:case Vv:return 16;case _m:return 536870912;default:return 16}default:return 16}}var Ir=null,qu=null,uo=null;function zm(){if(uo)return uo;var e,t=qu,n=t.length,r,i="value"in Ir?Ir.value:Ir.textContent,l=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[l-r];r++);return uo=i.slice(e,1<r?1-r:void 0)}function fo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vs(){return!0}function Vf(){return!1}function gn(e){function t(n,r,i,l,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(l):l[a]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Vs:Vf,this.isPropagationStopped=Vf,this}return ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),t}var al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zu=gn(al),ms=ot({},al,{view:0,detail:0}),iw=gn(ms),Ga,Ka,jl,ta=ot({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ed,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jl&&(jl&&e.type==="mousemove"?(Ga=e.screenX-jl.screenX,Ka=e.screenY-jl.screenY):Ka=Ga=0,jl=e),Ga)},movementY:function(e){return"movementY"in e?e.movementY:Ka}}),Gf=gn(ta),lw=ot({},ta,{dataTransfer:0}),sw=gn(lw),ow=ot({},ms,{relatedTarget:0}),Qa=gn(ow),aw=ot({},al,{animationName:0,elapsedTime:0,pseudoElement:0}),cw=gn(aw),uw=ot({},al,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dw=gn(uw),fw=ot({},al,{data:0}),Kf=gn(fw),pw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mw[e])?!!t[e]:!1}function ed(){return gw}var yw=ot({},ms,{key:function(e){if(e.key){var t=pw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ed,charCode:function(e){return e.type==="keypress"?fo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xw=gn(yw),vw=ot({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qf=gn(vw),ww=ot({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ed}),kw=gn(ww),Sw=ot({},al,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cw=gn(Sw),jw=ot({},ta,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bw=gn(jw),Nw=[9,13,27,32],td=pr&&"CompositionEvent"in window,Ml=null;pr&&"documentMode"in document&&(Ml=document.documentMode);var Ew=pr&&"TextEvent"in window&&!Ml,Mm=pr&&(!td||Ml&&8<Ml&&11>=Ml),Yf=" ",Xf=!1;function Fm(e,t){switch(e){case"keyup":return Nw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oi=!1;function _w(e,t){switch(e){case"compositionend":return Wm(t);case"keypress":return t.which!==32?null:(Xf=!0,Yf);case"textInput":return e=t.data,e===Yf&&Xf?null:e;default:return null}}function Tw(e,t){if(Oi)return e==="compositionend"||!td&&Fm(e,t)?(e=zm(),uo=qu=Ir=null,Oi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mm&&t.locale!=="ko"?null:t.data;default:return null}}var Pw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Pw[e.type]:t==="textarea"}function Bm(e,t,n,r){xm(r),t=Lo(t,"onChange"),0<t.length&&(n=new Zu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fl=null,es=null;function Rw(e){qm(e,0)}function na(e){var t=Fi(e);if(dm(t))return e}function Lw(e,t){if(e==="change")return t}var $m=!1;if(pr){var Ya;if(pr){var Xa="oninput"in document;if(!Xa){var qf=document.createElement("div");qf.setAttribute("oninput","return;"),Xa=typeof qf.oninput=="function"}Ya=Xa}else Ya=!1;$m=Ya&&(!document.documentMode||9<document.documentMode)}function Zf(){Fl&&(Fl.detachEvent("onpropertychange",Um),es=Fl=null)}function Um(e){if(e.propertyName==="value"&&na(es)){var t=[];Bm(t,es,e,Ku(e)),Sm(Rw,t)}}function Iw(e,t,n){e==="focusin"?(Zf(),Fl=t,es=n,Fl.attachEvent("onpropertychange",Um)):e==="focusout"&&Zf()}function Aw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return na(es)}function Dw(e,t){if(e==="click")return na(t)}function Ow(e,t){if(e==="input"||e==="change")return na(t)}function zw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wn=typeof Object.is=="function"?Object.is:zw;function ts(e,t){if(Wn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Rc.call(t,i)||!Wn(e[i],t[i]))return!1}return!0}function ep(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tp(e,t){var n=ep(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ep(n)}}function Hm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vm(){for(var e=window,t=bo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=bo(e.document)}return t}function nd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Mw(e){var t=Vm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Hm(n.ownerDocument.documentElement,n)){if(r!==null&&nd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,l=Math.min(r.start,i);r=r.end===void 0?l:Math.min(r.end,i),!e.extend&&l>r&&(i=r,r=l,l=i),i=tp(n,l);var o=tp(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fw=pr&&"documentMode"in document&&11>=document.documentMode,zi=null,Xc=null,Wl=null,Jc=!1;function np(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jc||zi==null||zi!==bo(r)||(r=zi,"selectionStart"in r&&nd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wl&&ts(Wl,r)||(Wl=r,r=Lo(Xc,"onSelect"),0<r.length&&(t=new Zu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=zi)))}function Gs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mi={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionend:Gs("Transition","TransitionEnd")},Ja={},Gm={};pr&&(Gm=document.createElement("div").style,"AnimationEvent"in window||(delete Mi.animationend.animation,delete Mi.animationiteration.animation,delete Mi.animationstart.animation),"TransitionEvent"in window||delete Mi.transitionend.transition);function ra(e){if(Ja[e])return Ja[e];if(!Mi[e])return e;var t=Mi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Gm)return Ja[e]=t[n];return e}var Km=ra("animationend"),Qm=ra("animationiteration"),Ym=ra("animationstart"),Xm=ra("transitionend"),Jm=new Map,rp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(e,t){Jm.set(e,t),yi(t,[e])}for(var qa=0;qa<rp.length;qa++){var Za=rp[qa],Ww=Za.toLowerCase(),Bw=Za[0].toUpperCase()+Za.slice(1);Vr(Ww,"on"+Bw)}Vr(Km,"onAnimationEnd");Vr(Qm,"onAnimationIteration");Vr(Ym,"onAnimationStart");Vr("dblclick","onDoubleClick");Vr("focusin","onFocus");Vr("focusout","onBlur");Vr(Xm,"onTransitionEnd");el("onMouseEnter",["mouseout","mouseover"]);el("onMouseLeave",["mouseout","mouseover"]);el("onPointerEnter",["pointerout","pointerover"]);el("onPointerLeave",["pointerout","pointerover"]);yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$w=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dl));function ip(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Wv(r,t,void 0,e),e.currentTarget=null}function qm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==l&&i.isPropagationStopped())break e;ip(i,a,u),l=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==l&&i.isPropagationStopped())break e;ip(i,a,u),l=c}}}if(Eo)throw e=Gc,Eo=!1,Gc=null,e}function Xe(e,t){var n=t[nu];n===void 0&&(n=t[nu]=new Set);var r=e+"__bubble";n.has(r)||(Zm(t,e,2,!1),n.add(r))}function ec(e,t,n){var r=0;t&&(r|=4),Zm(n,e,r,t)}var Ks="_reactListening"+Math.random().toString(36).slice(2);function ns(e){if(!e[Ks]){e[Ks]=!0,sm.forEach(function(n){n!=="selectionchange"&&($w.has(n)||ec(n,!1,e),ec(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ks]||(t[Ks]=!0,ec("selectionchange",!1,t))}}function Zm(e,t,n,r){switch(Om(t)){case 1:var i=nw;break;case 4:i=rw;break;default:i=Ju}n=i.bind(null,t,n,e),i=void 0,!Vc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function tc(e,t,n,r,i){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=si(a),o===null)return;if(c=o.tag,c===5||c===6){r=l=o;continue e}a=a.parentNode}}r=r.return}Sm(function(){var u=l,f=Ku(n),p=[];e:{var h=Jm.get(e);if(h!==void 0){var m=Zu,x=e;switch(e){case"keypress":if(fo(n)===0)break e;case"keydown":case"keyup":m=xw;break;case"focusin":x="focus",m=Qa;break;case"focusout":x="blur",m=Qa;break;case"beforeblur":case"afterblur":m=Qa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Gf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=sw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=kw;break;case Km:case Qm:case Ym:m=cw;break;case Xm:m=Cw;break;case"scroll":m=iw;break;case"wheel":m=bw;break;case"copy":case"cut":case"paste":m=dw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Qf}var E=(t&4)!==0,I=!E&&e==="scroll",k=E?h!==null?h+"Capture":null:h;E=[];for(var w=u,S;w!==null;){S=w;var L=S.stateNode;if(S.tag===5&&L!==null&&(S=L,k!==null&&(L=Xl(w,k),L!=null&&E.push(rs(w,L,S)))),I)break;w=w.return}0<E.length&&(h=new m(h,x,null,n,f),p.push({event:h,listeners:E}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==Uc&&(x=n.relatedTarget||n.fromElement)&&(si(x)||x[hr]))break e;if((m||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=u,x=x?si(x):null,x!==null&&(I=xi(x),x!==I||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(E=Gf,L="onMouseLeave",k="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(E=Qf,L="onPointerLeave",k="onPointerEnter",w="pointer"),I=m==null?h:Fi(m),S=x==null?h:Fi(x),h=new E(L,w+"leave",m,n,f),h.target=I,h.relatedTarget=S,L=null,si(f)===u&&(E=new E(k,w+"enter",x,n,f),E.target=S,E.relatedTarget=I,L=E),I=L,m&&x)t:{for(E=m,k=x,w=0,S=E;S;S=Ti(S))w++;for(S=0,L=k;L;L=Ti(L))S++;for(;0<w-S;)E=Ti(E),w--;for(;0<S-w;)k=Ti(k),S--;for(;w--;){if(E===k||k!==null&&E===k.alternate)break t;E=Ti(E),k=Ti(k)}E=null}else E=null;m!==null&&lp(p,h,m,E,!1),x!==null&&I!==null&&lp(p,I,x,E,!0)}}e:{if(h=u?Fi(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var A=Lw;else if(Jf(h))if($m)A=Ow;else{A=Aw;var T=Iw}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=Dw);if(A&&(A=A(e,u))){Bm(p,A,n,f);break e}T&&T(e,h,u),e==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Mc(h,"number",h.value)}switch(T=u?Fi(u):window,e){case"focusin":(Jf(T)||T.contentEditable==="true")&&(zi=T,Xc=u,Wl=null);break;case"focusout":Wl=Xc=zi=null;break;case"mousedown":Jc=!0;break;case"contextmenu":case"mouseup":case"dragend":Jc=!1,np(p,n,f);break;case"selectionchange":if(Fw)break;case"keydown":case"keyup":np(p,n,f)}var W;if(td)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Oi?Fm(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Mm&&n.locale!=="ko"&&(Oi||_!=="onCompositionStart"?_==="onCompositionEnd"&&Oi&&(W=zm()):(Ir=f,qu="value"in Ir?Ir.value:Ir.textContent,Oi=!0)),T=Lo(u,_),0<T.length&&(_=new Kf(_,e,null,n,f),p.push({event:_,listeners:T}),W?_.data=W:(W=Wm(n),W!==null&&(_.data=W)))),(W=Ew?_w(e,n):Tw(e,n))&&(u=Lo(u,"onBeforeInput"),0<u.length&&(f=new Kf("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:u}),f.data=W))}qm(p,t)})}function rs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lo(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,l=i.stateNode;i.tag===5&&l!==null&&(i=l,l=Xl(e,n),l!=null&&r.unshift(rs(e,l,i)),l=Xl(e,t),l!=null&&r.push(rs(e,l,i))),e=e.return}return r}function Ti(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lp(e,t,n,r,i){for(var l=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,i?(c=Xl(n,l),c!=null&&o.unshift(rs(n,c,a))):i||(c=Xl(n,l),c!=null&&o.push(rs(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Uw=/\r\n?/g,Hw=/\u0000|\uFFFD/g;function sp(e){return(typeof e=="string"?e:""+e).replace(Uw,`
`).replace(Hw,"")}function Qs(e,t,n){if(t=sp(t),sp(e)!==t&&n)throw Error(ie(425))}function Io(){}var qc=null,Zc=null;function eu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tu=typeof setTimeout=="function"?setTimeout:void 0,Vw=typeof clearTimeout=="function"?clearTimeout:void 0,op=typeof Promise=="function"?Promise:void 0,Gw=typeof queueMicrotask=="function"?queueMicrotask:typeof op<"u"?function(e){return op.resolve(null).then(e).catch(Kw)}:tu;function Kw(e){setTimeout(function(){throw e})}function nc(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Zl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Zl(t)}function Mr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ap(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var cl=Math.random().toString(36).slice(2),Zn="__reactFiber$"+cl,is="__reactProps$"+cl,hr="__reactContainer$"+cl,nu="__reactEvents$"+cl,Qw="__reactListeners$"+cl,Yw="__reactHandles$"+cl;function si(e){var t=e[Zn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hr]||n[Zn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ap(e);e!==null;){if(n=e[Zn])return n;e=ap(e)}return t}e=n,n=e.parentNode}return null}function gs(e){return e=e[Zn]||e[hr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ie(33))}function ia(e){return e[is]||null}var ru=[],Wi=-1;function Gr(e){return{current:e}}function Je(e){0>Wi||(e.current=ru[Wi],ru[Wi]=null,Wi--)}function Qe(e,t){Wi++,ru[Wi]=e.current,e.current=t}var Hr={},Ot=Gr(Hr),qt=Gr(!1),fi=Hr;function tl(e,t){var n=e.type.contextTypes;if(!n)return Hr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},l;for(l in n)i[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Zt(e){return e=e.childContextTypes,e!=null}function Ao(){Je(qt),Je(Ot)}function cp(e,t,n){if(Ot.current!==Hr)throw Error(ie(168));Qe(Ot,t),Qe(qt,n)}function eg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ie(108,Iv(e)||"Unknown",i));return ot({},n,r)}function Do(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hr,fi=Ot.current,Qe(Ot,e),Qe(qt,qt.current),!0}function up(e,t,n){var r=e.stateNode;if(!r)throw Error(ie(169));n?(e=eg(e,t,fi),r.__reactInternalMemoizedMergedChildContext=e,Je(qt),Je(Ot),Qe(Ot,e)):Je(qt),Qe(qt,n)}var cr=null,la=!1,rc=!1;function tg(e){cr===null?cr=[e]:cr.push(e)}function Xw(e){la=!0,tg(e)}function Kr(){if(!rc&&cr!==null){rc=!0;var e=0,t=Ge;try{var n=cr;for(Ge=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}cr=null,la=!1}catch(i){throw cr!==null&&(cr=cr.slice(e+1)),Nm(Qu,Kr),i}finally{Ge=t,rc=!1}}return null}var Bi=[],$i=0,Oo=null,zo=0,wn=[],kn=0,pi=null,ur=1,dr="";function ri(e,t){Bi[$i++]=zo,Bi[$i++]=Oo,Oo=e,zo=t}function ng(e,t,n){wn[kn++]=ur,wn[kn++]=dr,wn[kn++]=pi,pi=e;var r=ur;e=dr;var i=32-Mn(r)-1;r&=~(1<<i),n+=1;var l=32-Mn(t)+i;if(30<l){var o=i-i%5;l=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ur=1<<32-Mn(t)+i|n<<i|r,dr=l+e}else ur=1<<l|n<<i|r,dr=e}function rd(e){e.return!==null&&(ri(e,1),ng(e,1,0))}function id(e){for(;e===Oo;)Oo=Bi[--$i],Bi[$i]=null,zo=Bi[--$i],Bi[$i]=null;for(;e===pi;)pi=wn[--kn],wn[kn]=null,dr=wn[--kn],wn[kn]=null,ur=wn[--kn],wn[kn]=null}var pn=null,dn=null,tt=!1,zn=null;function rg(e,t){var n=jn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function dp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pn=e,dn=Mr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pn=e,dn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pi!==null?{id:ur,overflow:dr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=jn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,pn=e,dn=null,!0):!1;default:return!1}}function iu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lu(e){if(tt){var t=dn;if(t){var n=t;if(!dp(e,t)){if(iu(e))throw Error(ie(418));t=Mr(n.nextSibling);var r=pn;t&&dp(e,t)?rg(r,n):(e.flags=e.flags&-4097|2,tt=!1,pn=e)}}else{if(iu(e))throw Error(ie(418));e.flags=e.flags&-4097|2,tt=!1,pn=e}}}function fp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pn=e}function Ys(e){if(e!==pn)return!1;if(!tt)return fp(e),tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!eu(e.type,e.memoizedProps)),t&&(t=dn)){if(iu(e))throw ig(),Error(ie(418));for(;t;)rg(e,t),t=Mr(t.nextSibling)}if(fp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){dn=Mr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}dn=null}}else dn=pn?Mr(e.stateNode.nextSibling):null;return!0}function ig(){for(var e=dn;e;)e=Mr(e.nextSibling)}function nl(){dn=pn=null,tt=!1}function ld(e){zn===null?zn=[e]:zn.push(e)}var Jw=xr.ReactCurrentBatchConfig;function bl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var r=n.stateNode}if(!r)throw Error(ie(147,e));var i=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var a=i.refs;o===null?delete a[l]:a[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,e))}return e}function Xs(e,t){throw e=Object.prototype.toString.call(t),Error(ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pp(e){var t=e._init;return t(e._payload)}function lg(e){function t(k,w){if(e){var S=k.deletions;S===null?(k.deletions=[w],k.flags|=16):S.push(w)}}function n(k,w){if(!e)return null;for(;w!==null;)t(k,w),w=w.sibling;return null}function r(k,w){for(k=new Map;w!==null;)w.key!==null?k.set(w.key,w):k.set(w.index,w),w=w.sibling;return k}function i(k,w){return k=$r(k,w),k.index=0,k.sibling=null,k}function l(k,w,S){return k.index=S,e?(S=k.alternate,S!==null?(S=S.index,S<w?(k.flags|=2,w):S):(k.flags|=2,w)):(k.flags|=1048576,w)}function o(k){return e&&k.alternate===null&&(k.flags|=2),k}function a(k,w,S,L){return w===null||w.tag!==6?(w=uc(S,k.mode,L),w.return=k,w):(w=i(w,S),w.return=k,w)}function c(k,w,S,L){var A=S.type;return A===Di?f(k,w,S.props.children,L,S.key):w!==null&&(w.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===_r&&pp(A)===w.type)?(L=i(w,S.props),L.ref=bl(k,w,S),L.return=k,L):(L=vo(S.type,S.key,S.props,null,k.mode,L),L.ref=bl(k,w,S),L.return=k,L)}function u(k,w,S,L){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=dc(S,k.mode,L),w.return=k,w):(w=i(w,S.children||[]),w.return=k,w)}function f(k,w,S,L,A){return w===null||w.tag!==7?(w=di(S,k.mode,L,A),w.return=k,w):(w=i(w,S),w.return=k,w)}function p(k,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=uc(""+w,k.mode,S),w.return=k,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Fs:return S=vo(w.type,w.key,w.props,null,k.mode,S),S.ref=bl(k,null,w),S.return=k,S;case Ai:return w=dc(w,k.mode,S),w.return=k,w;case _r:var L=w._init;return p(k,L(w._payload),S)}if(Il(w)||wl(w))return w=di(w,k.mode,S,null),w.return=k,w;Xs(k,w)}return null}function h(k,w,S,L){var A=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return A!==null?null:a(k,w,""+S,L);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Fs:return S.key===A?c(k,w,S,L):null;case Ai:return S.key===A?u(k,w,S,L):null;case _r:return A=S._init,h(k,w,A(S._payload),L)}if(Il(S)||wl(S))return A!==null?null:f(k,w,S,L,null);Xs(k,S)}return null}function m(k,w,S,L,A){if(typeof L=="string"&&L!==""||typeof L=="number")return k=k.get(S)||null,a(w,k,""+L,A);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Fs:return k=k.get(L.key===null?S:L.key)||null,c(w,k,L,A);case Ai:return k=k.get(L.key===null?S:L.key)||null,u(w,k,L,A);case _r:var T=L._init;return m(k,w,S,T(L._payload),A)}if(Il(L)||wl(L))return k=k.get(S)||null,f(w,k,L,A,null);Xs(w,L)}return null}function x(k,w,S,L){for(var A=null,T=null,W=w,_=w=0,Y=null;W!==null&&_<S.length;_++){W.index>_?(Y=W,W=null):Y=W.sibling;var U=h(k,W,S[_],L);if(U===null){W===null&&(W=Y);break}e&&W&&U.alternate===null&&t(k,W),w=l(U,w,_),T===null?A=U:T.sibling=U,T=U,W=Y}if(_===S.length)return n(k,W),tt&&ri(k,_),A;if(W===null){for(;_<S.length;_++)W=p(k,S[_],L),W!==null&&(w=l(W,w,_),T===null?A=W:T.sibling=W,T=W);return tt&&ri(k,_),A}for(W=r(k,W);_<S.length;_++)Y=m(W,k,_,S[_],L),Y!==null&&(e&&Y.alternate!==null&&W.delete(Y.key===null?_:Y.key),w=l(Y,w,_),T===null?A=Y:T.sibling=Y,T=Y);return e&&W.forEach(function(Z){return t(k,Z)}),tt&&ri(k,_),A}function E(k,w,S,L){var A=wl(S);if(typeof A!="function")throw Error(ie(150));if(S=A.call(S),S==null)throw Error(ie(151));for(var T=A=null,W=w,_=w=0,Y=null,U=S.next();W!==null&&!U.done;_++,U=S.next()){W.index>_?(Y=W,W=null):Y=W.sibling;var Z=h(k,W,U.value,L);if(Z===null){W===null&&(W=Y);break}e&&W&&Z.alternate===null&&t(k,W),w=l(Z,w,_),T===null?A=Z:T.sibling=Z,T=Z,W=Y}if(U.done)return n(k,W),tt&&ri(k,_),A;if(W===null){for(;!U.done;_++,U=S.next())U=p(k,U.value,L),U!==null&&(w=l(U,w,_),T===null?A=U:T.sibling=U,T=U);return tt&&ri(k,_),A}for(W=r(k,W);!U.done;_++,U=S.next())U=m(W,k,_,U.value,L),U!==null&&(e&&U.alternate!==null&&W.delete(U.key===null?_:U.key),w=l(U,w,_),T===null?A=U:T.sibling=U,T=U);return e&&W.forEach(function(q){return t(k,q)}),tt&&ri(k,_),A}function I(k,w,S,L){if(typeof S=="object"&&S!==null&&S.type===Di&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Fs:e:{for(var A=S.key,T=w;T!==null;){if(T.key===A){if(A=S.type,A===Di){if(T.tag===7){n(k,T.sibling),w=i(T,S.props.children),w.return=k,k=w;break e}}else if(T.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===_r&&pp(A)===T.type){n(k,T.sibling),w=i(T,S.props),w.ref=bl(k,T,S),w.return=k,k=w;break e}n(k,T);break}else t(k,T);T=T.sibling}S.type===Di?(w=di(S.props.children,k.mode,L,S.key),w.return=k,k=w):(L=vo(S.type,S.key,S.props,null,k.mode,L),L.ref=bl(k,w,S),L.return=k,k=L)}return o(k);case Ai:e:{for(T=S.key;w!==null;){if(w.key===T)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(k,w.sibling),w=i(w,S.children||[]),w.return=k,k=w;break e}else{n(k,w);break}else t(k,w);w=w.sibling}w=dc(S,k.mode,L),w.return=k,k=w}return o(k);case _r:return T=S._init,I(k,w,T(S._payload),L)}if(Il(S))return x(k,w,S,L);if(wl(S))return E(k,w,S,L);Xs(k,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(k,w.sibling),w=i(w,S),w.return=k,k=w):(n(k,w),w=uc(S,k.mode,L),w.return=k,k=w),o(k)):n(k,w)}return I}var rl=lg(!0),sg=lg(!1),Mo=Gr(null),Fo=null,Ui=null,sd=null;function od(){sd=Ui=Fo=null}function ad(e){var t=Mo.current;Je(Mo),e._currentValue=t}function su(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xi(e,t){Fo=e,sd=Ui=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Jt=!0),e.firstContext=null)}function Nn(e){var t=e._currentValue;if(sd!==e)if(e={context:e,memoizedValue:t,next:null},Ui===null){if(Fo===null)throw Error(ie(308));Ui=e,Fo.dependencies={lanes:0,firstContext:e}}else Ui=Ui.next=e;return t}var oi=null;function cd(e){oi===null?oi=[e]:oi.push(e)}function og(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,cd(t)):(n.next=i.next,i.next=n),t.interleaved=n,mr(e,r)}function mr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Tr=!1;function ud(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ag(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,mr(e,n)}return i=r.interleaved,i===null?(t.next=t,cd(r)):(t.next=i.next,i.next=t),r.interleaved=t,mr(e,n)}function po(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yu(e,n)}}function hp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?i=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?i=l=t:l=l.next=t}else i=l=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wo(e,t,n,r){var i=e.updateQueue;Tr=!1;var l=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?l=u:o.next=u,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=c))}if(l!==null){var p=i.baseState;o=0,f=u=c=null,a=l;do{var h=a.lane,m=a.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,E=a;switch(h=t,m=n,E.tag){case 1:if(x=E.payload,typeof x=="function"){p=x.call(m,p,h);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=E.payload,h=typeof x=="function"?x.call(m,p,h):x,h==null)break e;p=ot({},p,h);break e;case 2:Tr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=m,c=p):f=f.next=m,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(c=p),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else l===null&&(i.shared.lanes=0);mi|=o,e.lanes=o,e.memoizedState=p}}function mp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ie(191,i));i.call(r)}}}var ys={},nr=Gr(ys),ls=Gr(ys),ss=Gr(ys);function ai(e){if(e===ys)throw Error(ie(174));return e}function dd(e,t){switch(Qe(ss,t),Qe(ls,e),Qe(nr,ys),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wc(t,e)}Je(nr),Qe(nr,t)}function il(){Je(nr),Je(ls),Je(ss)}function cg(e){ai(ss.current);var t=ai(nr.current),n=Wc(t,e.type);t!==n&&(Qe(ls,e),Qe(nr,n))}function fd(e){ls.current===e&&(Je(nr),Je(ls))}var lt=Gr(0);function Bo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ic=[];function pd(){for(var e=0;e<ic.length;e++)ic[e]._workInProgressVersionPrimary=null;ic.length=0}var ho=xr.ReactCurrentDispatcher,lc=xr.ReactCurrentBatchConfig,hi=0,st=null,kt=null,Ct=null,$o=!1,Bl=!1,os=0,qw=0;function It(){throw Error(ie(321))}function hd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wn(e[n],t[n]))return!1;return!0}function md(e,t,n,r,i,l){if(hi=l,st=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=e===null||e.memoizedState===null?n1:r1,e=n(r,i),Bl){l=0;do{if(Bl=!1,os=0,25<=l)throw Error(ie(301));l+=1,Ct=kt=null,t.updateQueue=null,ho.current=i1,e=n(r,i)}while(Bl)}if(ho.current=Uo,t=kt!==null&&kt.next!==null,hi=0,Ct=kt=st=null,$o=!1,t)throw Error(ie(300));return e}function gd(){var e=os!==0;return os=0,e}function Jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?st.memoizedState=Ct=e:Ct=Ct.next=e,Ct}function En(){if(kt===null){var e=st.alternate;e=e!==null?e.memoizedState:null}else e=kt.next;var t=Ct===null?st.memoizedState:Ct.next;if(t!==null)Ct=t,kt=e;else{if(e===null)throw Error(ie(310));kt=e,e={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Ct===null?st.memoizedState=Ct=e:Ct=Ct.next=e}return Ct}function as(e,t){return typeof t=="function"?t(e):t}function sc(e){var t=En(),n=t.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=e;var r=kt,i=r.baseQueue,l=n.pending;if(l!==null){if(i!==null){var o=i.next;i.next=l.next,l.next=o}r.baseQueue=i=l,n.pending=null}if(i!==null){l=i.next,r=r.baseState;var a=o=null,c=null,u=l;do{var f=u.lane;if((hi&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=p,o=r):c=c.next=p,st.lanes|=f,mi|=f}u=u.next}while(u!==null&&u!==l);c===null?o=r:c.next=a,Wn(r,t.memoizedState)||(Jt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do l=i.lane,st.lanes|=l,mi|=l,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function oc(e){var t=En(),n=t.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,l=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do l=e(l,o.action),o=o.next;while(o!==i);Wn(l,t.memoizedState)||(Jt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function ug(){}function dg(e,t){var n=st,r=En(),i=t(),l=!Wn(r.memoizedState,i);if(l&&(r.memoizedState=i,Jt=!0),r=r.queue,yd(hg.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Ct!==null&&Ct.memoizedState.tag&1){if(n.flags|=2048,cs(9,pg.bind(null,n,r,i,t),void 0,null),jt===null)throw Error(ie(349));hi&30||fg(n,t,i)}return i}function fg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function pg(e,t,n,r){t.value=n,t.getSnapshot=r,mg(t)&&gg(e)}function hg(e,t,n){return n(function(){mg(t)&&gg(e)})}function mg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wn(e,n)}catch{return!0}}function gg(e){var t=mr(e,1);t!==null&&Fn(t,e,1,-1)}function gp(e){var t=Jn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:e},t.queue=e,e=e.dispatch=t1.bind(null,st,e),[t.memoizedState,e]}function cs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function yg(){return En().memoizedState}function mo(e,t,n,r){var i=Jn();st.flags|=e,i.memoizedState=cs(1|t,n,void 0,r===void 0?null:r)}function sa(e,t,n,r){var i=En();r=r===void 0?null:r;var l=void 0;if(kt!==null){var o=kt.memoizedState;if(l=o.destroy,r!==null&&hd(r,o.deps)){i.memoizedState=cs(t,n,l,r);return}}st.flags|=e,i.memoizedState=cs(1|t,n,l,r)}function yp(e,t){return mo(8390656,8,e,t)}function yd(e,t){return sa(2048,8,e,t)}function xg(e,t){return sa(4,2,e,t)}function vg(e,t){return sa(4,4,e,t)}function wg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kg(e,t,n){return n=n!=null?n.concat([e]):null,sa(4,4,wg.bind(null,t,e),n)}function xd(){}function Sg(e,t){var n=En();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Cg(e,t){var n=En();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function jg(e,t,n){return hi&21?(Wn(n,t)||(n=Tm(),st.lanes|=n,mi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Jt=!0),e.memoizedState=n)}function Zw(e,t){var n=Ge;Ge=n!==0&&4>n?n:4,e(!0);var r=lc.transition;lc.transition={};try{e(!1),t()}finally{Ge=n,lc.transition=r}}function bg(){return En().memoizedState}function e1(e,t,n){var r=Br(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ng(e))Eg(t,n);else if(n=og(e,t,n,r),n!==null){var i=Vt();Fn(n,e,r,i),_g(n,t,r)}}function t1(e,t,n){var r=Br(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ng(e))Eg(t,i);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,a=l(o,n);if(i.hasEagerState=!0,i.eagerState=a,Wn(a,o)){var c=t.interleaved;c===null?(i.next=i,cd(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=og(e,t,i,r),n!==null&&(i=Vt(),Fn(n,e,r,i),_g(n,t,r))}}function Ng(e){var t=e.alternate;return e===st||t!==null&&t===st}function Eg(e,t){Bl=$o=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function _g(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yu(e,n)}}var Uo={readContext:Nn,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},n1={readContext:Nn,useCallback:function(e,t){return Jn().memoizedState=[e,t===void 0?null:t],e},useContext:Nn,useEffect:yp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,mo(4194308,4,wg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return mo(4,2,e,t)},useMemo:function(e,t){var n=Jn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Jn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=e1.bind(null,st,e),[r.memoizedState,e]},useRef:function(e){var t=Jn();return e={current:e},t.memoizedState=e},useState:gp,useDebugValue:xd,useDeferredValue:function(e){return Jn().memoizedState=e},useTransition:function(){var e=gp(!1),t=e[0];return e=Zw.bind(null,e[1]),Jn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=st,i=Jn();if(tt){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=t(),jt===null)throw Error(ie(349));hi&30||fg(r,t,n)}i.memoizedState=n;var l={value:n,getSnapshot:t};return i.queue=l,yp(hg.bind(null,r,l,e),[e]),r.flags|=2048,cs(9,pg.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Jn(),t=jt.identifierPrefix;if(tt){var n=dr,r=ur;n=(r&~(1<<32-Mn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=os++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=qw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},r1={readContext:Nn,useCallback:Sg,useContext:Nn,useEffect:yd,useImperativeHandle:kg,useInsertionEffect:xg,useLayoutEffect:vg,useMemo:Cg,useReducer:sc,useRef:yg,useState:function(){return sc(as)},useDebugValue:xd,useDeferredValue:function(e){var t=En();return jg(t,kt.memoizedState,e)},useTransition:function(){var e=sc(as)[0],t=En().memoizedState;return[e,t]},useMutableSource:ug,useSyncExternalStore:dg,useId:bg,unstable_isNewReconciler:!1},i1={readContext:Nn,useCallback:Sg,useContext:Nn,useEffect:yd,useImperativeHandle:kg,useInsertionEffect:xg,useLayoutEffect:vg,useMemo:Cg,useReducer:oc,useRef:yg,useState:function(){return oc(as)},useDebugValue:xd,useDeferredValue:function(e){var t=En();return kt===null?t.memoizedState=e:jg(t,kt.memoizedState,e)},useTransition:function(){var e=oc(as)[0],t=En().memoizedState;return[e,t]},useMutableSource:ug,useSyncExternalStore:dg,useId:bg,unstable_isNewReconciler:!1};function Dn(e,t){if(e&&e.defaultProps){t=ot({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ou(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ot({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var oa={isMounted:function(e){return(e=e._reactInternals)?xi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Vt(),i=Br(e),l=fr(r,i);l.payload=t,n!=null&&(l.callback=n),t=Fr(e,l,i),t!==null&&(Fn(t,e,i,r),po(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Vt(),i=Br(e),l=fr(r,i);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Fr(e,l,i),t!==null&&(Fn(t,e,i,r),po(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Vt(),r=Br(e),i=fr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Fr(e,i,r),t!==null&&(Fn(t,e,r,n),po(t,e,r))}};function xp(e,t,n,r,i,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,o):t.prototype&&t.prototype.isPureReactComponent?!ts(n,r)||!ts(i,l):!0}function Tg(e,t,n){var r=!1,i=Hr,l=t.contextType;return typeof l=="object"&&l!==null?l=Nn(l):(i=Zt(t)?fi:Ot.current,r=t.contextTypes,l=(r=r!=null)?tl(e,i):Hr),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=l),t}function vp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function au(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},ud(e);var l=t.contextType;typeof l=="object"&&l!==null?i.context=Nn(l):(l=Zt(t)?fi:Ot.current,i.context=tl(e,l)),i.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(ou(e,t,l,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&oa.enqueueReplaceState(i,i.state,null),Wo(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ll(e,t){try{var n="",r=t;do n+=Lv(r),r=r.return;while(r);var i=n}catch(l){i=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:i,digest:null}}function ac(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function cu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var l1=typeof WeakMap=="function"?WeakMap:Map;function Pg(e,t,n){n=fr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vo||(Vo=!0,vu=r),cu(e,t)},n}function Rg(e,t,n){n=fr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){cu(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){cu(e,t),typeof r!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function wp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new l1;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=v1.bind(null,e,t,n),t.then(e,e))}function kp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Sp(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=fr(-1,1),t.tag=2,Fr(n,t,1))),n.lanes|=1),e)}var s1=xr.ReactCurrentOwner,Jt=!1;function Ht(e,t,n,r){t.child=e===null?sg(t,null,n,r):rl(t,e.child,n,r)}function Cp(e,t,n,r,i){n=n.render;var l=t.ref;return Xi(t,i),r=md(e,t,n,r,l,i),n=gd(),e!==null&&!Jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gr(e,t,i)):(tt&&n&&rd(t),t.flags|=1,Ht(e,t,r,i),t.child)}function jp(e,t,n,r,i){if(e===null){var l=n.type;return typeof l=="function"&&!Nd(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Lg(e,t,l,r,i)):(e=vo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&i)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:ts,n(o,r)&&e.ref===t.ref)return gr(e,t,i)}return t.flags|=1,e=$r(l,r),e.ref=t.ref,e.return=t,t.child=e}function Lg(e,t,n,r,i){if(e!==null){var l=e.memoizedProps;if(ts(l,r)&&e.ref===t.ref)if(Jt=!1,t.pendingProps=r=l,(e.lanes&i)!==0)e.flags&131072&&(Jt=!0);else return t.lanes=e.lanes,gr(e,t,i)}return uu(e,t,n,r,i)}function Ig(e,t,n){var r=t.pendingProps,i=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Vi,un),un|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qe(Vi,un),un|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,Qe(Vi,un),un|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,Qe(Vi,un),un|=r;return Ht(e,t,i,n),t.child}function Ag(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function uu(e,t,n,r,i){var l=Zt(n)?fi:Ot.current;return l=tl(t,l),Xi(t,i),n=md(e,t,n,r,l,i),r=gd(),e!==null&&!Jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gr(e,t,i)):(tt&&r&&rd(t),t.flags|=1,Ht(e,t,n,i),t.child)}function bp(e,t,n,r,i){if(Zt(n)){var l=!0;Do(t)}else l=!1;if(Xi(t,i),t.stateNode===null)go(e,t),Tg(t,n,r),au(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Nn(u):(u=Zt(n)?fi:Ot.current,u=tl(t,u));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&vp(t,o,r,u),Tr=!1;var h=t.memoizedState;o.state=h,Wo(t,r,o,i),c=t.memoizedState,a!==r||h!==c||qt.current||Tr?(typeof f=="function"&&(ou(t,n,f,r),c=t.memoizedState),(a=Tr||xp(t,n,a,r,h,c,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ag(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Dn(t.type,a),o.props=u,p=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Nn(c):(c=Zt(n)?fi:Ot.current,c=tl(t,c));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||h!==c)&&vp(t,o,r,c),Tr=!1,h=t.memoizedState,o.state=h,Wo(t,r,o,i);var x=t.memoizedState;a!==p||h!==x||qt.current||Tr?(typeof m=="function"&&(ou(t,n,m,r),x=t.memoizedState),(u=Tr||xp(t,n,u,r,h,x,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return du(e,t,n,r,l,i)}function du(e,t,n,r,i,l){Ag(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&up(t,n,!1),gr(e,t,l);r=t.stateNode,s1.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=rl(t,e.child,null,l),t.child=rl(t,null,a,l)):Ht(e,t,a,l),t.memoizedState=r.state,i&&up(t,n,!0),t.child}function Dg(e){var t=e.stateNode;t.pendingContext?cp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cp(e,t.context,!1),dd(e,t.containerInfo)}function Np(e,t,n,r,i){return nl(),ld(i),t.flags|=256,Ht(e,t,n,r),t.child}var fu={dehydrated:null,treeContext:null,retryLane:0};function pu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Og(e,t,n){var r=t.pendingProps,i=lt.current,l=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Qe(lt,i&1),e===null)return lu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,l?(r=t.mode,l=t.child,o={mode:"hidden",children:o},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=ua(o,r,0,null),e=di(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=pu(n),t.memoizedState=fu,e):vd(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return o1(e,t,o,r,a,i,n);if(l){l=r.fallback,o=t.mode,i=e.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=$r(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?l=$r(a,l):(l=di(l,o,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,o=e.child.memoizedState,o=o===null?pu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=fu,r}return l=e.child,e=l.sibling,r=$r(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function vd(e,t){return t=ua({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Js(e,t,n,r){return r!==null&&ld(r),rl(t,e.child,null,n),e=vd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function o1(e,t,n,r,i,l,o){if(n)return t.flags&256?(t.flags&=-257,r=ac(Error(ie(422))),Js(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,i=t.mode,r=ua({mode:"visible",children:r.children},i,0,null),l=di(l,i,o,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&rl(t,e.child,null,o),t.child.memoizedState=pu(o),t.memoizedState=fu,l);if(!(t.mode&1))return Js(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,l=Error(ie(419)),r=ac(l,r,void 0),Js(e,t,o,r)}if(a=(o&e.childLanes)!==0,Jt||a){if(r=jt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==l.retryLane&&(l.retryLane=i,mr(e,i),Fn(r,e,i,-1))}return bd(),r=ac(Error(ie(421))),Js(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=w1.bind(null,e),i._reactRetry=t,null):(e=l.treeContext,dn=Mr(i.nextSibling),pn=t,tt=!0,zn=null,e!==null&&(wn[kn++]=ur,wn[kn++]=dr,wn[kn++]=pi,ur=e.id,dr=e.overflow,pi=t),t=vd(t,r.children),t.flags|=4096,t)}function Ep(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),su(e.return,t,n)}function cc(e,t,n,r,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=i)}function zg(e,t,n){var r=t.pendingProps,i=r.revealOrder,l=r.tail;if(Ht(e,t,r.children,n),r=lt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ep(e,n,t);else if(e.tag===19)Ep(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Qe(lt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Bo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),cc(t,!1,i,n,l);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Bo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}cc(t,!0,n,null,l);break;case"together":cc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function go(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),mi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ie(153));if(t.child!==null){for(e=t.child,n=$r(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=$r(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function a1(e,t,n){switch(t.tag){case 3:Dg(t),nl();break;case 5:cg(t);break;case 1:Zt(t.type)&&Do(t);break;case 4:dd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Qe(Mo,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Qe(lt,lt.current&1),t.flags|=128,null):n&t.child.childLanes?Og(e,t,n):(Qe(lt,lt.current&1),e=gr(e,t,n),e!==null?e.sibling:null);Qe(lt,lt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return zg(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qe(lt,lt.current),r)break;return null;case 22:case 23:return t.lanes=0,Ig(e,t,n)}return gr(e,t,n)}var Mg,hu,Fg,Wg;Mg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hu=function(){};Fg=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ai(nr.current);var l=null;switch(n){case"input":i=Oc(e,i),r=Oc(e,r),l=[];break;case"select":i=ot({},i,{value:void 0}),r=ot({},r,{value:void 0}),l=[];break;case"textarea":i=Fc(e,i),r=Fc(e,r),l=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Io)}Bc(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ql.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in r){var c=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(l||(l=[]),l.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(l=l||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ql.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Xe("scroll",e),l||a===c||(l=[])):(l=l||[]).push(u,c))}n&&(l=l||[]).push("style",n);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};Wg=function(e,t,n,r){n!==r&&(t.flags|=4)};function Nl(e,t){if(!tt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function At(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function c1(e,t,n){var r=t.pendingProps;switch(id(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(t),null;case 1:return Zt(t.type)&&Ao(),At(t),null;case 3:return r=t.stateNode,il(),Je(qt),Je(Ot),pd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ys(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zn!==null&&(Su(zn),zn=null))),hu(e,t),At(t),null;case 5:fd(t);var i=ai(ss.current);if(n=t.type,e!==null&&t.stateNode!=null)Fg(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ie(166));return At(t),null}if(e=ai(nr.current),Ys(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Zn]=t,r[is]=l,e=(t.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(i=0;i<Dl.length;i++)Xe(Dl[i],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":Of(r,l),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Xe("invalid",r);break;case"textarea":Mf(r,l),Xe("invalid",r)}Bc(n,l),i=null;for(var o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="children"?typeof a=="string"?r.textContent!==a&&(l.suppressHydrationWarning!==!0&&Qs(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(l.suppressHydrationWarning!==!0&&Qs(r.textContent,a,e),i=["children",""+a]):Ql.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Xe("scroll",r)}switch(n){case"input":Ws(r),zf(r,l,!0);break;case"textarea":Ws(r),Ff(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Io)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Zn]=t,e[is]=r,Mg(e,t,!1,!1),t.stateNode=e;e:{switch(o=$c(n,r),n){case"dialog":Xe("cancel",e),Xe("close",e),i=r;break;case"iframe":case"object":case"embed":Xe("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dl.length;i++)Xe(Dl[i],e);i=r;break;case"source":Xe("error",e),i=r;break;case"img":case"image":case"link":Xe("error",e),Xe("load",e),i=r;break;case"details":Xe("toggle",e),i=r;break;case"input":Of(e,r),i=Oc(e,r),Xe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ot({},r,{value:void 0}),Xe("invalid",e);break;case"textarea":Mf(e,r),i=Fc(e,r),Xe("invalid",e);break;default:i=r}Bc(n,i),a=i;for(l in a)if(a.hasOwnProperty(l)){var c=a[l];l==="style"?ym(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&mm(e,c)):l==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Yl(e,c):typeof c=="number"&&Yl(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ql.hasOwnProperty(l)?c!=null&&l==="onScroll"&&Xe("scroll",e):c!=null&&Uu(e,l,c,o))}switch(n){case"input":Ws(e),zf(e,r,!1);break;case"textarea":Ws(e),Ff(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ur(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?Gi(e,!!r.multiple,l,!1):r.defaultValue!=null&&Gi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Io)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return At(t),null;case 6:if(e&&t.stateNode!=null)Wg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ie(166));if(n=ai(ss.current),ai(nr.current),Ys(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zn]=t,(l=r.nodeValue!==n)&&(e=pn,e!==null))switch(e.tag){case 3:Qs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qs(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zn]=t,t.stateNode=r}return At(t),null;case 13:if(Je(lt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tt&&dn!==null&&t.mode&1&&!(t.flags&128))ig(),nl(),t.flags|=98560,l=!1;else if(l=Ys(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(ie(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(ie(317));l[Zn]=t}else nl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;At(t),l=!1}else zn!==null&&(Su(zn),zn=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||lt.current&1?St===0&&(St=3):bd())),t.updateQueue!==null&&(t.flags|=4),At(t),null);case 4:return il(),hu(e,t),e===null&&ns(t.stateNode.containerInfo),At(t),null;case 10:return ad(t.type._context),At(t),null;case 17:return Zt(t.type)&&Ao(),At(t),null;case 19:if(Je(lt),l=t.memoizedState,l===null)return At(t),null;if(r=(t.flags&128)!==0,o=l.rendering,o===null)if(r)Nl(l,!1);else{if(St!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Bo(e),o!==null){for(t.flags|=128,Nl(l,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Qe(lt,lt.current&1|2),t.child}e=e.sibling}l.tail!==null&&pt()>sl&&(t.flags|=128,r=!0,Nl(l,!1),t.lanes=4194304)}else{if(!r)if(e=Bo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Nl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!tt)return At(t),null}else 2*pt()-l.renderingStartTime>sl&&n!==1073741824&&(t.flags|=128,r=!0,Nl(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(n=l.last,n!==null?n.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=pt(),t.sibling=null,n=lt.current,Qe(lt,r?n&1|2:n&1),t):(At(t),null);case 22:case 23:return jd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?un&1073741824&&(At(t),t.subtreeFlags&6&&(t.flags|=8192)):At(t),null;case 24:return null;case 25:return null}throw Error(ie(156,t.tag))}function u1(e,t){switch(id(t),t.tag){case 1:return Zt(t.type)&&Ao(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return il(),Je(qt),Je(Ot),pd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fd(t),null;case 13:if(Je(lt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ie(340));nl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Je(lt),null;case 4:return il(),null;case 10:return ad(t.type._context),null;case 22:case 23:return jd(),null;case 24:return null;default:return null}}var qs=!1,Dt=!1,d1=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Hi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ut(e,t,r)}else n.current=null}function mu(e,t,n){try{n()}catch(r){ut(e,t,r)}}var _p=!1;function f1(e,t){if(qc=Po,e=Vm(),nd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,f=0,p=e,h=null;t:for(;;){for(var m;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==l||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(m=p.firstChild)!==null;)h=p,p=m;for(;;){if(p===e)break t;if(h===n&&++u===i&&(a=o),h===l&&++f===r&&(c=o),(m=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zc={focusedElem:e,selectionRange:n},Po=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var E=x.memoizedProps,I=x.memoizedState,k=t.stateNode,w=k.getSnapshotBeforeUpdate(t.elementType===t.type?E:Dn(t.type,E),I);k.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(L){ut(t,t.return,L)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return x=_p,_p=!1,x}function $l(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var l=i.destroy;i.destroy=void 0,l!==void 0&&mu(t,n,l)}i=i.next}while(i!==r)}}function aa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function gu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Bg(e){var t=e.alternate;t!==null&&(e.alternate=null,Bg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zn],delete t[is],delete t[nu],delete t[Qw],delete t[Yw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $g(e){return e.tag===5||e.tag===3||e.tag===4}function Tp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$g(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Io));else if(r!==4&&(e=e.child,e!==null))for(yu(e,t,n),e=e.sibling;e!==null;)yu(e,t,n),e=e.sibling}function xu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(xu(e,t,n),e=e.sibling;e!==null;)xu(e,t,n),e=e.sibling}var Nt=null,On=!1;function Nr(e,t,n){for(n=n.child;n!==null;)Ug(e,t,n),n=n.sibling}function Ug(e,t,n){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(ea,n)}catch{}switch(n.tag){case 5:Dt||Hi(n,t);case 6:var r=Nt,i=On;Nt=null,Nr(e,t,n),Nt=r,On=i,Nt!==null&&(On?(e=Nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&(On?(e=Nt,n=n.stateNode,e.nodeType===8?nc(e.parentNode,n):e.nodeType===1&&nc(e,n),Zl(e)):nc(Nt,n.stateNode));break;case 4:r=Nt,i=On,Nt=n.stateNode.containerInfo,On=!0,Nr(e,t,n),Nt=r,On=i;break;case 0:case 11:case 14:case 15:if(!Dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var l=i,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&mu(n,t,o),i=i.next}while(i!==r)}Nr(e,t,n);break;case 1:if(!Dt&&(Hi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ut(n,t,a)}Nr(e,t,n);break;case 21:Nr(e,t,n);break;case 22:n.mode&1?(Dt=(r=Dt)||n.memoizedState!==null,Nr(e,t,n),Dt=r):Nr(e,t,n);break;default:Nr(e,t,n)}}function Pp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new d1),t.forEach(function(r){var i=k1.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ln(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var l=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Nt=a.stateNode,On=!1;break e;case 3:Nt=a.stateNode.containerInfo,On=!0;break e;case 4:Nt=a.stateNode.containerInfo,On=!0;break e}a=a.return}if(Nt===null)throw Error(ie(160));Ug(l,o,i),Nt=null,On=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){ut(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Hg(t,e),t=t.sibling}function Hg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ln(t,e),Xn(e),r&4){try{$l(3,e,e.return),aa(3,e)}catch(E){ut(e,e.return,E)}try{$l(5,e,e.return)}catch(E){ut(e,e.return,E)}}break;case 1:Ln(t,e),Xn(e),r&512&&n!==null&&Hi(n,n.return);break;case 5:if(Ln(t,e),Xn(e),r&512&&n!==null&&Hi(n,n.return),e.flags&32){var i=e.stateNode;try{Yl(i,"")}catch(E){ut(e,e.return,E)}}if(r&4&&(i=e.stateNode,i!=null)){var l=e.memoizedProps,o=n!==null?n.memoizedProps:l,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&l.type==="radio"&&l.name!=null&&fm(i,l),$c(a,o);var u=$c(a,l);for(o=0;o<c.length;o+=2){var f=c[o],p=c[o+1];f==="style"?ym(i,p):f==="dangerouslySetInnerHTML"?mm(i,p):f==="children"?Yl(i,p):Uu(i,f,p,u)}switch(a){case"input":zc(i,l);break;case"textarea":pm(i,l);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!l.multiple;var m=l.value;m!=null?Gi(i,!!l.multiple,m,!1):h!==!!l.multiple&&(l.defaultValue!=null?Gi(i,!!l.multiple,l.defaultValue,!0):Gi(i,!!l.multiple,l.multiple?[]:"",!1))}i[is]=l}catch(E){ut(e,e.return,E)}}break;case 6:if(Ln(t,e),Xn(e),r&4){if(e.stateNode===null)throw Error(ie(162));i=e.stateNode,l=e.memoizedProps;try{i.nodeValue=l}catch(E){ut(e,e.return,E)}}break;case 3:if(Ln(t,e),Xn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zl(t.containerInfo)}catch(E){ut(e,e.return,E)}break;case 4:Ln(t,e),Xn(e);break;case 13:Ln(t,e),Xn(e),i=e.child,i.flags&8192&&(l=i.memoizedState!==null,i.stateNode.isHidden=l,!l||i.alternate!==null&&i.alternate.memoizedState!==null||(Sd=pt())),r&4&&Pp(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Dt=(u=Dt)||f,Ln(t,e),Dt=u):Ln(t,e),Xn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(pe=e,f=e.child;f!==null;){for(p=pe=f;pe!==null;){switch(h=pe,m=h.child,h.tag){case 0:case 11:case 14:case 15:$l(4,h,h.return);break;case 1:Hi(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(E){ut(r,n,E)}}break;case 5:Hi(h,h.return);break;case 22:if(h.memoizedState!==null){Lp(p);continue}}m!==null?(m.return=h,pe=m):Lp(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,u?(l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(a=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=gm("display",o))}catch(E){ut(e,e.return,E)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(E){ut(e,e.return,E)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ln(t,e),Xn(e),r&4&&Pp(e);break;case 21:break;default:Ln(t,e),Xn(e)}}function Xn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if($g(n)){var r=n;break e}n=n.return}throw Error(ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Yl(i,""),r.flags&=-33);var l=Tp(e);xu(e,l,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Tp(e);yu(e,a,o);break;default:throw Error(ie(161))}}catch(c){ut(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function p1(e,t,n){pe=e,Vg(e)}function Vg(e,t,n){for(var r=(e.mode&1)!==0;pe!==null;){var i=pe,l=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||qs;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Dt;a=qs;var u=Dt;if(qs=o,(Dt=c)&&!u)for(pe=i;pe!==null;)o=pe,c=o.child,o.tag===22&&o.memoizedState!==null?Ip(i):c!==null?(c.return=o,pe=c):Ip(i);for(;l!==null;)pe=l,Vg(l),l=l.sibling;pe=i,qs=a,Dt=u}Rp(e)}else i.subtreeFlags&8772&&l!==null?(l.return=i,pe=l):Rp(e)}}function Rp(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dt||aa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Dt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Dn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&mp(t,l,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}mp(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Zl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}Dt||t.flags&512&&gu(t)}catch(h){ut(t,t.return,h)}}if(t===e){pe=null;break}if(n=t.sibling,n!==null){n.return=t.return,pe=n;break}pe=t.return}}function Lp(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,pe=n;break}pe=t.return}}function Ip(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{aa(4,t)}catch(c){ut(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){ut(t,i,c)}}var l=t.return;try{gu(t)}catch(c){ut(t,l,c)}break;case 5:var o=t.return;try{gu(t)}catch(c){ut(t,o,c)}}}catch(c){ut(t,t.return,c)}if(t===e){pe=null;break}var a=t.sibling;if(a!==null){a.return=t.return,pe=a;break}pe=t.return}}var h1=Math.ceil,Ho=xr.ReactCurrentDispatcher,wd=xr.ReactCurrentOwner,bn=xr.ReactCurrentBatchConfig,ze=0,jt=null,yt=null,Et=0,un=0,Vi=Gr(0),St=0,us=null,mi=0,ca=0,kd=0,Ul=null,Xt=null,Sd=0,sl=1/0,ar=null,Vo=!1,vu=null,Wr=null,Zs=!1,Ar=null,Go=0,Hl=0,wu=null,yo=-1,xo=0;function Vt(){return ze&6?pt():yo!==-1?yo:yo=pt()}function Br(e){return e.mode&1?ze&2&&Et!==0?Et&-Et:Jw.transition!==null?(xo===0&&(xo=Tm()),xo):(e=Ge,e!==0||(e=window.event,e=e===void 0?16:Om(e.type)),e):1}function Fn(e,t,n,r){if(50<Hl)throw Hl=0,wu=null,Error(ie(185));hs(e,n,r),(!(ze&2)||e!==jt)&&(e===jt&&(!(ze&2)&&(ca|=n),St===4&&Lr(e,Et)),en(e,r),n===1&&ze===0&&!(t.mode&1)&&(sl=pt()+500,la&&Kr()))}function en(e,t){var n=e.callbackNode;Jv(e,t);var r=To(e,e===jt?Et:0);if(r===0)n!==null&&$f(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&$f(n),t===1)e.tag===0?Xw(Ap.bind(null,e)):tg(Ap.bind(null,e)),Gw(function(){!(ze&6)&&Kr()}),n=null;else{switch(Pm(r)){case 1:n=Qu;break;case 4:n=Em;break;case 16:n=_o;break;case 536870912:n=_m;break;default:n=_o}n=Zg(n,Gg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Gg(e,t){if(yo=-1,xo=0,ze&6)throw Error(ie(327));var n=e.callbackNode;if(Ji()&&e.callbackNode!==n)return null;var r=To(e,e===jt?Et:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ko(e,r);else{t=r;var i=ze;ze|=2;var l=Qg();(jt!==e||Et!==t)&&(ar=null,sl=pt()+500,ui(e,t));do try{y1();break}catch(a){Kg(e,a)}while(!0);od(),Ho.current=l,ze=i,yt!==null?t=0:(jt=null,Et=0,t=St)}if(t!==0){if(t===2&&(i=Kc(e),i!==0&&(r=i,t=ku(e,i))),t===1)throw n=us,ui(e,0),Lr(e,r),en(e,pt()),n;if(t===6)Lr(e,r);else{if(i=e.current.alternate,!(r&30)&&!m1(i)&&(t=Ko(e,r),t===2&&(l=Kc(e),l!==0&&(r=l,t=ku(e,l))),t===1))throw n=us,ui(e,0),Lr(e,r),en(e,pt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ie(345));case 2:ii(e,Xt,ar);break;case 3:if(Lr(e,r),(r&130023424)===r&&(t=Sd+500-pt(),10<t)){if(To(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Vt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=tu(ii.bind(null,e,Xt,ar),t);break}ii(e,Xt,ar);break;case 4:if(Lr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Mn(r);l=1<<o,o=t[o],o>i&&(i=o),r&=~l}if(r=i,r=pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*h1(r/1960))-r,10<r){e.timeoutHandle=tu(ii.bind(null,e,Xt,ar),r);break}ii(e,Xt,ar);break;case 5:ii(e,Xt,ar);break;default:throw Error(ie(329))}}}return en(e,pt()),e.callbackNode===n?Gg.bind(null,e):null}function ku(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(ui(e,t).flags|=256),e=Ko(e,t),e!==2&&(t=Xt,Xt=n,t!==null&&Su(t)),e}function Su(e){Xt===null?Xt=e:Xt.push.apply(Xt,e)}function m1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],l=i.getSnapshot;i=i.value;try{if(!Wn(l(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lr(e,t){for(t&=~kd,t&=~ca,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Mn(t),r=1<<n;e[n]=-1,t&=~r}}function Ap(e){if(ze&6)throw Error(ie(327));Ji();var t=To(e,0);if(!(t&1))return en(e,pt()),null;var n=Ko(e,t);if(e.tag!==0&&n===2){var r=Kc(e);r!==0&&(t=r,n=ku(e,r))}if(n===1)throw n=us,ui(e,0),Lr(e,t),en(e,pt()),n;if(n===6)throw Error(ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ii(e,Xt,ar),en(e,pt()),null}function Cd(e,t){var n=ze;ze|=1;try{return e(t)}finally{ze=n,ze===0&&(sl=pt()+500,la&&Kr())}}function gi(e){Ar!==null&&Ar.tag===0&&!(ze&6)&&Ji();var t=ze;ze|=1;var n=bn.transition,r=Ge;try{if(bn.transition=null,Ge=1,e)return e()}finally{Ge=r,bn.transition=n,ze=t,!(ze&6)&&Kr()}}function jd(){un=Vi.current,Je(Vi)}function ui(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Vw(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(id(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ao();break;case 3:il(),Je(qt),Je(Ot),pd();break;case 5:fd(r);break;case 4:il();break;case 13:Je(lt);break;case 19:Je(lt);break;case 10:ad(r.type._context);break;case 22:case 23:jd()}n=n.return}if(jt=e,yt=e=$r(e.current,null),Et=un=t,St=0,us=null,kd=ca=mi=0,Xt=Ul=null,oi!==null){for(t=0;t<oi.length;t++)if(n=oi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,l=n.pending;if(l!==null){var o=l.next;l.next=i,r.next=o}n.pending=r}oi=null}return e}function Kg(e,t){do{var n=yt;try{if(od(),ho.current=Uo,$o){for(var r=st.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$o=!1}if(hi=0,Ct=kt=st=null,Bl=!1,os=0,wd.current=null,n===null||n.return===null){St=1,us=t,yt=null;break}e:{var l=e,o=n.return,a=n,c=t;if(t=Et,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=a,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=kp(o);if(m!==null){m.flags&=-257,Sp(m,o,a,l,t),m.mode&1&&wp(l,u,t),t=m,c=u;var x=t.updateQueue;if(x===null){var E=new Set;E.add(c),t.updateQueue=E}else x.add(c);break e}else{if(!(t&1)){wp(l,u,t),bd();break e}c=Error(ie(426))}}else if(tt&&a.mode&1){var I=kp(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),Sp(I,o,a,l,t),ld(ll(c,a));break e}}l=c=ll(c,a),St!==4&&(St=2),Ul===null?Ul=[l]:Ul.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var k=Pg(l,c,t);hp(l,k);break e;case 1:a=c;var w=l.type,S=l.stateNode;if(!(l.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Wr===null||!Wr.has(S)))){l.flags|=65536,t&=-t,l.lanes|=t;var L=Rg(l,a,t);hp(l,L);break e}}l=l.return}while(l!==null)}Xg(n)}catch(A){t=A,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(!0)}function Qg(){var e=Ho.current;return Ho.current=Uo,e===null?Uo:e}function bd(){(St===0||St===3||St===2)&&(St=4),jt===null||!(mi&268435455)&&!(ca&268435455)||Lr(jt,Et)}function Ko(e,t){var n=ze;ze|=2;var r=Qg();(jt!==e||Et!==t)&&(ar=null,ui(e,t));do try{g1();break}catch(i){Kg(e,i)}while(!0);if(od(),ze=n,Ho.current=r,yt!==null)throw Error(ie(261));return jt=null,Et=0,St}function g1(){for(;yt!==null;)Yg(yt)}function y1(){for(;yt!==null&&!$v();)Yg(yt)}function Yg(e){var t=qg(e.alternate,e,un);e.memoizedProps=e.pendingProps,t===null?Xg(e):yt=t,wd.current=null}function Xg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=u1(n,t),n!==null){n.flags&=32767,yt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{St=6,yt=null;return}}else if(n=c1(n,t,un),n!==null){yt=n;return}if(t=t.sibling,t!==null){yt=t;return}yt=t=e}while(t!==null);St===0&&(St=5)}function ii(e,t,n){var r=Ge,i=bn.transition;try{bn.transition=null,Ge=1,x1(e,t,n,r)}finally{bn.transition=i,Ge=r}return null}function x1(e,t,n,r){do Ji();while(Ar!==null);if(ze&6)throw Error(ie(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ie(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(qv(e,l),e===jt&&(yt=jt=null,Et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zs||(Zs=!0,Zg(_o,function(){return Ji(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=bn.transition,bn.transition=null;var o=Ge;Ge=1;var a=ze;ze|=4,wd.current=null,f1(e,n),Hg(n,e),Mw(Zc),Po=!!qc,Zc=qc=null,e.current=n,p1(n),Uv(),ze=a,Ge=o,bn.transition=l}else e.current=n;if(Zs&&(Zs=!1,Ar=e,Go=i),l=e.pendingLanes,l===0&&(Wr=null),Gv(n.stateNode),en(e,pt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vo)throw Vo=!1,e=vu,vu=null,e;return Go&1&&e.tag!==0&&Ji(),l=e.pendingLanes,l&1?e===wu?Hl++:(Hl=0,wu=e):Hl=0,Kr(),null}function Ji(){if(Ar!==null){var e=Pm(Go),t=bn.transition,n=Ge;try{if(bn.transition=null,Ge=16>e?16:e,Ar===null)var r=!1;else{if(e=Ar,Ar=null,Go=0,ze&6)throw Error(ie(331));var i=ze;for(ze|=4,pe=e.current;pe!==null;){var l=pe,o=l.child;if(pe.flags&16){var a=l.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(pe=u;pe!==null;){var f=pe;switch(f.tag){case 0:case 11:case 15:$l(8,f,l)}var p=f.child;if(p!==null)p.return=f,pe=p;else for(;pe!==null;){f=pe;var h=f.sibling,m=f.return;if(Bg(f),f===u){pe=null;break}if(h!==null){h.return=m,pe=h;break}pe=m}}}var x=l.alternate;if(x!==null){var E=x.child;if(E!==null){x.child=null;do{var I=E.sibling;E.sibling=null,E=I}while(E!==null)}}pe=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,pe=o;else e:for(;pe!==null;){if(l=pe,l.flags&2048)switch(l.tag){case 0:case 11:case 15:$l(9,l,l.return)}var k=l.sibling;if(k!==null){k.return=l.return,pe=k;break e}pe=l.return}}var w=e.current;for(pe=w;pe!==null;){o=pe;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,pe=S;else e:for(o=w;pe!==null;){if(a=pe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:aa(9,a)}}catch(A){ut(a,a.return,A)}if(a===o){pe=null;break e}var L=a.sibling;if(L!==null){L.return=a.return,pe=L;break e}pe=a.return}}if(ze=i,Kr(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(ea,e)}catch{}r=!0}return r}finally{Ge=n,bn.transition=t}}return!1}function Dp(e,t,n){t=ll(n,t),t=Pg(e,t,1),e=Fr(e,t,1),t=Vt(),e!==null&&(hs(e,1,t),en(e,t))}function ut(e,t,n){if(e.tag===3)Dp(e,e,n);else for(;t!==null;){if(t.tag===3){Dp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wr===null||!Wr.has(r))){e=ll(n,e),e=Rg(t,e,1),t=Fr(t,e,1),e=Vt(),t!==null&&(hs(t,1,e),en(t,e));break}}t=t.return}}function v1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Vt(),e.pingedLanes|=e.suspendedLanes&n,jt===e&&(Et&n)===n&&(St===4||St===3&&(Et&130023424)===Et&&500>pt()-Sd?ui(e,0):kd|=n),en(e,t)}function Jg(e,t){t===0&&(e.mode&1?(t=Us,Us<<=1,!(Us&130023424)&&(Us=4194304)):t=1);var n=Vt();e=mr(e,t),e!==null&&(hs(e,t,n),en(e,n))}function w1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Jg(e,n)}function k1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ie(314))}r!==null&&r.delete(t),Jg(e,n)}var qg;qg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qt.current)Jt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Jt=!1,a1(e,t,n);Jt=!!(e.flags&131072)}else Jt=!1,tt&&t.flags&1048576&&ng(t,zo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;go(e,t),e=t.pendingProps;var i=tl(t,Ot.current);Xi(t,n),i=md(null,t,r,e,i,n);var l=gd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zt(r)?(l=!0,Do(t)):l=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ud(t),i.updater=oa,t.stateNode=i,i._reactInternals=t,au(t,r,e,n),t=du(null,t,r,!0,l,n)):(t.tag=0,tt&&l&&rd(t),Ht(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(go(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=C1(r),e=Dn(r,e),i){case 0:t=uu(null,t,r,e,n);break e;case 1:t=bp(null,t,r,e,n);break e;case 11:t=Cp(null,t,r,e,n);break e;case 14:t=jp(null,t,r,Dn(r.type,e),n);break e}throw Error(ie(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Dn(r,i),uu(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Dn(r,i),bp(e,t,r,i,n);case 3:e:{if(Dg(t),e===null)throw Error(ie(387));r=t.pendingProps,l=t.memoizedState,i=l.element,ag(e,t),Wo(t,r,null,n);var o=t.memoizedState;if(r=o.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){i=ll(Error(ie(423)),t),t=Np(e,t,r,n,i);break e}else if(r!==i){i=ll(Error(ie(424)),t),t=Np(e,t,r,n,i);break e}else for(dn=Mr(t.stateNode.containerInfo.firstChild),pn=t,tt=!0,zn=null,n=sg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nl(),r===i){t=gr(e,t,n);break e}Ht(e,t,r,n)}t=t.child}return t;case 5:return cg(t),e===null&&lu(t),r=t.type,i=t.pendingProps,l=e!==null?e.memoizedProps:null,o=i.children,eu(r,i)?o=null:l!==null&&eu(r,l)&&(t.flags|=32),Ag(e,t),Ht(e,t,o,n),t.child;case 6:return e===null&&lu(t),null;case 13:return Og(e,t,n);case 4:return dd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=rl(t,null,r,n):Ht(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Dn(r,i),Cp(e,t,r,i,n);case 7:return Ht(e,t,t.pendingProps,n),t.child;case 8:return Ht(e,t,t.pendingProps.children,n),t.child;case 12:return Ht(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,l=t.memoizedProps,o=i.value,Qe(Mo,r._currentValue),r._currentValue=o,l!==null)if(Wn(l.value,o)){if(l.children===i.children&&!qt.current){t=gr(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var a=l.dependencies;if(a!==null){o=l.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(l.tag===1){c=fr(-1,n&-n),c.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),su(l.return,n,t),a.lanes|=n;break}c=c.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(ie(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),su(o,n,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}Ht(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Xi(t,n),i=Nn(i),r=r(i),t.flags|=1,Ht(e,t,r,n),t.child;case 14:return r=t.type,i=Dn(r,t.pendingProps),i=Dn(r.type,i),jp(e,t,r,i,n);case 15:return Lg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Dn(r,i),go(e,t),t.tag=1,Zt(r)?(e=!0,Do(t)):e=!1,Xi(t,n),Tg(t,r,i),au(t,r,i,n),du(null,t,r,!0,e,n);case 19:return zg(e,t,n);case 22:return Ig(e,t,n)}throw Error(ie(156,t.tag))};function Zg(e,t){return Nm(e,t)}function S1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(e,t,n,r){return new S1(e,t,n,r)}function Nd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function C1(e){if(typeof e=="function")return Nd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Vu)return 11;if(e===Gu)return 14}return 2}function $r(e,t){var n=e.alternate;return n===null?(n=jn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vo(e,t,n,r,i,l){var o=2;if(r=e,typeof e=="function")Nd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Di:return di(n.children,i,l,t);case Hu:o=8,i|=8;break;case Lc:return e=jn(12,n,t,i|2),e.elementType=Lc,e.lanes=l,e;case Ic:return e=jn(13,n,t,i),e.elementType=Ic,e.lanes=l,e;case Ac:return e=jn(19,n,t,i),e.elementType=Ac,e.lanes=l,e;case cm:return ua(n,i,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case om:o=10;break e;case am:o=9;break e;case Vu:o=11;break e;case Gu:o=14;break e;case _r:o=16,r=null;break e}throw Error(ie(130,e==null?e:typeof e,""))}return t=jn(o,n,t,i),t.elementType=e,t.type=r,t.lanes=l,t}function di(e,t,n,r){return e=jn(7,e,r,t),e.lanes=n,e}function ua(e,t,n,r){return e=jn(22,e,r,t),e.elementType=cm,e.lanes=n,e.stateNode={isHidden:!1},e}function uc(e,t,n){return e=jn(6,e,null,t),e.lanes=n,e}function dc(e,t,n){return t=jn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function j1(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Va(0),this.expirationTimes=Va(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Va(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ed(e,t,n,r,i,l,o,a,c){return e=new j1(e,t,n,a,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=jn(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ud(l),e}function b1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ai,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ey(e){if(!e)return Hr;e=e._reactInternals;e:{if(xi(e)!==e||e.tag!==1)throw Error(ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Zt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ie(171))}if(e.tag===1){var n=e.type;if(Zt(n))return eg(e,n,t)}return t}function ty(e,t,n,r,i,l,o,a,c){return e=Ed(n,r,!0,e,i,l,o,a,c),e.context=ey(null),n=e.current,r=Vt(),i=Br(n),l=fr(r,i),l.callback=t??null,Fr(n,l,i),e.current.lanes=i,hs(e,i,r),en(e,r),e}function da(e,t,n,r){var i=t.current,l=Vt(),o=Br(i);return n=ey(n),t.context===null?t.context=n:t.pendingContext=n,t=fr(l,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Fr(i,t,o),e!==null&&(Fn(e,i,o,l),po(e,i,o)),o}function Qo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Op(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function _d(e,t){Op(e,t),(e=e.alternate)&&Op(e,t)}function N1(){return null}var ny=typeof reportError=="function"?reportError:function(e){console.error(e)};function Td(e){this._internalRoot=e}fa.prototype.render=Td.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ie(409));da(e,t,null,null)};fa.prototype.unmount=Td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gi(function(){da(null,e,null,null)}),t[hr]=null}};function fa(e){this._internalRoot=e}fa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Im();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rr.length&&t!==0&&t<Rr[n].priority;n++);Rr.splice(n,0,e),n===0&&Dm(e)}};function Pd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zp(){}function E1(e,t,n,r,i){if(i){if(typeof r=="function"){var l=r;r=function(){var u=Qo(o);l.call(u)}}var o=ty(t,r,e,0,null,!1,!1,"",zp);return e._reactRootContainer=o,e[hr]=o.current,ns(e.nodeType===8?e.parentNode:e),gi(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Qo(c);a.call(u)}}var c=Ed(e,0,!1,null,null,!1,!1,"",zp);return e._reactRootContainer=c,e[hr]=c.current,ns(e.nodeType===8?e.parentNode:e),gi(function(){da(t,c,n,r)}),c}function ha(e,t,n,r,i){var l=n._reactRootContainer;if(l){var o=l;if(typeof i=="function"){var a=i;i=function(){var c=Qo(o);a.call(c)}}da(t,o,e,i)}else o=E1(n,t,e,i,r);return Qo(o)}Rm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Al(t.pendingLanes);n!==0&&(Yu(t,n|1),en(t,pt()),!(ze&6)&&(sl=pt()+500,Kr()))}break;case 13:gi(function(){var r=mr(e,1);if(r!==null){var i=Vt();Fn(r,e,1,i)}}),_d(e,1)}};Xu=function(e){if(e.tag===13){var t=mr(e,134217728);if(t!==null){var n=Vt();Fn(t,e,134217728,n)}_d(e,134217728)}};Lm=function(e){if(e.tag===13){var t=Br(e),n=mr(e,t);if(n!==null){var r=Vt();Fn(n,e,t,r)}_d(e,t)}};Im=function(){return Ge};Am=function(e,t){var n=Ge;try{return Ge=e,t()}finally{Ge=n}};Hc=function(e,t,n){switch(t){case"input":if(zc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ia(r);if(!i)throw Error(ie(90));dm(r),zc(r,i)}}}break;case"textarea":pm(e,n);break;case"select":t=n.value,t!=null&&Gi(e,!!n.multiple,t,!1)}};wm=Cd;km=gi;var _1={usingClientEntryPoint:!1,Events:[gs,Fi,ia,xm,vm,Cd]},El={findFiberByHostInstance:si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},T1={bundleType:El.bundleType,version:El.version,rendererPackageName:El.rendererPackageName,rendererConfig:El.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jm(e),e===null?null:e.stateNode},findFiberByHostInstance:El.findFiberByHostInstance||N1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eo.isDisabled&&eo.supportsFiber)try{ea=eo.inject(T1),tr=eo}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_1;mn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pd(t))throw Error(ie(200));return b1(e,t,null,n)};mn.createRoot=function(e,t){if(!Pd(e))throw Error(ie(299));var n=!1,r="",i=ny;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ed(e,1,!1,null,null,n,!1,r,i),e[hr]=t.current,ns(e.nodeType===8?e.parentNode:e),new Td(t)};mn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ie(188)):(e=Object.keys(e).join(","),Error(ie(268,e)));return e=jm(t),e=e===null?null:e.stateNode,e};mn.flushSync=function(e){return gi(e)};mn.hydrate=function(e,t,n){if(!pa(t))throw Error(ie(200));return ha(null,e,t,!0,n)};mn.hydrateRoot=function(e,t,n){if(!Pd(e))throw Error(ie(405));var r=n!=null&&n.hydratedSources||null,i=!1,l="",o=ny;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=ty(t,null,e,1,n??null,i,!1,l,o),e[hr]=t.current,ns(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new fa(t)};mn.render=function(e,t,n){if(!pa(t))throw Error(ie(200));return ha(null,e,t,!1,n)};mn.unmountComponentAtNode=function(e){if(!pa(e))throw Error(ie(40));return e._reactRootContainer?(gi(function(){ha(null,null,e,!1,function(){e._reactRootContainer=null,e[hr]=null})}),!0):!1};mn.unstable_batchedUpdates=Cd;mn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!pa(n))throw Error(ie(200));if(e==null||e._reactInternals===void 0)throw Error(ie(38));return ha(e,t,n,!1,r)};mn.version="18.3.1-next-f1338f8080-20240426";function ry(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ry)}catch(e){console.error(e)}}ry(),rm.exports=mn;var ma=rm.exports,Mp=ma;Pc.createRoot=Mp.createRoot,Pc.hydrateRoot=Mp.hydrateRoot;const Fp={en:{file:"File",edit:"Edit",view:"View",window:"Window",help:"Help",newFile:"New File",newFolder:"New Folder",openFolder:"Open Folder",closeFolder:"Close Folder",save:"Save",exit:"Exit",undo:"Undo",redo:"Redo",cut:"Cut",copy:"Copy",paste:"Paste",toggleSideBar:"Toggle Side Bar",switchToPreview:"Switch to Preview",switchToCode:"Switch to Code",toggleTheme:"Toggle Theme",toggleView:"Toggle View",bindBackend:"Bind Backend",sync:"Sync",refresh:"Refresh",minimize:"Minimize",maximize:"Maximize",close:"Close",welcome:"Welcome",documentation:"Documentation",about:"About",workspace:"Workspace",cloneGitRepository:"Clone Git Repository",connectRemoteHost:"Connect to Remote Host",recent:"RECENT",untitled:"Untitled",settings:"Settings",generalSettings:"General Settings",language:"Language",themeMode:"Theme Mode",followSystem:"Follow System",light:"Light",dark:"Dark",appGeneral:"App General",globalSettings:"Global Settings",globalSettingsDesc:"Application level preferences such as theme and language are applied globally.",sessionList:"Session List",explorer:"Explorer",sourceControl:"Source Control",newSession:"New Session",expandChat:"Expand Chat",collapseChat:"Collapse Chat",statusPrefix:"Status: ",themeAndAppearance:"Theme & Appearance",llmAndSession:"LLM & Session",agentTools:"Agent Mode Tools",canvaTools:"Canva Mode Tools",provider:"Provider",apiKey:"API Key",baseUrl:"Base URL (Optional)",model:"Model (Optional)",statusCheckModel:"Status Check Model (Optional)",sessionContext:"Session Context",independentSessionContext:"Independent Session Context",independentSessionContextDesc:"Each session maintains its own context to prevent interference.",contextWindowLimit:"Context Window Limit",outputTokenLimit:"Output Token Limit",temperature:"Temperature",resetToDefaults:"Reset Parameters to Defaults",defaultViewLocation:"Default View Location",useModalWindow:"Use Modal Window",useEditorView:"Use Editor View",diffViewer:"Diff Viewer"},zh:{file:"",edit:"",view:"",window:"",help:"",newFile:"",newFolder:"",openFolder:"",closeFolder:"",save:"",exit:"",undo:"",redo:"",cut:"",copy:"",paste:"",toggleSideBar:"",switchToPreview:"",switchToCode:"",toggleTheme:"",toggleView:"",bindBackend:"",sync:"",refresh:"",minimize:"",maximize:"",close:"",welcome:"",documentation:"",about:"",workspace:"",cloneGitRepository:" Git ",connectRemoteHost:"",recent:"",untitled:"",settings:"",generalSettings:"",language:"",themeMode:"",followSystem:"",light:"",dark:"",appGeneral:"",globalSettings:"",globalSettingsDesc:"",sessionList:"",explorer:"",sourceControl:"",newSession:"",expandChat:"",collapseChat:"",statusPrefix:": ",themeAndAppearance:"",llmAndSession:"",agentTools:"Agent ",canvaTools:"Canva ",provider:"",apiKey:"API ",baseUrl:" URL ()",model:" ()",statusCheckModel:" ()",sessionContext:"",independentSessionContext:"",independentSessionContextDesc:"",contextWindowLimit:"",outputTokenLimit:" Token ",temperature:"",resetToDefaults:"",defaultViewLocation:"",useModalWindow:"",useEditorView:"",diffViewer:"Diff "},ja:{file:"",edit:"",view:"",window:"",help:"",newFile:"",newFolder:"",openFolder:"",closeFolder:"",save:"",exit:"",undo:"",redo:"",cut:"",copy:"",paste:"",toggleSideBar:"",switchToPreview:"",switchToCode:"",toggleTheme:"",toggleView:"",bindBackend:"",sync:"",refresh:"",minimize:"",maximize:"",close:"",welcome:"",documentation:"",about:"",workspace:"",cloneGitRepository:"Git",connectRemoteHost:"",recent:"",untitled:"",settings:"",generalSettings:"",language:"",themeMode:"",followSystem:"",light:"",dark:"",appGeneral:"",globalSettings:"",globalSettingsDesc:"",sessionList:"",explorer:"",sourceControl:"",newSession:"",expandChat:"",collapseChat:"",statusPrefix:": ",themeAndAppearance:"",llmAndSession:"LLM",agentTools:"",canvaTools:"Canva",provider:"",apiKey:"API",baseUrl:"URL ()",model:" ()",statusCheckModel:" ()",sessionContext:"",independentSessionContext:"",independentSessionContextDesc:"",contextWindowLimit:"",outputTokenLimit:"",temperature:"",resetToDefaults:"",defaultViewLocation:"",useModalWindow:"",useEditorView:"",diffViewer:"Diff"}},Rd=(e,t)=>(Fp[e]||Fp.en)[t]||t,P1=({open:e=!1})=>s.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",children:e?s.jsxs(s.Fragment,{children:[s.jsx("path",{d:"M3 7h6l2 2h9a1 1 0 0 1 .92 1.38l-2.4 6.4A2 2 0 0 1 16.61 18H5.39a2 2 0 0 1-1.87-1.22L2.1 9.62A2 2 0 0 1 3.94 7"}),s.jsx("path",{d:"M3 7V6a2 2 0 0 1 2-2h4l2 2h5a2 2 0 0 1 2 2v1"})]}):s.jsxs(s.Fragment,{children:[s.jsx("path",{d:"M3 8.5A2.5 2.5 0 0 1 5.5 6H9l2 2h7.5A2.5 2.5 0 0 1 21 10.5V17a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z"}),s.jsx("path",{d:"M3 10h18",opacity:"0.35"})]})}),R1=()=>s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M5 5h14a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2h-4l-3 3-3-3H5a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2z"}),s.jsx("path",{d:"M8 10h8"}),s.jsx("path",{d:"M8 13h5"})]}),L1=()=>s.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"11",cy:"11",r:"8"}),s.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),I1=()=>s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"7.5"}),s.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"15"}),s.jsx("line",{x1:"9",y1:"12",x2:"15",y2:"12"})]}),A1=()=>s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"3"}),s.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.17a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.6 15 1.65 1.65 0 0 0 3.09 14H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9 1.65 1.65 0 0 0 4.27 7.18l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 8.92 4.02 1.65 1.65 0 0 0 10 2.5V2.33a2 2 0 0 1 4 0V2.5a1.65 1.65 0 0 0 1.08 1.55 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09A1.65 1.65 0 0 0 19.4 15Z"})]});function D1({activeSidebar:e,sidebarCollapsed:t,explorerOpen:n,onSelectSidebar:r,onToggleChatPanel:i,chatPanelCollapsed:l,onCreateSession:o,onToggleConfig:a,apiStatus:c,gitBadgeCount:u=0,language:f="en"}){const p=e==="sessions"&&!t,h=e==="explorer"&&!t,m=e==="search"&&!t,x=e==="git"&&!t,E=I=>Rd(f,I);return s.jsxs("div",{className:"activity-bar",children:[s.jsx("button",{className:`activity-item ${p?"active":""}`,onClick:()=>r("sessions"),title:E("sessionList"),children:s.jsx(R1,{})}),s.jsx("button",{className:`activity-item ${h?"active":""}`,onClick:()=>r("explorer"),title:E("explorer"),children:s.jsx(P1,{open:n})}),s.jsx("button",{className:`activity-item ${m?"active":""}`,onClick:()=>r("search"),title:E("search")||"Search",children:s.jsx(L1,{})}),s.jsxs("button",{className:`activity-item ${x?"active":""}`,onClick:()=>r("git"),title:E("sourceControl"),style:{position:"relative"},children:[s.jsx("span",{className:"codicon codicon-source-control activity-git-icon","aria-hidden":!0}),u>0&&s.jsx("span",{className:"activity-badge",children:u})]}),s.jsx("button",{className:"activity-item ghost",onClick:o,title:E("newSession"),children:s.jsx(I1,{})}),s.jsx("div",{className:"activity-spacer"}),s.jsx("button",{className:"activity-item ghost",onClick:i,title:E(l?"expandChat":"collapseChat"),children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M4 5h14a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-5l-4 3v-3H4a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2z"}),l?s.jsxs(s.Fragment,{children:[s.jsx("polyline",{points:"10 9 12 11 10 13"}),s.jsx("polyline",{points:"6 9 8 11 6 13"})]}):s.jsxs(s.Fragment,{children:[s.jsx("polyline",{points:"14 9 12 11 14 13"}),s.jsx("polyline",{points:"18 9 16 11 18 13"})]})]})}),s.jsx("button",{className:"activity-item ghost",onClick:a,title:E("settings"),children:s.jsx(A1,{})}),s.jsx("div",{className:"activity-status",title:`${E("statusPrefix")}${c}`,children:s.jsx("span",{className:`status-dot ${c}`})})]})}function O1({sessions:e,currentSessionId:t,onSelectSession:n,onDeleteSession:r,onRenameSession:i,onCreateSession:l,onSwitchProject:o,projectPath:a,width:c,collapsed:u,isResizing:f=!1}){const[p,h]=y.useState(null),[m,x]=y.useState(""),E=w=>{h(w.id),x(w.title||"")},I=()=>{!p||!i||(i(p,m),h(null))},k=()=>{h(null),x("")};return s.jsx("div",{style:{width:"100%",minWidth:u?"0":`${Math.max(c||220,220)}px`,borderRight:"1px solid var(--border)",background:"var(--panel)",display:u?"none":"flex",flexDirection:"column",overflow:"hidden",transition:f?"none":"width 0.15s ease, min-width 0.15s ease",flexShrink:0},children:!u&&s.jsxs(s.Fragment,{children:[s.jsxs("header",{className:"explorer-header",children:[s.jsxs("div",{className:"explorer-title",children:[s.jsx("div",{className:"explorer-label",children:"SESSIONS"}),s.jsx("div",{className:"explorer-sub",title:a||"",children:a||""})]}),s.jsxs("div",{className:"explorer-actions",children:[s.jsx("button",{onClick:l,className:"ghost-btn tiny",title:"",children:"+"}),o&&s.jsx("button",{onClick:o,className:"ghost-btn tiny",title:"",children:s.jsx("span",{className:"codicon codicon-folder-opened","aria-hidden":!0})})]})]}),s.jsxs("div",{className:"session-list",children:[e.length===0&&s.jsx("div",{style:{textAlign:"center",color:"var(--muted)",marginTop:"1rem",fontSize:"0.9rem"},children:""}),e.map(w=>s.jsxs("div",{onClick:()=>n(w.id),className:`session-item${t===w.id?" active":""}`,children:[s.jsxs("div",{className:"session-item-main",children:[p===w.id?s.jsx("input",{autoFocus:!0,value:m,onClick:S=>S.stopPropagation(),onChange:S=>x(S.target.value),onBlur:I,onKeyDown:S=>{S.key==="Enter"&&I(),S.key==="Escape"&&k()},style:{width:"100%",border:"1px solid var(--border)",borderRadius:"8px",padding:"0.3rem 0.45rem",fontSize:"0.85rem",background:"var(--panel-sub)"}}):s.jsx("div",{className:"session-item-title",onDoubleClick:S=>{S.stopPropagation(),E(w)},title:"",children:w.title||"Untitled"}),s.jsxs("div",{className:"session-item-meta",children:[s.jsx("div",{className:"session-item-time",children:new Date(w.updated_at).toLocaleString()}),s.jsx("span",{className:"session-item-mode",children:(w.mode||"chat").toUpperCase()})]})]}),s.jsxs("div",{className:"session-item-actions",children:[s.jsx("button",{onClick:S=>{S.stopPropagation(),E(w)},className:"session-item-icon-btn",title:"",children:s.jsx("span",{className:"codicon codicon-edit","aria-hidden":!0})}),s.jsx("button",{onClick:S=>{S.stopPropagation(),r(w.id)},className:"session-item-icon-btn",title:"",children:s.jsx("span",{className:"codicon codicon-trash","aria-hidden":!0})})]})]},w.id))]})]})})}const z1={js:"codicon-file-code",jsx:"codicon-file-code",ts:"codicon-file-code",tsx:"codicon-file-code",html:"codicon-code",css:"codicon-symbol-color",json:"codicon-json",md:"codicon-markdown",txt:"codicon-file-text",py:"codicon-symbol-keyword"},M1=e=>{const t=e.split(".").pop();return z1[t]||"codicon-file"},Wp=(e=[])=>{const t={path:"",name:"",type:"dir",children:[]},n=new Map([["",t]]);return e.forEach(r=>{const i=r.path.split("/").filter(Boolean);let l="";i.forEach((o,a)=>{const c=l?`${l}/${o}`:o;if(n.has(c)){if(a===i.length-1){const u=n.get(c);u.type=r.type}}else{const u={path:c,name:o,type:a===i.length-1?r.type:"dir",children:[]};n.set(c,u);const f=n.get(l);f&&f.children.push(u)}l=c})}),t.children},F1=(e=[],t=[])=>{const n=new Map;e.forEach(i=>{const l=typeof i.workspace_folder_index=="number"?i.workspace_folder_index:0,o=i.workspace_root||"",a=i.workspace_folder||"",c=String(l);let u=n.get(c);if(!u){const f=Array.isArray(t)?t.find((h,m)=>m===l||o&&h.path===o):null,p=a||f&&(f.name||f.path)||"";u={index:l,name:p,entries:[]},n.set(c,u)}u.entries.push(i)});const r=Array.from(n.values()).sort((i,l)=>i.index-l.index);return r.length<=1?Wp(e):r.map(i=>{const l=Wp(i.entries),o=i.name||`Root ${i.index+1}`;return{path:o,name:o,type:"dir",children:l}})},W1=(e,t)=>{const n=[],r=(i,l=0)=>{i.slice().sort((o,a)=>o.type!==a.type?o.type==="dir"?-1:1:o.path.localeCompare(a.path)).forEach(o=>{n.push({...o,depth:l}),o.type==="dir"&&!t.has(o.path)&&r(o.children||[],l+1)})};return r(e),n},B1=yr.memo(({index:e,style:t,data:n})=>{const{rows:r,activeFile:i,updatedPaths:l,onToggle:o,onOpen:a,onContext:c,collapsed:u,gitStatusMap:f}=n,p=r[e],h=p.type==="dir",m=i===p.path,x=l.has(p.path),E=f==null?void 0:f.get(p.path),k=(w=>w?w==="M"?"#e2c08d":w==="A"||w==="?"?"#73c991":w==="D"?"#f14c4c":"#aaa":null)(E);return s.jsxs("div",{style:{...t,paddingLeft:12+p.depth*12},className:`tree-item-virtual explorer-row ${m?"active":""} ${x?"updated":""}`,onClick:()=>h?o(p.path):a(p.path),onContextMenu:w=>c(w,p),children:[s.jsx("span",{className:"tree-disclosure",children:h?s.jsx("i",{className:`codicon ${u.has(p.path)?"codicon-chevron-right":"codicon-chevron-down"}`,"aria-hidden":!0,style:{color:"var(--muted)"}}):s.jsx("i",{className:`codicon ${M1(p.path)}`,"aria-hidden":!0,style:{color:k||"inherit"}})}),s.jsx("span",{title:p.path,className:"tree-label",style:{color:k||"inherit"},children:p.name}),E&&s.jsx("span",{style:{marginLeft:"auto",fontSize:"10px",fontWeight:"bold",color:k,marginRight:"8px"},children:E==="?"?"U":E}),x&&!E&&s.jsx("span",{className:"tree-dirty-dot",title:""})]})},(e,t)=>{const{rows:n,activeFile:r,updatedPaths:i,collapsed:l,gitStatusMap:o}=e.data,{rows:a,activeFile:c,updatedPaths:u,collapsed:f,gitStatusMap:p}=t.data,h=n[e.index],m=a[t.index];return e.index===t.index&&e.style===t.style&&(h==null?void 0:h.path)===(m==null?void 0:m.path)&&r===c&&(h!=null&&h.path?i.has(h.path)===u.has(m.path):!0)&&((h==null?void 0:h.type)==="dir"?l.has(h.path)===f.has(m.path):!0)&&(h!=null&&h.path?(o==null?void 0:o.get(h.path))===(p==null?void 0:p.get(m.path)):!0)}),$1=({height:e,itemSize:t,items:n,rowData:r,children:i})=>{const l=y.useRef(null),[o,a]=y.useState(0),c=y.useCallback(x=>{a(x.currentTarget.scrollTop||0)},[]),u=n.length*t,f=Math.max(0,Math.floor(o/t)),p=Math.ceil(e/t)+3,h=Math.min(n.length,f+p),m=n.slice(f,h);return s.jsx("div",{ref:l,style:{height:e,overflowY:"auto",overflowX:"hidden",position:"relative"},onScroll:c,children:s.jsx("div",{style:{height:u,position:"relative",width:"100%"},children:m.map((x,E)=>{const I=f+E,k={position:"absolute",top:I*t,height:t,width:"100%"};return i({index:I,style:k,data:r,key:I})})})})};function U1({files:e=[],fileTree:t=[],projectLabel:n="",loading:r=!1,activeFile:i="",onOpenFile:l,onAddFile:o,onAddFolder:a,onDeletePath:c,onRenamePath:u,onSyncStructure:f,hasWorkspace:p=!1,gitStatus:h=null,workspaceRoots:m=[]}){var ee;const[x,E]=y.useState(()=>new Set),[I,k]=y.useState(null),w=y.useRef(null),[S,L]=y.useState(380),A=y.useMemo(()=>new Set(e.filter(te=>te.updated).map(te=>te.path)),[e]),T=y.useMemo(()=>{if(!h||!h.files)return new Map;const te=new Map;return h.files.forEach(M=>{const H=M.working_dir!==" "?M.working_dir:M.index;te.set(M.path,H)}),te},[h]),W=y.useMemo(()=>F1(t,m),[t,m]),_=y.useMemo(()=>W1(W,x),[W,x]),Y=y.useMemo(()=>{if(Array.isArray(m)&&m.length>1){const te=m.map(M=>M&&(M.name||M.path)||"").filter(Boolean);if(te.length>0)return te.join("  ")}return n},[n,m]);y.useEffect(()=>{if(!w.current)return;const te=new ResizeObserver(M=>{const H=M[0],C=Math.max(220,Math.floor(H.contentRect.height));L(C)});return te.observe(w.current),()=>te.disconnect()},[]),y.useEffect(()=>{const te=()=>k(null);return window.addEventListener("click",te),()=>window.removeEventListener("click",te)},[]);const U=y.useCallback(te=>{E(M=>{const H=new Set(M);return H.has(te)?H.delete(te):H.add(te),H})},[]),Z=y.useCallback((te,M=null)=>{te.preventDefault(),te.stopPropagation(),k({x:te.clientX,y:te.clientY,node:M&&M.path?M:null})},[]),q=()=>k(null),he=((ee=I==null?void 0:I.node)==null?void 0:ee.path)||"",xe=!!he,B=(te,M,{danger:H=!1,disabled:C=!1}={})=>s.jsx("div",{className:`context-item ${H?"danger":""} ${C?"disabled":""}`,style:{padding:"8px 12px",...H?{color:"var(--danger)"}:{}},onClick:()=>{C||(M==null||M(),q())},children:te});return s.jsxs("div",{className:"explorer-panel",children:[s.jsx("div",{className:"explorer-header",style:{height:"auto",flexDirection:"column",gap:"4px",paddingBottom:"8px"},children:s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[s.jsxs("div",{className:"explorer-title",children:[s.jsx("div",{className:"explorer-label",children:"EXPLORER"}),s.jsx("div",{className:"explorer-sub",title:n||"",children:n||""})]}),s.jsxs("div",{className:"explorer-actions",children:[s.jsx("button",{onClick:o,className:"ghost-btn tiny",title:"",children:""}),s.jsx("button",{onClick:a,className:"ghost-btn tiny",title:"",children:""}),s.jsx("button",{onClick:f,className:"ghost-btn tiny",title:"",children:""})]})]})}),s.jsxs("div",{className:"workspace-tree explorer-tree",ref:w,onContextMenu:te=>Z(te,null),children:[s.jsxs("div",{className:"tree-header",children:[s.jsxs("div",{children:["Files ",Y?` ${Y}`:""]}),r&&s.jsx("span",{className:"tree-badge",children:"..."})]}),_.length>0?s.jsx($1,{height:S,itemSize:28,items:_,rowData:{rows:_,activeFile:i,updatedPaths:A,onToggle:U,onOpen:l,onContext:Z,collapsed:x,gitStatusMap:T},children:({index:te,style:M,data:H,key:C})=>{var me;return s.jsx(B1,{index:te,style:M,data:H},`${((me=_[te])==null?void 0:me.path)||te}`)}}):s.jsx("div",{className:"tree-empty",onContextMenu:te=>Z(te,null),children:""})]}),I&&s.jsxs("div",{className:"context-menu",style:{position:"fixed",top:I.y,left:I.x,background:"var(--panel)",border:"1px solid var(--border)",borderRadius:"var(--radius)",boxShadow:"var(--shadow-soft)",zIndex:30,minWidth:180,padding:4},children:[B("",()=>l==null?void 0:l(he),{disabled:!xe}),B("",()=>o==null?void 0:o()),B("",()=>a==null?void 0:a()),B(" / ",()=>u==null?void 0:u(he),{disabled:!xe}),B("",()=>c==null?void 0:c(he),{danger:!0,disabled:!xe})]})]})}const H1=yr.memo(U1);function V1(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const G1=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,K1=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Q1={};function Bp(e,t){return(Q1.jsx?K1:G1).test(e)}const Y1=/[ \t\n\f\r]/g;function X1(e){return typeof e=="object"?e.type==="text"?$p(e.value):!1:$p(e)}function $p(e){return e.replace(Y1,"")===""}class xs{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}xs.prototype.normal={};xs.prototype.property={};xs.prototype.space=void 0;function iy(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new xs(n,r,t)}function Cu(e){return e.toLowerCase()}class nn{constructor(t,n){this.attribute=n,this.property=t}}nn.prototype.attribute="";nn.prototype.booleanish=!1;nn.prototype.boolean=!1;nn.prototype.commaOrSpaceSeparated=!1;nn.prototype.commaSeparated=!1;nn.prototype.defined=!1;nn.prototype.mustUseProperty=!1;nn.prototype.number=!1;nn.prototype.overloadedBoolean=!1;nn.prototype.property="";nn.prototype.spaceSeparated=!1;nn.prototype.space=void 0;let J1=0;const Le=vi(),gt=vi(),ju=vi(),le=vi(),Ke=vi(),qi=vi(),cn=vi();function vi(){return 2**++J1}const bu=Object.freeze(Object.defineProperty({__proto__:null,boolean:Le,booleanish:gt,commaOrSpaceSeparated:cn,commaSeparated:qi,number:le,overloadedBoolean:ju,spaceSeparated:Ke},Symbol.toStringTag,{value:"Module"})),fc=Object.keys(bu);class Ld extends nn{constructor(t,n,r,i){let l=-1;if(super(t,n),Up(this,"space",i),typeof r=="number")for(;++l<fc.length;){const o=fc[l];Up(this,fc[l],(r&bu[o])===bu[o])}}}Ld.prototype.defined=!0;function Up(e,t,n){n&&(e[t]=n)}function ul(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const l=new Ld(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,n[Cu(r)]=r,n[Cu(l.attribute)]=r}return new xs(t,n,e.space)}const ly=ul({properties:{ariaActiveDescendant:null,ariaAtomic:gt,ariaAutoComplete:null,ariaBusy:gt,ariaChecked:gt,ariaColCount:le,ariaColIndex:le,ariaColSpan:le,ariaControls:Ke,ariaCurrent:null,ariaDescribedBy:Ke,ariaDetails:null,ariaDisabled:gt,ariaDropEffect:Ke,ariaErrorMessage:null,ariaExpanded:gt,ariaFlowTo:Ke,ariaGrabbed:gt,ariaHasPopup:null,ariaHidden:gt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ke,ariaLevel:le,ariaLive:null,ariaModal:gt,ariaMultiLine:gt,ariaMultiSelectable:gt,ariaOrientation:null,ariaOwns:Ke,ariaPlaceholder:null,ariaPosInSet:le,ariaPressed:gt,ariaReadOnly:gt,ariaRelevant:null,ariaRequired:gt,ariaRoleDescription:Ke,ariaRowCount:le,ariaRowIndex:le,ariaRowSpan:le,ariaSelected:gt,ariaSetSize:le,ariaSort:null,ariaValueMax:le,ariaValueMin:le,ariaValueNow:le,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function sy(e,t){return t in e?e[t]:t}function oy(e,t){return sy(e,t.toLowerCase())}const q1=ul({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:qi,acceptCharset:Ke,accessKey:Ke,action:null,allow:null,allowFullScreen:Le,allowPaymentRequest:Le,allowUserMedia:Le,alt:null,as:null,async:Le,autoCapitalize:null,autoComplete:Ke,autoFocus:Le,autoPlay:Le,blocking:Ke,capture:null,charSet:null,checked:Le,cite:null,className:Ke,cols:le,colSpan:null,content:null,contentEditable:gt,controls:Le,controlsList:Ke,coords:le|qi,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Le,defer:Le,dir:null,dirName:null,disabled:Le,download:ju,draggable:gt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Le,formTarget:null,headers:Ke,height:le,hidden:ju,high:le,href:null,hrefLang:null,htmlFor:Ke,httpEquiv:Ke,id:null,imageSizes:null,imageSrcSet:null,inert:Le,inputMode:null,integrity:null,is:null,isMap:Le,itemId:null,itemProp:Ke,itemRef:Ke,itemScope:Le,itemType:Ke,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Le,low:le,manifest:null,max:null,maxLength:le,media:null,method:null,min:null,minLength:le,multiple:Le,muted:Le,name:null,nonce:null,noModule:Le,noValidate:Le,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Le,optimum:le,pattern:null,ping:Ke,placeholder:null,playsInline:Le,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Le,referrerPolicy:null,rel:Ke,required:Le,reversed:Le,rows:le,rowSpan:le,sandbox:Ke,scope:null,scoped:Le,seamless:Le,selected:Le,shadowRootClonable:Le,shadowRootDelegatesFocus:Le,shadowRootMode:null,shape:null,size:le,sizes:null,slot:null,span:le,spellCheck:gt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:le,step:null,style:null,tabIndex:le,target:null,title:null,translate:null,type:null,typeMustMatch:Le,useMap:null,value:gt,width:le,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ke,axis:null,background:null,bgColor:null,border:le,borderColor:null,bottomMargin:le,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Le,declare:Le,event:null,face:null,frame:null,frameBorder:null,hSpace:le,leftMargin:le,link:null,longDesc:null,lowSrc:null,marginHeight:le,marginWidth:le,noResize:Le,noHref:Le,noShade:Le,noWrap:Le,object:null,profile:null,prompt:null,rev:null,rightMargin:le,rules:null,scheme:null,scrolling:gt,standby:null,summary:null,text:null,topMargin:le,valueType:null,version:null,vAlign:null,vLink:null,vSpace:le,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Le,disableRemotePlayback:Le,prefix:null,property:null,results:le,security:null,unselectable:null},space:"html",transform:oy}),Z1=ul({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:cn,accentHeight:le,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:le,amplitude:le,arabicForm:null,ascent:le,attributeName:null,attributeType:null,azimuth:le,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:le,by:null,calcMode:null,capHeight:le,className:Ke,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:le,diffuseConstant:le,direction:null,display:null,dur:null,divisor:le,dominantBaseline:null,download:Le,dx:null,dy:null,edgeMode:null,editable:null,elevation:le,enableBackground:null,end:null,event:null,exponent:le,externalResourcesRequired:null,fill:null,fillOpacity:le,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:qi,g2:qi,glyphName:qi,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:le,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:le,horizOriginX:le,horizOriginY:le,id:null,ideographic:le,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:le,k:le,k1:le,k2:le,k3:le,k4:le,kernelMatrix:cn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:le,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:le,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:le,overlineThickness:le,paintOrder:null,panose1:null,path:null,pathLength:le,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ke,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:le,pointsAtY:le,pointsAtZ:le,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:cn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:cn,rev:cn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:cn,requiredFeatures:cn,requiredFonts:cn,requiredFormats:cn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:le,specularExponent:le,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:le,strikethroughThickness:le,string:null,stroke:null,strokeDashArray:cn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:le,strokeOpacity:le,strokeWidth:null,style:null,surfaceScale:le,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:cn,tabIndex:le,tableValues:null,target:null,targetX:le,targetY:le,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:cn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:le,underlineThickness:le,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:le,values:null,vAlphabetic:le,vMathematical:le,vectorEffect:null,vHanging:le,vIdeographic:le,version:null,vertAdvY:le,vertOriginX:le,vertOriginY:le,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:le,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:sy}),ay=ul({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),cy=ul({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:oy}),uy=ul({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),e0={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},t0=/[A-Z]/g,Hp=/-[a-z]/g,n0=/^data[-\w.:]+$/i;function r0(e,t){const n=Cu(t);let r=t,i=nn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&n0.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(Hp,l0);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!Hp.test(l)){let o=l.replace(t0,i0);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=Ld}return new i(r,t)}function i0(e){return"-"+e.toLowerCase()}function l0(e){return e.charAt(1).toUpperCase()}const s0=iy([ly,q1,ay,cy,uy],"html"),Id=iy([ly,Z1,ay,cy,uy],"svg");function o0(e){return e.join(" ").trim()}var Ad={},Vp=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,a0=/\n/g,c0=/^\s*/,u0=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,d0=/^:\s*/,f0=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,p0=/^[;\s]*/,h0=/^\s+|\s+$/g,m0=`
`,Gp="/",Kp="*",li="",g0="comment",y0="declaration";function x0(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(x){var E=x.match(a0);E&&(n+=E.length);var I=x.lastIndexOf(m0);r=~I?x.length-I:r+x.length}function l(){var x={line:n,column:r};return function(E){return E.position=new o(x),u(),E}}function o(x){this.start=x,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function a(x){var E=new Error(t.source+":"+n+":"+r+": "+x);if(E.reason=x,E.filename=t.source,E.line=n,E.column=r,E.source=e,!t.silent)throw E}function c(x){var E=x.exec(e);if(E){var I=E[0];return i(I),e=e.slice(I.length),E}}function u(){c(c0)}function f(x){var E;for(x=x||[];E=p();)E!==!1&&x.push(E);return x}function p(){var x=l();if(!(Gp!=e.charAt(0)||Kp!=e.charAt(1))){for(var E=2;li!=e.charAt(E)&&(Kp!=e.charAt(E)||Gp!=e.charAt(E+1));)++E;if(E+=2,li===e.charAt(E-1))return a("End of comment missing");var I=e.slice(2,E-2);return r+=2,i(I),e=e.slice(E),r+=2,x({type:g0,comment:I})}}function h(){var x=l(),E=c(u0);if(E){if(p(),!c(d0))return a("property missing ':'");var I=c(f0),k=x({type:y0,property:Qp(E[0].replace(Vp,li)),value:I?Qp(I[0].replace(Vp,li)):li});return c(p0),k}}function m(){var x=[];f(x);for(var E;E=h();)E!==!1&&(x.push(E),f(x));return x}return u(),m()}function Qp(e){return e?e.replace(h0,li):li}var v0=x0,w0=jo&&jo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ad,"__esModule",{value:!0});Ad.default=S0;const k0=w0(v0);function S0(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,k0.default)(e),i=typeof t=="function";return r.forEach(l=>{if(l.type!=="declaration")return;const{property:o,value:a}=l;i?t(o,a,l):a&&(n=n||{},n[o]=a)}),n}var ga={};Object.defineProperty(ga,"__esModule",{value:!0});ga.camelCase=void 0;var C0=/^--[a-zA-Z0-9_-]+$/,j0=/-([a-z])/g,b0=/^[^-]+$/,N0=/^-(webkit|moz|ms|o|khtml)-/,E0=/^-(ms)-/,_0=function(e){return!e||b0.test(e)||C0.test(e)},T0=function(e,t){return t.toUpperCase()},Yp=function(e,t){return"".concat(t,"-")},P0=function(e,t){return t===void 0&&(t={}),_0(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(E0,Yp):e=e.replace(N0,Yp),e.replace(j0,T0))};ga.camelCase=P0;var R0=jo&&jo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},L0=R0(Ad),I0=ga;function Nu(e,t){var n={};return!e||typeof e!="string"||(0,L0.default)(e,function(r,i){r&&i&&(n[(0,I0.camelCase)(r,t)]=i)}),n}Nu.default=Nu;var A0=Nu;const D0=Ou(A0),dy=fy("end"),Dd=fy("start");function fy(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function O0(e){const t=Dd(e),n=dy(e);if(t&&n)return{start:t,end:n}}function Vl(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Xp(e.position):"start"in e||"end"in e?Xp(e):"line"in e||"column"in e?Eu(e):""}function Eu(e){return Jp(e&&e.line)+":"+Jp(e&&e.column)}function Xp(e){return Eu(e&&e.start)+"-"+Eu(e&&e.end)}function Jp(e){return e&&typeof e=="number"?e:1}class zt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",l={},o=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?i=t:!l.cause&&t&&(o=!0,i=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?l.ruleId=r:(l.source=r.slice(0,c),l.ruleId=r.slice(c+1))}if(!l.place&&l.ancestors&&l.ancestors){const c=l.ancestors[l.ancestors.length-1];c&&(l.place=c.position)}const a=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=Vl(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=o&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}zt.prototype.file="";zt.prototype.name="";zt.prototype.reason="";zt.prototype.message="";zt.prototype.stack="";zt.prototype.column=void 0;zt.prototype.line=void 0;zt.prototype.ancestors=void 0;zt.prototype.cause=void 0;zt.prototype.fatal=void 0;zt.prototype.place=void 0;zt.prototype.ruleId=void 0;zt.prototype.source=void 0;const Od={}.hasOwnProperty,z0=new Map,M0=/[A-Z]/g,F0=new Set(["table","tbody","thead","tfoot","tr"]),W0=new Set(["td","th"]),py="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function B0(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Y0(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Q0(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Id:s0,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=hy(i,e,void 0);return l&&typeof l!="string"?l:i.create(e,i.Fragment,{children:l||void 0},void 0)}function hy(e,t,n){if(t.type==="element")return $0(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return U0(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return V0(e,t,n);if(t.type==="mdxjsEsm")return H0(e,t);if(t.type==="root")return G0(e,t,n);if(t.type==="text")return K0(e,t)}function $0(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Id,e.schema=i),e.ancestors.push(t);const l=gy(e,t.tagName,!1),o=X0(e,t);let a=Md(e,t);return F0.has(t.tagName)&&(a=a.filter(function(c){return typeof c=="string"?!X1(c):!0})),my(e,o,l,t),zd(o,a),e.ancestors.pop(),e.schema=r,e.create(t,l,o,n)}function U0(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}ds(e,t.position)}function H0(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ds(e,t.position)}function V0(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Id,e.schema=i),e.ancestors.push(t);const l=t.name===null?e.Fragment:gy(e,t.name,!0),o=J0(e,t),a=Md(e,t);return my(e,o,l,t),zd(o,a),e.ancestors.pop(),e.schema=r,e.create(t,l,o,n)}function G0(e,t,n){const r={};return zd(r,Md(e,t)),e.create(t,e.Fragment,r,n)}function K0(e,t){return t.value}function my(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function zd(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Q0(e,t,n){return r;function r(i,l,o,a){const u=Array.isArray(o.children)?n:t;return a?u(l,o,a):u(l,o)}}function Y0(e,t){return n;function n(r,i,l,o){const a=Array.isArray(l.children),c=Dd(r);return t(i,l,o,a,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function X0(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Od.call(t.properties,i)){const l=q0(e,i,t.properties[i]);if(l){const[o,a]=l;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&W0.has(t.tagName)?r=a:n[o]=a}}if(r){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function J0(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const l=r.data.estree.body[0];l.type;const o=l.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else ds(e,t.position);else{const i=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,l=e.evaluater.evaluateExpression(a.expression)}else ds(e,t.position);else l=r.value===null?!0:r.value;n[i]=l}return n}function Md(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:z0;for(;++r<t.children.length;){const l=t.children[r];let o;if(e.passKeys){const c=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(c){const u=i.get(c)||0;o=c+"-"+u,i.set(c,u+1)}}const a=hy(e,l,o);a!==void 0&&n.push(a)}return n}function q0(e,t,n){const r=r0(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?V1(n):o0(n)),r.property==="style"){let i=typeof n=="object"?n:Z0(e,String(n));return e.stylePropertyNameCase==="css"&&(i=ek(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?e0[r.property]||r.property:r.attribute,n]}}function Z0(e,t){try{return D0(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new zt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=py+"#cannot-parse-style-attribute",i}}function gy(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let l=-1,o;for(;++l<i.length;){const a=Bp(i[l])?{type:"Identifier",name:i[l]}:{type:"Literal",value:i[l]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(l&&a.type==="Literal"),optional:!1}:a}r=o}else r=Bp(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Od.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);ds(e)}function ds(e,t){const n=new zt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=py+"#cannot-handle-mdx-estrees-without-createevaluater",n}function ek(e){const t={};let n;for(n in e)Od.call(e,n)&&(t[tk(n)]=e[n]);return t}function tk(e){let t=e.replace(M0,nk);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function nk(e){return"-"+e.toLowerCase()}const pc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},rk={};function ik(e,t){const n=rk,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return yy(e,r,i)}function yy(e,t,n){if(lk(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return qp(e.children,t,n)}return Array.isArray(e)?qp(e,t,n):""}function qp(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=yy(e[i],t,n);return r.join("")}function lk(e){return!!(e&&typeof e=="object")}const Zp=document.createElement("i");function Fd(e){const t="&"+e+";";Zp.innerHTML=t;const n=Zp.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function rr(e,t,n,r){const i=e.length;let l=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);l<r.length;)o=r.slice(l,l+1e4),o.unshift(t,0),e.splice(...o),l+=1e4,t+=1e4}function Sn(e,t){return e.length>0?(rr(e,e.length,0,t),e):t}const eh={}.hasOwnProperty;function sk(e){const t={};let n=-1;for(;++n<e.length;)ok(t,e[n]);return t}function ok(e,t){let n;for(n in t){const i=(eh.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let o;if(l)for(o in l){eh.call(i,o)||(i[o]=[]);const a=l[o];ak(i[o],Array.isArray(a)?a:a?[a]:[])}}}function ak(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);rr(e,0,0,r)}function xy(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Zi(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const er=Qr(/[A-Za-z]/),fn=Qr(/[\dA-Za-z]/),ck=Qr(/[#-'*+\--9=?A-Z^-~]/);function _u(e){return e!==null&&(e<32||e===127)}const Tu=Qr(/\d/),uk=Qr(/[\dA-Fa-f]/),dk=Qr(/[!-/:-@[-`{-~]/);function ke(e){return e!==null&&e<-2}function tn(e){return e!==null&&(e<0||e===32)}function Be(e){return e===-2||e===-1||e===32}const fk=Qr(new RegExp("\\p{P}|\\p{S}","u")),pk=Qr(/\s/);function Qr(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function dl(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const l=e.charCodeAt(n);let o="";if(l===37&&fn(e.charCodeAt(n+1))&&fn(e.charCodeAt(n+2)))i=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(o=String.fromCharCode(l));else if(l>55295&&l<57344){const a=e.charCodeAt(n+1);l<56320&&a>56319&&a<57344?(o=String.fromCharCode(l,a),i=1):o=""}else o=String.fromCharCode(l);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Ye(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let l=0;return o;function o(c){return Be(c)?(e.enter(n),a(c)):t(c)}function a(c){return Be(c)&&l++<i?(e.consume(c),a):(e.exit(n),t(c))}}const hk={tokenize:mk};function mk(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Ye(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),l(a)}function l(a){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return ke(a)?(e.consume(a),e.exit("chunkText"),l):(e.consume(a),o)}}const gk={tokenize:yk},th={tokenize:xk};function yk(e){const t=this,n=[];let r=0,i,l,o;return a;function a(S){if(r<n.length){const L=n[r];return t.containerState=L[1],e.attempt(L[0].continuation,c,u)(S)}return u(S)}function c(S){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&w();const L=t.events.length;let A=L,T;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){T=t.events[A][1].end;break}k(r);let W=L;for(;W<t.events.length;)t.events[W][1].end={...T},W++;return rr(t.events,A+1,0,t.events.slice(L)),t.events.length=W,u(S)}return a(S)}function u(S){if(r===n.length){if(!i)return h(S);if(i.currentConstruct&&i.currentConstruct.concrete)return x(S);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(th,f,p)(S)}function f(S){return i&&w(),k(r),h(S)}function p(S){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,x(S)}function h(S){return t.containerState={},e.attempt(th,m,x)(S)}function m(S){return r++,n.push([t.currentConstruct,t.containerState]),h(S)}function x(S){if(S===null){i&&w(),k(0),e.consume(S);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:l}),E(S)}function E(S){if(S===null){I(e.exit("chunkFlow"),!0),k(0),e.consume(S);return}return ke(S)?(e.consume(S),I(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(S),E)}function I(S,L){const A=t.sliceStream(S);if(L&&A.push(null),S.previous=l,l&&(l.next=S),l=S,i.defineSkip(S.start),i.write(A),t.parser.lazy[S.start.line]){let T=i.events.length;for(;T--;)if(i.events[T][1].start.offset<o&&(!i.events[T][1].end||i.events[T][1].end.offset>o))return;const W=t.events.length;let _=W,Y,U;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type==="chunkFlow"){if(Y){U=t.events[_][1].end;break}Y=!0}for(k(r),T=W;T<t.events.length;)t.events[T][1].end={...U},T++;rr(t.events,_+1,0,t.events.slice(W)),t.events.length=T}}function k(S){let L=n.length;for(;L-- >S;){const A=n[L];t.containerState=A[1],A[0].exit.call(t,e)}n.length=S}function w(){i.write([null]),l=void 0,i=void 0,t.containerState._closeFlow=void 0}}function xk(e,t,n){return Ye(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function nh(e){if(e===null||tn(e)||pk(e))return 1;if(fk(e))return 2}function Wd(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const l=e[i].resolveAll;l&&!r.includes(l)&&(t=l(t,n),r.push(l))}return t}const Pu={name:"attention",resolveAll:vk,tokenize:wk};function vk(e,t){let n=-1,r,i,l,o,a,c,u,f;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},h={...e[n][1].start};rh(p,-c),rh(h,c),o={type:c>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},a={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},l={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Sn(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Sn(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",l,t]]),u=Sn(u,Wd(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Sn(u,[["exit",l,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(f=2,u=Sn(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):f=0,rr(e,r-1,n-r+3,u),n=r+u.length-f-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function wk(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=nh(r);let l;return o;function o(c){return l=c,e.enter("attentionSequence"),a(c)}function a(c){if(c===l)return e.consume(c),a;const u=e.exit("attentionSequence"),f=nh(c),p=!f||f===2&&i||n.includes(c),h=!i||i===2&&f||n.includes(r);return u._open=!!(l===42?p:p&&(i||!h)),u._close=!!(l===42?h:h&&(f||!p)),t(c)}}function rh(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const kk={name:"autolink",tokenize:Sk};function Sk(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(m){return er(m)?(e.consume(m),o):m===64?n(m):u(m)}function o(m){return m===43||m===45||m===46||fn(m)?(r=1,a(m)):u(m)}function a(m){return m===58?(e.consume(m),r=0,c):(m===43||m===45||m===46||fn(m))&&r++<32?(e.consume(m),a):(r=0,u(m))}function c(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||_u(m)?n(m):(e.consume(m),c)}function u(m){return m===64?(e.consume(m),f):ck(m)?(e.consume(m),u):n(m)}function f(m){return fn(m)?p(m):n(m)}function p(m){return m===46?(e.consume(m),r=0,f):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):h(m)}function h(m){if((m===45||fn(m))&&r++<63){const x=m===45?h:p;return e.consume(m),x}return n(m)}}const ya={partial:!0,tokenize:Ck};function Ck(e,t,n){return r;function r(l){return Be(l)?Ye(e,i,"linePrefix")(l):i(l)}function i(l){return l===null||ke(l)?t(l):n(l)}}const vy={continuation:{tokenize:bk},exit:Nk,name:"blockQuote",tokenize:jk};function jk(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),l}return n(o)}function l(o){return Be(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function bk(e,t,n){const r=this;return i;function i(o){return Be(o)?Ye(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):l(o)}function l(o){return e.attempt(vy,t,n)(o)}}function Nk(e){e.exit("blockQuote")}const wy={name:"characterEscape",tokenize:Ek};function Ek(e,t,n){return r;function r(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),i}function i(l){return dk(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const ky={name:"characterReference",tokenize:_k};function _k(e,t,n){const r=this;let i=0,l,o;return a;function a(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),c}function c(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),l=31,o=fn,f(p))}function u(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,o=uk,f):(e.enter("characterReferenceValue"),l=7,o=Tu,f(p))}function f(p){if(p===59&&i){const h=e.exit("characterReferenceValue");return o===fn&&!Fd(r.sliceSerialize(h))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(p)&&i++<l?(e.consume(p),f):n(p)}}const ih={partial:!0,tokenize:Pk},lh={concrete:!0,name:"codeFenced",tokenize:Tk};function Tk(e,t,n){const r=this,i={partial:!0,tokenize:A};let l=0,o=0,a;return c;function c(T){return u(T)}function u(T){const W=r.events[r.events.length-1];return l=W&&W[1].type==="linePrefix"?W[2].sliceSerialize(W[1],!0).length:0,a=T,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(T)}function f(T){return T===a?(o++,e.consume(T),f):o<3?n(T):(e.exit("codeFencedFenceSequence"),Be(T)?Ye(e,p,"whitespace")(T):p(T))}function p(T){return T===null||ke(T)?(e.exit("codeFencedFence"),r.interrupt?t(T):e.check(ih,E,L)(T)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(T))}function h(T){return T===null||ke(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(T)):Be(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ye(e,m,"whitespace")(T)):T===96&&T===a?n(T):(e.consume(T),h)}function m(T){return T===null||ke(T)?p(T):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),x(T))}function x(T){return T===null||ke(T)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(T)):T===96&&T===a?n(T):(e.consume(T),x)}function E(T){return e.attempt(i,L,I)(T)}function I(T){return e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),k}function k(T){return l>0&&Be(T)?Ye(e,w,"linePrefix",l+1)(T):w(T)}function w(T){return T===null||ke(T)?e.check(ih,E,L)(T):(e.enter("codeFlowValue"),S(T))}function S(T){return T===null||ke(T)?(e.exit("codeFlowValue"),w(T)):(e.consume(T),S)}function L(T){return e.exit("codeFenced"),t(T)}function A(T,W,_){let Y=0;return U;function U(B){return T.enter("lineEnding"),T.consume(B),T.exit("lineEnding"),Z}function Z(B){return T.enter("codeFencedFence"),Be(B)?Ye(T,q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):q(B)}function q(B){return B===a?(T.enter("codeFencedFenceSequence"),he(B)):_(B)}function he(B){return B===a?(Y++,T.consume(B),he):Y>=o?(T.exit("codeFencedFenceSequence"),Be(B)?Ye(T,xe,"whitespace")(B):xe(B)):_(B)}function xe(B){return B===null||ke(B)?(T.exit("codeFencedFence"),W(B)):_(B)}}}function Pk(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),l)}function l(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const hc={name:"codeIndented",tokenize:Lk},Rk={partial:!0,tokenize:Ik};function Lk(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Ye(e,l,"linePrefix",5)(u)}function l(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?c(u):ke(u)?e.attempt(Rk,o,c)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||ke(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),a)}function c(u){return e.exit("codeIndented"),t(u)}}function Ik(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):ke(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Ye(e,l,"linePrefix",5)(o)}function l(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):ke(o)?i(o):n(o)}}const Ak={name:"codeText",previous:Ok,resolve:Dk,tokenize:zk};function Dk(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Ok(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function zk(e,t,n){let r=0,i,l;return o;function o(p){return e.enter("codeText"),e.enter("codeTextSequence"),a(p)}function a(p){return p===96?(e.consume(p),r++,a):(e.exit("codeTextSequence"),c(p))}function c(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),c):p===96?(l=e.enter("codeTextSequence"),i=0,f(p)):ke(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(p))}function u(p){return p===null||p===32||p===96||ke(p)?(e.exit("codeTextData"),c(p)):(e.consume(p),u)}function f(p){return p===96?(e.consume(p),i++,f):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(l.type="codeTextData",u(p))}}class Mk{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&_l(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),_l(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),_l(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);_l(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);_l(this.left,n.reverse())}}}function _l(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Sy(e){const t={};let n=-1,r,i,l,o,a,c,u;const f=new Mk(e);for(;++n<f.length;){for(;n in t;)n=t[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,l=0,l<c.length&&c[l][1].type==="lineEndingBlank"&&(l+=2),l<c.length&&c[l][1].type==="content"))for(;++l<c.length&&c[l][1].type!=="content";)c[l][1].type==="chunkText"&&(c[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Fk(f,n)),n=t[n],u=!0);else if(r[1]._container){for(l=n,i=void 0;l--;)if(o=f.get(l),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=l);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},a=f.slice(i,n),a.unshift(r),f.splice(i,n-i+1,a))}}return rr(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!u}function Fk(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const l=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,c=[],u={};let f,p,h=-1,m=n,x=0,E=0;const I=[E];for(;m;){for(;e.get(++i)[1]!==m;);l.push(i),m._tokenizer||(f=r.sliceStream(m),m.next||f.push(null),p&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),p=m,m=m.next}for(m=n;++h<a.length;)a[h][0]==="exit"&&a[h-1][0]==="enter"&&a[h][1].type===a[h-1][1].type&&a[h][1].start.line!==a[h][1].end.line&&(E=h+1,I.push(E),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):I.pop(),h=I.length;h--;){const k=a.slice(I[h],I[h+1]),w=l.pop();c.push([w,w+k.length-1]),e.splice(w,2,k)}for(c.reverse(),h=-1;++h<c.length;)u[x+c[h][0]]=x+c[h][1],x+=c[h][1]-c[h][0]-1;return u}const Wk={resolve:$k,tokenize:Uk},Bk={partial:!0,tokenize:Hk};function $k(e){return Sy(e),e}function Uk(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?l(a):ke(a)?e.check(Bk,o,l)(a):(e.consume(a),i)}function l(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Hk(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Ye(e,l,"linePrefix")}function l(o){if(o===null||ke(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function Cy(e,t,n,r,i,l,o,a,c){const u=c||Number.POSITIVE_INFINITY;let f=0;return p;function p(k){return k===60?(e.enter(r),e.enter(i),e.enter(l),e.consume(k),e.exit(l),h):k===null||k===32||k===41||_u(k)?n(k):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),E(k))}function h(k){return k===62?(e.enter(l),e.consume(k),e.exit(l),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),m(k))}function m(k){return k===62?(e.exit("chunkString"),e.exit(a),h(k)):k===null||k===60||ke(k)?n(k):(e.consume(k),k===92?x:m)}function x(k){return k===60||k===62||k===92?(e.consume(k),m):m(k)}function E(k){return!f&&(k===null||k===41||tn(k))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(k)):f<u&&k===40?(e.consume(k),f++,E):k===41?(e.consume(k),f--,E):k===null||k===32||k===40||_u(k)?n(k):(e.consume(k),k===92?I:E)}function I(k){return k===40||k===41||k===92?(e.consume(k),E):E(k)}}function jy(e,t,n,r,i,l){const o=this;let a=0,c;return u;function u(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(l),f}function f(m){return a>999||m===null||m===91||m===93&&!c||m===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(e.exit(l),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):ke(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),p(m))}function p(m){return m===null||m===91||m===93||ke(m)||a++>999?(e.exit("chunkString"),f(m)):(e.consume(m),c||(c=!Be(m)),m===92?h:p)}function h(m){return m===91||m===92||m===93?(e.consume(m),a++,p):p(m)}}function by(e,t,n,r,i,l){let o;return a;function a(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),o=h===40?41:h,c):n(h)}function c(h){return h===o?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(l),u(h))}function u(h){return h===o?(e.exit(l),c(o)):h===null?n(h):ke(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),Ye(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===o||h===null||ke(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?p:f)}function p(h){return h===o||h===92?(e.consume(h),f):f(h)}}function Gl(e,t){let n;return r;function r(i){return ke(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Be(i)?Ye(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Vk={name:"definition",tokenize:Kk},Gk={partial:!0,tokenize:Qk};function Kk(e,t,n){const r=this;let i;return l;function l(m){return e.enter("definition"),o(m)}function o(m){return jy.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function a(m){return i=Zi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),c):n(m)}function c(m){return tn(m)?Gl(e,u)(m):u(m)}function u(m){return Cy(e,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function f(m){return e.attempt(Gk,p,p)(m)}function p(m){return Be(m)?Ye(e,h,"whitespace")(m):h(m)}function h(m){return m===null||ke(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function Qk(e,t,n){return r;function r(a){return tn(a)?Gl(e,i)(a):n(a)}function i(a){return by(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function l(a){return Be(a)?Ye(e,o,"whitespace")(a):o(a)}function o(a){return a===null||ke(a)?t(a):n(a)}}const Yk={name:"hardBreakEscape",tokenize:Xk};function Xk(e,t,n){return r;function r(l){return e.enter("hardBreakEscape"),e.consume(l),i}function i(l){return ke(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const Jk={name:"headingAtx",resolve:qk,tokenize:Zk};function qk(e,t){let n=e.length-2,r=3,i,l;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},l={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},rr(e,r,n-r+1,[["enter",i,t],["enter",l,t],["exit",l,t],["exit",i,t]])),e}function Zk(e,t,n){let r=0;return i;function i(f){return e.enter("atxHeading"),l(f)}function l(f){return e.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&r++<6?(e.consume(f),o):f===null||tn(f)?(e.exit("atxHeadingSequence"),a(f)):n(f)}function a(f){return f===35?(e.enter("atxHeadingSequence"),c(f)):f===null||ke(f)?(e.exit("atxHeading"),t(f)):Be(f)?Ye(e,a,"whitespace")(f):(e.enter("atxHeadingText"),u(f))}function c(f){return f===35?(e.consume(f),c):(e.exit("atxHeadingSequence"),a(f))}function u(f){return f===null||f===35||tn(f)?(e.exit("atxHeadingText"),a(f)):(e.consume(f),u)}}const eS=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],sh=["pre","script","style","textarea"],tS={concrete:!0,name:"htmlFlow",resolveTo:iS,tokenize:lS},nS={partial:!0,tokenize:oS},rS={partial:!0,tokenize:sS};function iS(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function lS(e,t,n){const r=this;let i,l,o,a,c;return u;function u(j){return f(j)}function f(j){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(j),p}function p(j){return j===33?(e.consume(j),h):j===47?(e.consume(j),l=!0,E):j===63?(e.consume(j),i=3,r.interrupt?t:C):er(j)?(e.consume(j),o=String.fromCharCode(j),I):n(j)}function h(j){return j===45?(e.consume(j),i=2,m):j===91?(e.consume(j),i=5,a=0,x):er(j)?(e.consume(j),i=4,r.interrupt?t:C):n(j)}function m(j){return j===45?(e.consume(j),r.interrupt?t:C):n(j)}function x(j){const se="CDATA[";return j===se.charCodeAt(a++)?(e.consume(j),a===se.length?r.interrupt?t:q:x):n(j)}function E(j){return er(j)?(e.consume(j),o=String.fromCharCode(j),I):n(j)}function I(j){if(j===null||j===47||j===62||tn(j)){const se=j===47,ue=o.toLowerCase();return!se&&!l&&sh.includes(ue)?(i=1,r.interrupt?t(j):q(j)):eS.includes(o.toLowerCase())?(i=6,se?(e.consume(j),k):r.interrupt?t(j):q(j)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(j):l?w(j):S(j))}return j===45||fn(j)?(e.consume(j),o+=String.fromCharCode(j),I):n(j)}function k(j){return j===62?(e.consume(j),r.interrupt?t:q):n(j)}function w(j){return Be(j)?(e.consume(j),w):U(j)}function S(j){return j===47?(e.consume(j),U):j===58||j===95||er(j)?(e.consume(j),L):Be(j)?(e.consume(j),S):U(j)}function L(j){return j===45||j===46||j===58||j===95||fn(j)?(e.consume(j),L):A(j)}function A(j){return j===61?(e.consume(j),T):Be(j)?(e.consume(j),A):S(j)}function T(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(e.consume(j),c=j,W):Be(j)?(e.consume(j),T):_(j)}function W(j){return j===c?(e.consume(j),c=null,Y):j===null||ke(j)?n(j):(e.consume(j),W)}function _(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||tn(j)?A(j):(e.consume(j),_)}function Y(j){return j===47||j===62||Be(j)?S(j):n(j)}function U(j){return j===62?(e.consume(j),Z):n(j)}function Z(j){return j===null||ke(j)?q(j):Be(j)?(e.consume(j),Z):n(j)}function q(j){return j===45&&i===2?(e.consume(j),ee):j===60&&i===1?(e.consume(j),te):j===62&&i===4?(e.consume(j),me):j===63&&i===3?(e.consume(j),C):j===93&&i===5?(e.consume(j),H):ke(j)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(nS,K,he)(j)):j===null||ke(j)?(e.exit("htmlFlowData"),he(j)):(e.consume(j),q)}function he(j){return e.check(rS,xe,K)(j)}function xe(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),B}function B(j){return j===null||ke(j)?he(j):(e.enter("htmlFlowData"),q(j))}function ee(j){return j===45?(e.consume(j),C):q(j)}function te(j){return j===47?(e.consume(j),o="",M):q(j)}function M(j){if(j===62){const se=o.toLowerCase();return sh.includes(se)?(e.consume(j),me):q(j)}return er(j)&&o.length<8?(e.consume(j),o+=String.fromCharCode(j),M):q(j)}function H(j){return j===93?(e.consume(j),C):q(j)}function C(j){return j===62?(e.consume(j),me):j===45&&i===2?(e.consume(j),C):q(j)}function me(j){return j===null||ke(j)?(e.exit("htmlFlowData"),K(j)):(e.consume(j),me)}function K(j){return e.exit("htmlFlow"),t(j)}}function sS(e,t,n){const r=this;return i;function i(o){return ke(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),l):n(o)}function l(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function oS(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(ya,t,n)}}const aS={name:"htmlText",tokenize:cS};function cS(e,t,n){const r=this;let i,l,o;return a;function a(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),c}function c(C){return C===33?(e.consume(C),u):C===47?(e.consume(C),A):C===63?(e.consume(C),S):er(C)?(e.consume(C),_):n(C)}function u(C){return C===45?(e.consume(C),f):C===91?(e.consume(C),l=0,x):er(C)?(e.consume(C),w):n(C)}function f(C){return C===45?(e.consume(C),m):n(C)}function p(C){return C===null?n(C):C===45?(e.consume(C),h):ke(C)?(o=p,te(C)):(e.consume(C),p)}function h(C){return C===45?(e.consume(C),m):p(C)}function m(C){return C===62?ee(C):C===45?h(C):p(C)}function x(C){const me="CDATA[";return C===me.charCodeAt(l++)?(e.consume(C),l===me.length?E:x):n(C)}function E(C){return C===null?n(C):C===93?(e.consume(C),I):ke(C)?(o=E,te(C)):(e.consume(C),E)}function I(C){return C===93?(e.consume(C),k):E(C)}function k(C){return C===62?ee(C):C===93?(e.consume(C),k):E(C)}function w(C){return C===null||C===62?ee(C):ke(C)?(o=w,te(C)):(e.consume(C),w)}function S(C){return C===null?n(C):C===63?(e.consume(C),L):ke(C)?(o=S,te(C)):(e.consume(C),S)}function L(C){return C===62?ee(C):S(C)}function A(C){return er(C)?(e.consume(C),T):n(C)}function T(C){return C===45||fn(C)?(e.consume(C),T):W(C)}function W(C){return ke(C)?(o=W,te(C)):Be(C)?(e.consume(C),W):ee(C)}function _(C){return C===45||fn(C)?(e.consume(C),_):C===47||C===62||tn(C)?Y(C):n(C)}function Y(C){return C===47?(e.consume(C),ee):C===58||C===95||er(C)?(e.consume(C),U):ke(C)?(o=Y,te(C)):Be(C)?(e.consume(C),Y):ee(C)}function U(C){return C===45||C===46||C===58||C===95||fn(C)?(e.consume(C),U):Z(C)}function Z(C){return C===61?(e.consume(C),q):ke(C)?(o=Z,te(C)):Be(C)?(e.consume(C),Z):Y(C)}function q(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),i=C,he):ke(C)?(o=q,te(C)):Be(C)?(e.consume(C),q):(e.consume(C),xe)}function he(C){return C===i?(e.consume(C),i=void 0,B):C===null?n(C):ke(C)?(o=he,te(C)):(e.consume(C),he)}function xe(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||tn(C)?Y(C):(e.consume(C),xe)}function B(C){return C===47||C===62||tn(C)?Y(C):n(C)}function ee(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function te(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),M}function M(C){return Be(C)?Ye(e,H,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):H(C)}function H(C){return e.enter("htmlTextData"),o(C)}}const Bd={name:"labelEnd",resolveAll:pS,resolveTo:hS,tokenize:mS},uS={tokenize:gS},dS={tokenize:yS},fS={tokenize:xS};function pS(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&rr(e,0,e.length,n),e}function hS(e,t){let n=e.length,r=0,i,l,o,a;for(;n--;)if(i=e[n][1],l){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(l=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const c={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[l][1].start},end:{...e[o][1].end}},f={type:"labelText",start:{...e[l+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",c,t],["enter",u,t]],a=Sn(a,e.slice(l+1,l+r+3)),a=Sn(a,[["enter",f,t]]),a=Sn(a,Wd(t.parser.constructs.insideSpan.null,e.slice(l+r+4,o-3),t)),a=Sn(a,[["exit",f,t],e[o-2],e[o-1],["exit",u,t]]),a=Sn(a,e.slice(o+1)),a=Sn(a,[["exit",c,t]]),rr(e,l,e.length,a),e}function mS(e,t,n){const r=this;let i=r.events.length,l,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){l=r.events[i][1];break}return a;function a(h){return l?l._inactive?p(h):(o=r.parser.defined.includes(Zi(r.sliceSerialize({start:l.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),c):n(h)}function c(h){return h===40?e.attempt(uS,f,o?f:p)(h):h===91?e.attempt(dS,f,o?u:p)(h):o?f(h):p(h)}function u(h){return e.attempt(fS,f,p)(h)}function f(h){return t(h)}function p(h){return l._balanced=!0,n(h)}}function gS(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return tn(p)?Gl(e,l)(p):l(p)}function l(p){return p===41?f(p):Cy(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function o(p){return tn(p)?Gl(e,c)(p):f(p)}function a(p){return n(p)}function c(p){return p===34||p===39||p===40?by(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):f(p)}function u(p){return tn(p)?Gl(e,f)(p):f(p)}function f(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function yS(e,t,n){const r=this;return i;function i(a){return jy.call(r,e,l,o,"reference","referenceMarker","referenceString")(a)}function l(a){return r.parser.defined.includes(Zi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function xS(e,t,n){return r;function r(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),i}function i(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const vS={name:"labelStartImage",resolveAll:Bd.resolveAll,tokenize:wS};function wS(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),l}function l(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const kS={name:"labelStartLink",resolveAll:Bd.resolveAll,tokenize:SS};function SS(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),l}function l(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const mc={name:"lineEnding",tokenize:CS};function CS(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ye(e,t,"linePrefix")}}const wo={name:"thematicBreak",tokenize:jS};function jS(e,t,n){let r=0,i;return l;function l(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||ke(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===i?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),Be(u)?Ye(e,a,"whitespace")(u):a(u))}}const Yt={continuation:{tokenize:_S},exit:PS,name:"list",tokenize:ES},bS={partial:!0,tokenize:RS},NS={partial:!0,tokenize:TS};function ES(e,t,n){const r=this,i=r.events[r.events.length-1];let l=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(m){const x=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:Tu(m)){if(r.containerState.type||(r.containerState.type=x,e.enter(x,{_container:!0})),x==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(wo,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(m)}return n(m)}function c(m){return Tu(m)&&++o<10?(e.consume(m),c):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(ya,r.interrupt?n:f,e.attempt(bS,h,p))}function f(m){return r.containerState.initialBlankLine=!0,l++,h(m)}function p(m){return Be(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),h):n(m)}function h(m){return r.containerState.size=l+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function _S(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(ya,i,l);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ye(e,t,"listItemIndent",r.containerState.size+1)(a)}function l(a){return r.containerState.furtherBlankLines||!Be(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(NS,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ye(e,e.attempt(Yt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function TS(e,t,n){const r=this;return Ye(e,i,"listItemIndent",r.containerState.size+1);function i(l){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(l):n(l)}}function PS(e){e.exit(this.containerState.type)}function RS(e,t,n){const r=this;return Ye(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(l){const o=r.events[r.events.length-1];return!Be(l)&&o&&o[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const oh={name:"setextUnderline",resolveTo:LS,tokenize:IS};function LS(e,t){let n=e.length,r,i,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",l?(e.splice(i,0,["enter",o,t]),e.splice(l+1,0,["exit",e[r][1],t]),e[r][1].end={...e[l][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function IS(e,t,n){const r=this;let i;return l;function l(u){let f=r.events.length,p;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){p=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),Be(u)?Ye(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||ke(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const AS={tokenize:DS};function DS(e){const t=this,n=e.attempt(ya,r,e.attempt(this.parser.constructs.flowInitial,i,Ye(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Wk,i)),"linePrefix")));return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const OS={resolveAll:Ey()},zS=Ny("string"),MS=Ny("text");function Ny(e){return{resolveAll:Ey(e==="text"?FS:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],l=n.attempt(i,o,a);return o;function o(f){return u(f)?l(f):a(f)}function a(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),c}function c(f){return u(f)?(n.exit("data"),l(f)):(n.consume(f),c)}function u(f){if(f===null)return!0;const p=i[f];let h=-1;if(p)for(;++h<p.length;){const m=p[h];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function Ey(e){return t;function t(n,r){let i=-1,l;for(;++i<=n.length;)l===void 0?n[i]&&n[i][1].type==="data"&&(l=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==l+2&&(n[l][1].end=n[i-1][1].end,n.splice(l+2,i-l-2),i=l+2),l=void 0);return e?e(n,r):n}}function FS(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let l=i.length,o=-1,a=0,c;for(;l--;){const u=i[l];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)c=!0,a++;else if(u!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const u={type:n===e.length||c||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?o:r.start._bufferIndex+o,_index:r.start._index+l,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const WS={42:Yt,43:Yt,45:Yt,48:Yt,49:Yt,50:Yt,51:Yt,52:Yt,53:Yt,54:Yt,55:Yt,56:Yt,57:Yt,62:vy},BS={91:Vk},$S={[-2]:hc,[-1]:hc,32:hc},US={35:Jk,42:wo,45:[oh,wo],60:tS,61:oh,95:wo,96:lh,126:lh},HS={38:ky,92:wy},VS={[-5]:mc,[-4]:mc,[-3]:mc,33:vS,38:ky,42:Pu,60:[kk,aS],91:kS,92:[Yk,wy],93:Bd,95:Pu,96:Ak},GS={null:[Pu,OS]},KS={null:[42,95]},QS={null:[]},YS=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:KS,contentInitial:BS,disable:QS,document:WS,flow:US,flowInitial:$S,insideSpan:GS,string:HS,text:VS},Symbol.toStringTag,{value:"Module"}));function XS(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},l=[];let o=[],a=[];const c={attempt:W(A),check:W(T),consume:w,enter:S,exit:L,interrupt:W(T,{interrupt:!0})},u={code:null,containerState:{},defineSkip:E,events:[],now:x,parser:e,previous:null,sliceSerialize:h,sliceStream:m,write:p};let f=t.tokenize.call(u,c);return t.resolveAll&&l.push(t),u;function p(Z){return o=Sn(o,Z),I(),o[o.length-1]!==null?[]:(_(t,0),u.events=Wd(l,u.events,u),u.events)}function h(Z,q){return qS(m(Z),q)}function m(Z){return JS(o,Z)}function x(){const{_bufferIndex:Z,_index:q,line:he,column:xe,offset:B}=r;return{_bufferIndex:Z,_index:q,line:he,column:xe,offset:B}}function E(Z){i[Z.line]=Z.column,U()}function I(){let Z;for(;r._index<o.length;){const q=o[r._index];if(typeof q=="string")for(Z=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Z&&r._bufferIndex<q.length;)k(q.charCodeAt(r._bufferIndex));else k(q)}}function k(Z){f=f(Z)}function w(Z){ke(Z)?(r.line++,r.column=1,r.offset+=Z===-3?2:1,U()):Z!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=Z}function S(Z,q){const he=q||{};return he.type=Z,he.start=x(),u.events.push(["enter",he,u]),a.push(he),he}function L(Z){const q=a.pop();return q.end=x(),u.events.push(["exit",q,u]),q}function A(Z,q){_(Z,q.from)}function T(Z,q){q.restore()}function W(Z,q){return he;function he(xe,B,ee){let te,M,H,C;return Array.isArray(xe)?K(xe):"tokenize"in xe?K([xe]):me(xe);function me(fe){return je;function je(_e){const Se=_e!==null&&fe[_e],ge=_e!==null&&fe.null,J=[...Array.isArray(Se)?Se:Se?[Se]:[],...Array.isArray(ge)?ge:ge?[ge]:[]];return K(J)(_e)}}function K(fe){return te=fe,M=0,fe.length===0?ee:j(fe[M])}function j(fe){return je;function je(_e){return C=Y(),H=fe,fe.partial||(u.currentConstruct=fe),fe.name&&u.parser.constructs.disable.null.includes(fe.name)?ue():fe.tokenize.call(q?Object.assign(Object.create(u),q):u,c,se,ue)(_e)}}function se(fe){return Z(H,C),B}function ue(fe){return C.restore(),++M<te.length?j(te[M]):ee}}}function _(Z,q){Z.resolveAll&&!l.includes(Z)&&l.push(Z),Z.resolve&&rr(u.events,q,u.events.length-q,Z.resolve(u.events.slice(q),u)),Z.resolveTo&&(u.events=Z.resolveTo(u.events,u))}function Y(){const Z=x(),q=u.previous,he=u.currentConstruct,xe=u.events.length,B=Array.from(a);return{from:xe,restore:ee};function ee(){r=Z,u.previous=q,u.currentConstruct=he,u.events.length=xe,a=B,U()}}function U(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function JS(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,l=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,l)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}l>0&&o.push(e[i].slice(0,l))}return o}function qS(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const l=e[n];let o;if(typeof l=="string")o=l;else switch(l){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(l)}i=l===-2,r.push(o)}return r.join("")}function ZS(e){const r={constructs:sk([YS,...(e||{}).extensions||[]]),content:i(hk),defined:[],document:i(gk),flow:i(AS),lazy:{},string:i(zS),text:i(MS)};return r;function i(l){return o;function o(a){return XS(r,l,a)}}}function eC(e){for(;!Sy(e););return e}const ah=/[\0\t\n\r]/g;function tC(){let e=1,t="",n=!0,r;return i;function i(l,o,a){const c=[];let u,f,p,h,m;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(o||void 0).decode(l)),p=0,t="",n&&(l.charCodeAt(0)===65279&&p++,n=void 0);p<l.length;){if(ah.lastIndex=p,u=ah.exec(l),h=u&&u.index!==void 0?u.index:l.length,m=l.charCodeAt(h),!u){t=l.slice(p);break}if(m===10&&p===h&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),p<h&&(c.push(l.slice(p,h)),e+=h-p),m){case 0:{c.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,c.push(-2);e++<f;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}p=h+1}return a&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const nC=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function rC(e){return e.replace(nC,iC)}function iC(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),l=i===120||i===88;return xy(n.slice(l?2:1),l?16:10)}return Fd(n)||e}const _y={}.hasOwnProperty;function lC(e,t,n){return typeof t!="string"&&(n=t,t=void 0),sC(n)(eC(ZS(n).document().write(tC()(e,t,!0))))}function sC(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Oe),autolinkProtocol:Y,autolinkEmail:Y,atxHeading:l(nt),blockQuote:l(ge),characterEscape:Y,characterReference:Y,codeFenced:l(J),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:l(J,o),codeText:l(Pe,o),codeTextData:Y,data:Y,codeFlowValue:Y,definition:l(at),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:l(De),hardBreakEscape:l(Q),hardBreakTrailing:l(Q),htmlFlow:l($e,o),htmlFlowData:Y,htmlText:l($e,o),htmlTextData:Y,image:l(Re),label:o,link:l(Oe),listItem:l(rt),listItemValue:h,listOrdered:l(Mt,p),listUnordered:l(Mt),paragraph:l(z),reference:j,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:l(nt),strong:l(ve),thematicBreak:l(we)},exit:{atxHeading:c(),atxHeadingSequence:A,autolink:c(),autolinkEmail:Se,autolinkProtocol:_e,blockQuote:c(),characterEscapeValue:U,characterReferenceMarkerHexadecimal:ue,characterReferenceMarkerNumeric:ue,characterReferenceValue:fe,characterReference:je,codeFenced:c(I),codeFencedFence:E,codeFencedFenceInfo:m,codeFencedFenceMeta:x,codeFlowValue:U,codeIndented:c(k),codeText:c(B),codeTextData:U,data:U,definition:c(),definitionDestinationString:L,definitionLabelString:w,definitionTitleString:S,emphasis:c(),hardBreakEscape:c(q),hardBreakTrailing:c(q),htmlFlow:c(he),htmlFlowData:U,htmlText:c(xe),htmlTextData:U,image:c(te),label:H,labelText:M,lineEnding:Z,link:c(ee),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:se,resourceDestinationString:C,resourceTitleString:me,resource:K,setextHeading:c(_),setextHeadingLineSequence:W,setextHeadingText:T,strong:c(),thematicBreak:c()}};Ty(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(b){let R={type:"root",children:[]};const V={stack:[R],tokenStack:[],config:t,enter:a,exit:u,buffer:o,resume:f,data:n},oe=[];let de=-1;for(;++de<b.length;)if(b[de][1].type==="listOrdered"||b[de][1].type==="listUnordered")if(b[de][0]==="enter")oe.push(de);else{const Ae=oe.pop();de=i(b,Ae,de)}for(de=-1;++de<b.length;){const Ae=t[b[de][0]];_y.call(Ae,b[de][1].type)&&Ae[b[de][1].type].call(Object.assign({sliceSerialize:b[de][2].sliceSerialize},V),b[de][1])}if(V.tokenStack.length>0){const Ae=V.tokenStack[V.tokenStack.length-1];(Ae[1]||ch).call(V,void 0,Ae[0])}for(R.position={start:Er(b.length>0?b[0][1].start:{line:1,column:1,offset:0}),end:Er(b.length>0?b[b.length-2][1].end:{line:1,column:1,offset:0})},de=-1;++de<t.transforms.length;)R=t.transforms[de](R)||R;return R}function i(b,R,V){let oe=R-1,de=-1,Ae=!1,be,Ce,Ue,it;for(;++oe<=V;){const He=b[oe];switch(He[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{He[0]==="enter"?de++:de--,it=void 0;break}case"lineEndingBlank":{He[0]==="enter"&&(be&&!it&&!de&&!Ue&&(Ue=oe),it=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:it=void 0}if(!de&&He[0]==="enter"&&He[1].type==="listItemPrefix"||de===-1&&He[0]==="exit"&&(He[1].type==="listUnordered"||He[1].type==="listOrdered")){if(be){let qe=oe;for(Ce=void 0;qe--;){const Ze=b[qe];if(Ze[1].type==="lineEnding"||Ze[1].type==="lineEndingBlank"){if(Ze[0]==="exit")continue;Ce&&(b[Ce][1].type="lineEndingBlank",Ae=!0),Ze[1].type="lineEnding",Ce=qe}else if(!(Ze[1].type==="linePrefix"||Ze[1].type==="blockQuotePrefix"||Ze[1].type==="blockQuotePrefixWhitespace"||Ze[1].type==="blockQuoteMarker"||Ze[1].type==="listItemIndent"))break}Ue&&(!Ce||Ue<Ce)&&(be._spread=!0),be.end=Object.assign({},Ce?b[Ce][1].start:He[1].end),b.splice(Ce||oe,0,["exit",be,He[2]]),oe++,V++}if(He[1].type==="listItemPrefix"){const qe={type:"listItem",_spread:!1,start:Object.assign({},He[1].start),end:void 0};be=qe,b.splice(oe,0,["enter",qe,He[2]]),oe++,V++,Ue=void 0,it=!0}}}return b[R][1]._spread=Ae,V}function l(b,R){return V;function V(oe){a.call(this,b(oe),oe),R&&R.call(this,oe)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(b,R,V){this.stack[this.stack.length-1].children.push(b),this.stack.push(b),this.tokenStack.push([R,V||void 0]),b.position={start:Er(R.start),end:void 0}}function c(b){return R;function R(V){b&&b.call(this,V),u.call(this,V)}}function u(b,R){const V=this.stack.pop(),oe=this.tokenStack.pop();if(oe)oe[0].type!==b.type&&(R?R.call(this,b,oe[0]):(oe[1]||ch).call(this,b,oe[0]));else throw new Error("Cannot close `"+b.type+"` ("+Vl({start:b.start,end:b.end})+"): its not open");V.position.end=Er(b.end)}function f(){return ik(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function h(b){if(this.data.expectingFirstListItemValue){const R=this.stack[this.stack.length-2];R.start=Number.parseInt(this.sliceSerialize(b),10),this.data.expectingFirstListItemValue=void 0}}function m(){const b=this.resume(),R=this.stack[this.stack.length-1];R.lang=b}function x(){const b=this.resume(),R=this.stack[this.stack.length-1];R.meta=b}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function I(){const b=this.resume(),R=this.stack[this.stack.length-1];R.value=b.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const b=this.resume(),R=this.stack[this.stack.length-1];R.value=b.replace(/(\r?\n|\r)$/g,"")}function w(b){const R=this.resume(),V=this.stack[this.stack.length-1];V.label=R,V.identifier=Zi(this.sliceSerialize(b)).toLowerCase()}function S(){const b=this.resume(),R=this.stack[this.stack.length-1];R.title=b}function L(){const b=this.resume(),R=this.stack[this.stack.length-1];R.url=b}function A(b){const R=this.stack[this.stack.length-1];if(!R.depth){const V=this.sliceSerialize(b).length;R.depth=V}}function T(){this.data.setextHeadingSlurpLineEnding=!0}function W(b){const R=this.stack[this.stack.length-1];R.depth=this.sliceSerialize(b).codePointAt(0)===61?1:2}function _(){this.data.setextHeadingSlurpLineEnding=void 0}function Y(b){const V=this.stack[this.stack.length-1].children;let oe=V[V.length-1];(!oe||oe.type!=="text")&&(oe=D(),oe.position={start:Er(b.start),end:void 0},V.push(oe)),this.stack.push(oe)}function U(b){const R=this.stack.pop();R.value+=this.sliceSerialize(b),R.position.end=Er(b.end)}function Z(b){const R=this.stack[this.stack.length-1];if(this.data.atHardBreak){const V=R.children[R.children.length-1];V.position.end=Er(b.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(R.type)&&(Y.call(this,b),U.call(this,b))}function q(){this.data.atHardBreak=!0}function he(){const b=this.resume(),R=this.stack[this.stack.length-1];R.value=b}function xe(){const b=this.resume(),R=this.stack[this.stack.length-1];R.value=b}function B(){const b=this.resume(),R=this.stack[this.stack.length-1];R.value=b}function ee(){const b=this.stack[this.stack.length-1];if(this.data.inReference){const R=this.data.referenceType||"shortcut";b.type+="Reference",b.referenceType=R,delete b.url,delete b.title}else delete b.identifier,delete b.label;this.data.referenceType=void 0}function te(){const b=this.stack[this.stack.length-1];if(this.data.inReference){const R=this.data.referenceType||"shortcut";b.type+="Reference",b.referenceType=R,delete b.url,delete b.title}else delete b.identifier,delete b.label;this.data.referenceType=void 0}function M(b){const R=this.sliceSerialize(b),V=this.stack[this.stack.length-2];V.label=rC(R),V.identifier=Zi(R).toLowerCase()}function H(){const b=this.stack[this.stack.length-1],R=this.resume(),V=this.stack[this.stack.length-1];if(this.data.inReference=!0,V.type==="link"){const oe=b.children;V.children=oe}else V.alt=R}function C(){const b=this.resume(),R=this.stack[this.stack.length-1];R.url=b}function me(){const b=this.resume(),R=this.stack[this.stack.length-1];R.title=b}function K(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function se(b){const R=this.resume(),V=this.stack[this.stack.length-1];V.label=R,V.identifier=Zi(this.sliceSerialize(b)).toLowerCase(),this.data.referenceType="full"}function ue(b){this.data.characterReferenceType=b.type}function fe(b){const R=this.sliceSerialize(b),V=this.data.characterReferenceType;let oe;V?(oe=xy(R,V==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):oe=Fd(R);const de=this.stack[this.stack.length-1];de.value+=oe}function je(b){const R=this.stack.pop();R.position.end=Er(b.end)}function _e(b){U.call(this,b);const R=this.stack[this.stack.length-1];R.url=this.sliceSerialize(b)}function Se(b){U.call(this,b);const R=this.stack[this.stack.length-1];R.url="mailto:"+this.sliceSerialize(b)}function ge(){return{type:"blockquote",children:[]}}function J(){return{type:"code",lang:null,meta:null,value:""}}function Pe(){return{type:"inlineCode",value:""}}function at(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function De(){return{type:"emphasis",children:[]}}function nt(){return{type:"heading",depth:0,children:[]}}function Q(){return{type:"break"}}function $e(){return{type:"html",value:""}}function Re(){return{type:"image",title:null,url:"",alt:null}}function Oe(){return{type:"link",title:null,url:"",children:[]}}function Mt(b){return{type:"list",ordered:b.type==="listOrdered",start:null,spread:b._spread,children:[]}}function rt(b){return{type:"listItem",spread:b._spread,checked:null,children:[]}}function z(){return{type:"paragraph",children:[]}}function ve(){return{type:"strong",children:[]}}function D(){return{type:"text",value:""}}function we(){return{type:"thematicBreak"}}}function Er(e){return{line:e.line,column:e.column,offset:e.offset}}function Ty(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Ty(e,r):oC(e,r)}}function oC(e,t){let n;for(n in t)if(_y.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function ch(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Vl({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Vl({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Vl({start:t.start,end:t.end})+") is still open")}function aC(e){const t=this;t.parser=n;function n(r){return lC(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function cC(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function uC(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function dC(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let l={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(l.data={meta:t.meta}),e.patch(t,l),l=e.applyData(t,l),l={type:"element",tagName:"pre",properties:{},children:[l]},e.patch(t,l),l}function fC(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function pC(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function hC(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=dl(r.toLowerCase()),l=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=l+1,a+=1,e.footnoteCounts.set(r,a);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function mC(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gC(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Py(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),l=i[0];l&&l.type==="text"?l.value="["+l.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function yC(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Py(e,t);const i={src:dl(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const l={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,l),e.applyData(t,l)}function xC(e,t){const n={src:dl(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function vC(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function wC(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Py(e,t);const i={href:dl(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const l={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function kC(e,t){const n={href:dl(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function SC(e,t,n){const r=e.all(t),i=n?CC(n):Ry(t),l={},o=[];if(typeof t.checked=="boolean"){const f=r[0];let p;f&&f.type==="element"&&f.tagName==="p"?p=f:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const f=r[a];(i||a!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?o.push(...f.children):o.push(f)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:l,children:o};return e.patch(t,u),e.applyData(t,u)}function CC(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Ry(n[r])}return t}function Ry(e){const t=e.spread;return t??e.children.length>1}function jC(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,l),e.applyData(t,l)}function bC(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function NC(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function EC(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function _C(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=Dd(t.children[1]),c=dy(t.children[t.children.length-1]);a&&c&&(o.position={start:a,end:c}),i.push(o)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,l),e.applyData(t,l)}function TC(e,t,n){const r=n?n.children:void 0,l=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let c=-1;const u=[];for(;++c<a;){const p=t.children[c],h={},m=o?o[c]:void 0;m&&(h.align=m);let x={type:"element",tagName:l,properties:h,children:[]};p&&(x.children=e.all(p),e.patch(p,x),x=e.applyData(p,x)),u.push(x)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,f),e.applyData(t,f)}function PC(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const uh=9,dh=32;function RC(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const l=[];for(;r;)l.push(fh(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return l.push(fh(t.slice(i),i>0,!1)),l.join("")}function fh(e,t,n){let r=0,i=e.length;if(t){let l=e.codePointAt(r);for(;l===uh||l===dh;)r++,l=e.codePointAt(r)}if(n){let l=e.codePointAt(i-1);for(;l===uh||l===dh;)i--,l=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function LC(e,t){const n={type:"text",value:RC(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function IC(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const AC={blockquote:cC,break:uC,code:dC,delete:fC,emphasis:pC,footnoteReference:hC,heading:mC,html:gC,imageReference:yC,image:xC,inlineCode:vC,linkReference:wC,link:kC,listItem:SC,list:jC,paragraph:bC,root:NC,strong:EC,table:_C,tableCell:PC,tableRow:TC,text:LC,thematicBreak:IC,toml:to,yaml:to,definition:to,footnoteDefinition:to};function to(){}const Ly=-1,xa=0,Kl=1,Yo=2,$d=3,Ud=4,Hd=5,Vd=6,Iy=7,Ay=8,ph=typeof self=="object"?self:globalThis,DC=(e,t)=>{const n=(i,l)=>(e.set(l,i),i),r=i=>{if(e.has(i))return e.get(i);const[l,o]=t[i];switch(l){case xa:case Ly:return n(o,i);case Kl:{const a=n([],i);for(const c of o)a.push(r(c));return a}case Yo:{const a=n({},i);for(const[c,u]of o)a[r(c)]=r(u);return a}case $d:return n(new Date(o),i);case Ud:{const{source:a,flags:c}=o;return n(new RegExp(a,c),i)}case Hd:{const a=n(new Map,i);for(const[c,u]of o)a.set(r(c),r(u));return a}case Vd:{const a=n(new Set,i);for(const c of o)a.add(r(c));return a}case Iy:{const{name:a,message:c}=o;return n(new ph[a](c),i)}case Ay:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new ph[l](o),i)};return r},hh=e=>DC(new Map,e)(0),Pi="",{toString:OC}={},{keys:zC}=Object,Tl=e=>{const t=typeof e;if(t!=="object"||!e)return[xa,t];const n=OC.call(e).slice(8,-1);switch(n){case"Array":return[Kl,Pi];case"Object":return[Yo,Pi];case"Date":return[$d,Pi];case"RegExp":return[Ud,Pi];case"Map":return[Hd,Pi];case"Set":return[Vd,Pi];case"DataView":return[Kl,n]}return n.includes("Array")?[Kl,n]:n.includes("Error")?[Iy,n]:[Yo,n]},no=([e,t])=>e===xa&&(t==="function"||t==="symbol"),MC=(e,t,n,r)=>{const i=(o,a)=>{const c=r.push(o)-1;return n.set(a,c),c},l=o=>{if(n.has(o))return n.get(o);let[a,c]=Tl(o);switch(a){case xa:{let f=o;switch(c){case"bigint":a=Ay,f=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);f=null;break;case"undefined":return i([Ly],o)}return i([a,f],o)}case Kl:{if(c){let h=o;return c==="DataView"?h=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(h=new Uint8Array(o)),i([c,[...h]],o)}const f=[],p=i([a,f],o);for(const h of o)f.push(l(h));return p}case Yo:{if(c)switch(c){case"BigInt":return i([c,o.toString()],o);case"Boolean":case"Number":case"String":return i([c,o.valueOf()],o)}if(t&&"toJSON"in o)return l(o.toJSON());const f=[],p=i([a,f],o);for(const h of zC(o))(e||!no(Tl(o[h])))&&f.push([l(h),l(o[h])]);return p}case $d:return i([a,o.toISOString()],o);case Ud:{const{source:f,flags:p}=o;return i([a,{source:f,flags:p}],o)}case Hd:{const f=[],p=i([a,f],o);for(const[h,m]of o)(e||!(no(Tl(h))||no(Tl(m))))&&f.push([l(h),l(m)]);return p}case Vd:{const f=[],p=i([a,f],o);for(const h of o)(e||!no(Tl(h)))&&f.push(l(h));return p}}const{message:u}=o;return i([a,{name:c,message:u}],o)};return l},mh=(e,{json:t,lossy:n}={})=>{const r=[];return MC(!(t||n),!!t,new Map,r)(e),r},Xo=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?hh(mh(e,t)):structuredClone(e):(e,t)=>hh(mh(e,t));function FC(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function WC(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function BC(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||FC,r=e.options.footnoteBackLabel||WC,i=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const f=e.all(u),p=String(u.identifier).toUpperCase(),h=dl(p.toLowerCase());let m=0;const x=[],E=e.footnoteCounts.get(p);for(;E!==void 0&&++m<=E;){x.length>0&&x.push({type:"text",value:" "});let w=typeof n=="string"?n:n(c,m);typeof w=="string"&&(w={type:"text",value:w}),x.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,m),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const I=f[f.length-1];if(I&&I.type==="element"&&I.tagName==="p"){const w=I.children[I.children.length-1];w&&w.type==="text"?w.value+=" ":I.children.push({type:"text",value:" "}),I.children.push(...x)}else f.push(...x);const k={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(f,!0)};e.patch(u,k),a.push(k)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Xo(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const Dy=function(e){if(e==null)return VC;if(typeof e=="function")return va(e);if(typeof e=="object")return Array.isArray(e)?$C(e):UC(e);if(typeof e=="string")return HC(e);throw new Error("Expected function, string, or object as test")};function $C(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Dy(e[n]);return va(r);function r(...i){let l=-1;for(;++l<t.length;)if(t[l].apply(this,i))return!0;return!1}}function UC(e){const t=e;return va(n);function n(r){const i=r;let l;for(l in e)if(i[l]!==t[l])return!1;return!0}}function HC(e){return va(t);function t(n){return n&&n.type===e}}function va(e){return t;function t(n,r,i){return!!(GC(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function VC(){return!0}function GC(e){return e!==null&&typeof e=="object"&&"type"in e}const Oy=[],KC=!0,gh=!1,QC="skip";function YC(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const l=Dy(i),o=r?-1:1;a(e,void 0,[])();function a(c,u,f){const p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){const m=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(c.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=Oy,x,E,I;if((!t||l(c,u,f[f.length-1]||void 0))&&(m=XC(n(c,f)),m[0]===gh))return m;if("children"in c&&c.children){const k=c;if(k.children&&m[0]!==QC)for(E=(r?k.children.length:-1)+o,I=f.concat(k);E>-1&&E<k.children.length;){const w=k.children[E];if(x=a(w,E,I)(),x[0]===gh)return x;E=typeof x[1]=="number"?x[1]:E+o}}return m}}}function XC(e){return Array.isArray(e)?e:typeof e=="number"?[KC,e]:e==null?Oy:[e]}function zy(e,t,n,r){let i,l,o;typeof t=="function"&&typeof n!="function"?(l=void 0,o=t,i=n):(l=t,o=n,i=r),YC(e,l,a,i);function a(c,u){const f=u[u.length-1],p=f?f.children.indexOf(c):void 0;return o(c,p,f)}}const Ru={}.hasOwnProperty,JC={};function qC(e,t){const n=t||JC,r=new Map,i=new Map,l=new Map,o={...AC,...n.handlers},a={all:u,applyData:ej,definitionById:r,footnoteById:i,footnoteCounts:l,footnoteOrder:[],handlers:o,one:c,options:n,patch:ZC,wrap:nj};return zy(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const p=f.type==="definition"?r:i,h=String(f.identifier).toUpperCase();p.has(h)||p.set(h,f)}}),a;function c(f,p){const h=f.type,m=a.handlers[h];if(Ru.call(a.handlers,h)&&m)return m(a,f,p);if(a.options.passThrough&&a.options.passThrough.includes(h)){if("children"in f){const{children:E,...I}=f,k=Xo(I);return k.children=a.all(f),k}return Xo(f)}return(a.options.unknownHandler||tj)(a,f,p)}function u(f){const p=[];if("children"in f){const h=f.children;let m=-1;for(;++m<h.length;){const x=a.one(h[m],f);if(x){if(m&&h[m-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=yh(x.value)),!Array.isArray(x)&&x.type==="element")){const E=x.children[0];E&&E.type==="text"&&(E.value=yh(E.value))}Array.isArray(x)?p.push(...x):p.push(x)}}}return p}}function ZC(e,t){e.position&&(t.position=O0(e))}function ej(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,l=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&l&&Object.assign(n.properties,Xo(l)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function tj(e,t){const n=t.data||{},r="value"in t&&!(Ru.call(n,"hProperties")||Ru.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function nj(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function yh(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function xh(e,t){const n=qC(e,t),r=n.one(e,void 0),i=BC(n),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&l.children.push({type:"text",value:`
`},i),l}function rj(e,t){return e&&"run"in e?async function(n,r){const i=xh(n,{file:r,...t});await e.run(i,r)}:function(n,r){return xh(n,{file:r,...e||t})}}function vh(e){if(e)throw e}var ko=Object.prototype.hasOwnProperty,My=Object.prototype.toString,wh=Object.defineProperty,kh=Object.getOwnPropertyDescriptor,Sh=function(t){return typeof Array.isArray=="function"?Array.isArray(t):My.call(t)==="[object Array]"},Ch=function(t){if(!t||My.call(t)!=="[object Object]")return!1;var n=ko.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&ko.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||ko.call(t,i)},jh=function(t,n){wh&&n.name==="__proto__"?wh(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},bh=function(t,n){if(n==="__proto__")if(ko.call(t,n)){if(kh)return kh(t,n).value}else return;return t[n]},ij=function e(){var t,n,r,i,l,o,a=arguments[0],c=1,u=arguments.length,f=!1;for(typeof a=="boolean"&&(f=a,a=arguments[1]||{},c=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)r=bh(a,n),i=bh(t,n),a!==i&&(f&&i&&(Ch(i)||(l=Sh(i)))?(l?(l=!1,o=r&&Sh(r)?r:[]):o=r&&Ch(r)?r:{},jh(a,{name:n,newValue:e(f,o,i)})):typeof i<"u"&&jh(a,{name:n,newValue:i}));return a};const gc=Ou(ij);function Lu(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function lj(){const e=[],t={run:n,use:r};return t;function n(...i){let l=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(c,...u){const f=e[++l];let p=-1;if(c){o(c);return}for(;++p<i.length;)(u[p]===null||u[p]===void 0)&&(u[p]=i[p]);i=u,f?sj(f,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function sj(e,t){let n;return r;function r(...o){const a=e.length>o.length;let c;a&&o.push(i);try{c=e.apply(this,o)}catch(u){const f=u;if(a&&n)throw f;return i(f)}a||(c&&c.then&&typeof c.then=="function"?c.then(l,i):c instanceof Error?i(c):l(c))}function i(o,...a){n||(n=!0,t(o,...a))}function l(o){i(null,o)}}const qn={basename:oj,dirname:aj,extname:cj,join:uj,sep:"/"};function oj(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');vs(e);let n=0,r=-1,i=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(l){n=i+1;break}}else r<0&&(l=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(l){n=i+1;break}}else o<0&&(l=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function aj(e){if(vs(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function cj(e){vs(e);let t=e.length,n=-1,r=0,i=-1,l=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:l!==1&&(l=1):i>-1&&(l=-1)}return i<0||n<0||l===0||l===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function uj(...e){let t=-1,n;for(;++t<e.length;)vs(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":dj(n)}function dj(e){vs(e);const t=e.codePointAt(0)===47;let n=fj(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function fj(e,t){let n="",r=0,i=-1,l=0,o=-1,a,c;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||l===1))if(i!==o-1&&l===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=o,l=0;continue}}else if(n.length>0){n="",r=0,i=o,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,l=0}else a===46&&l>-1?l++:l=-1}return n}function vs(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const pj={cwd:hj};function hj(){return"/"}function Iu(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function mj(e){if(typeof e=="string")e=new URL(e);else if(!Iu(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return gj(e)}function gj(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const yc=["history","path","basename","stem","extname","dirname"];class Fy{constructor(t){let n;t?Iu(t)?n={path:t}:typeof t=="string"||yj(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":pj.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<yc.length;){const l=yc[r];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let i;for(i in n)yc.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?qn.basename(this.path):void 0}set basename(t){vc(t,"basename"),xc(t,"basename"),this.path=qn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?qn.dirname(this.path):void 0}set dirname(t){Nh(this.basename,"dirname"),this.path=qn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?qn.extname(this.path):void 0}set extname(t){if(xc(t,"extname"),Nh(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=qn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Iu(t)&&(t=mj(t)),vc(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?qn.basename(this.path,this.extname):void 0}set stem(t){vc(t,"stem"),xc(t,"stem"),this.path=qn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new zt(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function xc(e,t){if(e&&e.includes(qn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+qn.sep+"`")}function vc(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Nh(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function yj(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const xj=function(e){const r=this.constructor.prototype,i=r[e],l=function(){return i.apply(l,arguments)};return Object.setPrototypeOf(l,r),l},vj={}.hasOwnProperty;class Gd extends xj{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=lj()}copy(){const t=new Gd;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(gc(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Sc("data",this.frozen),this.namespace[t]=n,this):vj.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Sc("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=ro(t),r=this.parser||this.Parser;return wc("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),wc("process",this.parser||this.Parser),kc("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(l,o){const a=ro(t),c=r.parse(a);r.run(c,a,function(f,p,h){if(f||!p||!h)return u(f);const m=p,x=r.stringify(m,h);Sj(x)?h.value=x:h.result=x,u(f,h)});function u(f,p){f||!p?o(f):l?l(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),wc("processSync",this.parser||this.Parser),kc("processSync",this.compiler||this.Compiler),this.process(t,i),_h("processSync","process",n),r;function i(l,o){n=!0,vh(l),r=o}}run(t,n,r){Eh(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?l(void 0,r):new Promise(l);function l(o,a){const c=ro(n);i.run(t,c,u);function u(f,p,h){const m=p||t;f?a(f):o?o(m):r(void 0,m,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,l),_h("runSync","run",r),i;function l(o,a){vh(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=ro(n),i=this.compiler||this.Compiler;return kc("stringify",i),Eh(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Sc("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[f,...p]=u;c(f,p)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=gc(!0,i.settings,u.settings))}function a(u){let f=-1;if(u!=null)if(Array.isArray(u))for(;++f<u.length;){const p=u[f];l(p)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,f){let p=-1,h=-1;for(;++p<r.length;)if(r[p][0]===u){h=p;break}if(h===-1)r.push([u,...f]);else if(f.length>0){let[m,...x]=f;const E=r[h][1];Lu(E)&&Lu(m)&&(m=gc(!0,E,m)),r[h]=[u,m,...x]}}}}const wj=new Gd().freeze();function wc(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function kc(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Sc(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Eh(e){if(!Lu(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function _h(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ro(e){return kj(e)?e:new Fy(e)}function kj(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Sj(e){return typeof e=="string"||Cj(e)}function Cj(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const jj="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Th=[],Ph={allowDangerousHtml:!0},bj=/^(https?|ircs?|mailto|xmpp)$/i,Nj=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Ej(e){const t=_j(e),n=Tj(e);return Pj(t.runSync(t.parse(n),n),e)}function _j(e){const t=e.rehypePlugins||Th,n=e.remarkPlugins||Th,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Ph}:Ph;return wj().use(aC).use(n).use(rj,r).use(t)}function Tj(e){const t=e.children||"",n=new Fy;return typeof t=="string"&&(n.value=t),n}function Pj(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,l=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,c=t.urlTransform||Rj;for(const f of Nj)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+jj+f.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),zy(e,u),B0(e,{Fragment:s.Fragment,components:i,ignoreInvalidStyle:!0,jsx:s.jsx,jsxs:s.jsxs,passKeys:!0,passNode:!0});function u(f,p,h){if(f.type==="raw"&&h&&typeof p=="number")return o?h.children.splice(p,1):h.children[p]={type:"text",value:f.value},p;if(f.type==="element"){let m;for(m in pc)if(Object.hasOwn(pc,m)&&Object.hasOwn(f.properties,m)){const x=f.properties[m],E=pc[m];(E===null||E.includes(f.tagName))&&(f.properties[m]=c(String(x||""),m,f))}}if(f.type==="element"){let m=n?!n.includes(f.tagName):l?l.includes(f.tagName):!1;if(!m&&r&&typeof p=="number"&&(m=!r(f,p,h)),m&&h&&typeof p=="number")return a&&f.children?h.children.splice(p,1,...f.children):h.children.splice(p,1),p}}}function Rj(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||bj.test(e.slice(0,t))?e:""}function Lj({value:e,options:t,onChange:n}){const[r,i]=y.useState(!1),l=y.useRef(null),o=t.find(a=>a.key===e)||t[0];return y.useEffect(()=>{const a=c=>{l.current&&!l.current.contains(c.target)&&i(!1)};return document.addEventListener("click",a),()=>document.removeEventListener("click",a)},[]),s.jsxs("div",{className:"mode-selector",ref:l,children:[s.jsxs("button",{className:"mode-btn",onClick:()=>i(a=>!a),type:"button",children:[o?o.label:"Mode",s.jsx("span",{className:"chevron",children:""})]}),r&&s.jsx("div",{className:"mode-menu",children:t.map(a=>s.jsxs("div",{className:`mode-item ${a.key===e?"active":""}`,onClick:()=>{n(a.key),i(!1)},children:[s.jsx("div",{className:"mode-item-title",children:a.label}),s.jsx("div",{className:"mode-item-desc",children:a.description})]},a.key))})]})}const Ri=({name:e,size:t=18})=>{const n={width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.8,strokeLinecap:"round",strokeLinejoin:"round"};switch(e){case"plus":return s.jsxs("svg",{...n,children:[s.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),s.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]});case"mic":return s.jsxs("svg",{...n,children:[s.jsx("path",{d:"M12 4a3 3 0 0 0-3 3v5a3 3 0 0 0 6 0V7a3 3 0 0 0-3-3Z"}),s.jsx("path",{d:"M19 11v1a7 7 0 0 1-14 0v-1"}),s.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"22"}),s.jsx("line",{x1:"9",y1:"22",x2:"15",y2:"22"})]});case"stop":return s.jsx("svg",{...n,fill:"currentColor",children:s.jsx("rect",{x:"7",y:"7",width:"10",height:"10",rx:"2",ry:"2"})});case"send":return s.jsxs("svg",{...n,children:[s.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),s.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]});case"paperclip":return s.jsx("svg",{...n,children:s.jsx("path",{d:"M21.44 11.05l-9.19 9.19a5 5 0 1 1-7.07-7.07l9.19-9.19a3 3 0 1 1 4.24 4.24L9.88 16.24a1 1 0 0 1-1.41-1.41L15.31 8"})});case"diff":return s.jsx("span",{className:"codicon codicon-git-compare",style:{fontSize:t,color:"var(--text)"},"aria-hidden":!0});default:return null}},Ij=["write_file","edit_file","delete_file","rename_file"],Rh=e=>Ij.includes(e);function Aj({messages:e,input:t,setInput:n,loading:r,onSend:i,onStop:l,onToggleLogs:o,currentSession:a,logStatus:c,mode:u,modeOptions:f,onModeChange:p,toolRuns:h={},onOpenDiff:m,taskReview:x,onTaskToggle:E=()=>{},onTaskKeepAll:I=()=>{},onTaskRevertAll:k=()=>{},onTaskKeepFile:w=()=>{},onTaskRevertFile:S=()=>{}}){var Mt,rt;const L=y.useRef(null),A=y.useRef(null),T=y.useRef(null),W=y.useRef(""),_=y.useRef(null),Y=y.useRef(null),[U,Z]=y.useState([]),[q,he]=y.useState(!1),[xe,B]=y.useState(!1),[ee,te]=y.useState(!1),[M,H]=y.useState({}),C=()=>{var z;(z=L.current)==null||z.scrollIntoView({behavior:"smooth"})};y.useEffect(C,[e]),y.useEffect(()=>{var z;a&&!r&&((z=A.current)==null||z.focus())},[a,r]);const me=(z,ve)=>{let D=[];const we=[],b=[];let R=ve,V=z;return V&&typeof V=="object"&&V.message&&(R=V.mode||R,V=V.message.content??V.message),V&&typeof V=="object"&&V.attachments&&(R=V.mode||R,(Array.isArray(V.attachments)?V.attachments:[]).forEach(de=>{de.type==="image"?we.push(de):b.push(de)})),Array.isArray(V)?V.forEach(oe=>{var de;oe.type==="text"&&oe.text&&D.push(oe.text),oe.type==="image_url"&&((de=oe.image_url)!=null&&de.url)&&we.push({type:"image",data:oe.image_url.url,name:oe.image_url.name||"image"})}):V&&typeof V=="object"?(typeof V.text=="string"&&D.push(V.text),Array.isArray(V.content)?V.content.forEach(oe=>{var de;oe.type==="text"&&oe.text&&D.push(oe.text),oe.type==="image_url"&&((de=oe.image_url)!=null&&de.url)&&we.push({type:"image",data:oe.image_url.url,name:oe.image_url.name||"image"})}):typeof V.content=="string"&&D.push(V.content)):typeof V=="string"&&D.push(V),{text:D.join(`
`).trim(),images:we,files:b,modeTag:R}},K=z=>new Promise((ve,D)=>{const we=new FileReader;we.onload=()=>ve({type:z.type.startsWith("image/")?"image":"file",name:z.name,mime_type:z.type,data:we.result}),we.onerror=D,we.readAsDataURL(z)}),j=async z=>{const ve=Array.from(z||[]);if(ve.length)try{const D=await Promise.all(ve.map(K));Z(we=>[...we,...D])}catch(D){console.error(D)}finally{he(!1)}},se=async z=>{var ve,D;z.preventDefault(),te(!1),(D=(ve=z.dataTransfer)==null?void 0:ve.files)!=null&&D.length&&await j(z.dataTransfer.files)},ue=async z=>{var we;const ve=((we=z.clipboardData)==null?void 0:we.items)||[],D=[];for(const b of ve)if(b.type.startsWith("image/")){const R=b.getAsFile();R&&D.push(R)}D.length&&(z.preventDefault(),await j(D))},fe=z=>{Z(ve=>ve.filter((D,we)=>we!==z))},je=()=>{const z=window.SpeechRecognition||window.webkitSpeechRecognition;if(!z){alert("");return}const ve=new z;ve.lang="zh-CN",ve.continuous=!0,ve.interimResults=!0,W.current="",ve.onresult=D=>{let we="";for(let b=D.resultIndex;b<D.results.length;b++)we+=D.results[b][0].transcript;W.current=we,n(we)},ve.onend=()=>{B(!1),W.current.trim()&&(i({text:W.current.trim(),attachments:[]}),W.current="")},T.current=ve,B(!0),ve.start()},_e=()=>{var z;(z=T.current)==null||z.stop(),B(!1)},Se=async z=>{z.preventDefault(),!(!t.trim()&&U.length===0)&&(await i({text:t,attachments:U}),Z([]),he(!1))},ge=z=>{z.key==="Enter"&&!z.shiftKey&&(z.preventDefault(),Se(z))},J=()=>{var z;(z=A.current)==null||z.focus()},Pe=z=>{H(ve=>({...ve,[z]:!ve[z]}))},at=(z,ve)=>{var oe,de,Ae;const D=`${ve}-${z.id||z.name}`,we=!!M[D];z.status==="done"||z.status;const b=z.diffTarget||null,R=((oe=z.args)==null?void 0:oe.path)||((de=z.args)==null?void 0:de.new_path)||((Ae=z.args)==null?void 0:Ae.old_path)||"",V=b&&(b.path||b.diff_id)&&Rh(z.name);return s.jsxs("div",{className:`tool-run-chip ${z.status||"running"}`,title:"/",onClick:()=>Pe(D),children:[s.jsxs("div",{className:"tool-run-chip-main",children:[s.jsx("span",{className:"tool-run-chip-icon",style:{color:"#111"},children:z.status==="running"?s.jsx("span",{className:"tool-run-spinner"}):s.jsx("span",{style:{fontSize:"1.05rem",lineHeight:1,filter:"grayscale(1)"},children:""})}),s.jsx("div",{className:"tool-run-chip-text",children:s.jsxs("div",{className:"tool-run-chip-title",children:["[] ",z.name||""]})}),V&&s.jsx("button",{type:"button",className:"tool-run-chip-action",title:" Diff",onClick:be=>{be.stopPropagation();const Ce=b||(R?{path:R}:null);Ce?m&&m(Ce):alert(" diff ")},children:s.jsx(Ri,{name:"diff",size:16})})]}),we&&s.jsxs("div",{className:"tool-run-chip-detail",children:[z.args&&s.jsxs("div",{className:"tool-run-chip-block",children:[s.jsx("div",{className:"tool-run-chip-label",children:""}),s.jsx("pre",{children:typeof z.args=="string"?z.args:JSON.stringify(z.args,null,2)})]}),z.result&&s.jsxs("div",{className:"tool-run-chip-block",children:[s.jsx("div",{className:"tool-run-chip-label",children:""}),s.jsx("pre",{children:typeof z.result=="string"?z.result:JSON.stringify(z.result,null,2)})]})]})]},D)},De=((Mt=x==null?void 0:x.files)==null?void 0:Mt.length)||0,nt=((rt=x==null?void 0:x.files)==null?void 0:rt.filter(z=>z.action==="pending").length)||0,Q=(x==null?void 0:x.status)||"idle",$e=Q==="running"||Q==="applying",Re=!!x&&(Q==="running"||De>0||Q==="clean"),Oe=Q==="running"?"":Q==="applying"?"":Q==="resolved"?"":Q==="clean"?"":Q==="error"?"":`${De} `;return s.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",height:"100%",overflow:"hidden",overflowX:"hidden"},children:[s.jsxs("div",{style:{padding:"0 0.5rem",borderBottom:"1px solid var(--border)",display:"flex",justifyContent:"space-between",alignItems:"center",background:"var(--panel)",height:"50px",boxSizing:"border-box"},children:[s.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",overflow:"hidden"},children:s.jsx("h3",{style:{margin:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"1rem",color:"var(--text)"},children:a?a.title:"Chat"})}),a&&s.jsxs("button",{onClick:o,className:"ghost-btn",style:{display:"inline-flex",alignItems:"center",gap:"0.2rem",padding:"0 0.3rem",height:"28px"},title:" API ",children:[s.jsx("span",{style:{fontSize:"1.2rem"},children:""}),c&&s.jsxs("span",{style:{display:"inline-flex",gap:"0.15rem",alignItems:"center"},children:[s.jsx("span",{style:{width:"6px",height:"6px",borderRadius:"50%",background:c.requestOk?"var(--success)":"var(--danger)",display:"inline-block"}}),s.jsx("span",{style:{width:"6px",height:"6px",borderRadius:"50%",background:c.parseOk?"var(--success)":"var(--warning)",display:"inline-block"}})]})]})]}),s.jsxs("div",{className:"chat-messages",style:{flex:1,overflowY:"auto",overflowX:"hidden",padding:"1rem",display:"flex",flexDirection:"column",gap:"1rem",background:"var(--panel-sub)"},children:[a?e.length===0?s.jsx("div",{style:{textAlign:"center",color:"var(--muted)",marginTop:"2rem"},children:"Start a conversation..."}):e.map((z,ve)=>{const D=me(z.content,z.mode),we=z._cid||z.id||ve,b=h[we]||[],R=z.role==="user",V=z.role==="tool",oe=R?"85%":"96%",de=R?"auto":"100%",Ae=z.role==="assistant"?"Agent":z.role,be=R?"flex-end":"flex-start";return s.jsxs("div",{style:{alignSelf:be,width:de,maxWidth:oe,padding:"0.8rem 1rem",borderRadius:"var(--radius)",backgroundColor:R?"var(--accent)":"var(--panel)",color:R?"#fff":"var(--text)",border:R?"1px solid var(--accent-2)":"1px solid var(--border)",boxShadow:"var(--shadow-soft)",fontSize:R?"0.9rem":"0.85rem",lineHeight:"1.5",wordBreak:"break-word",overflowWrap:"anywhere"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"0.5rem"},children:[!R&&s.jsx("div",{style:{marginBottom:"0.3rem",fontSize:"0.7rem",opacity:.6,fontWeight:"bold"},children:Ae}),D.modeTag&&s.jsx("span",{style:{fontSize:"0.6rem",padding:"0.2rem 0.45rem",background:"var(--tag-bg)",color:"var(--tag-text)",borderRadius:"999px"},children:D.modeTag})]}),V?(()=>{const Ce=`toolmsg-${we}`,Ue=!!M[Ce],it=b[0]||{},He=it.status||"done",qe=He==="error"?"var(--danger)":He==="running"?"var(--accent)":"var(--success)",Ze=He==="error"?"":He==="running"?"":"",Bn=He==="error"?"":He==="running"?"":"",Tt=it.result||it.detail||z.content||"",ht=it.args,xt=(it==null?void 0:it.diffTarget)||(()=>{const dt=(ht==null?void 0:ht.path)||(ht==null?void 0:ht.new_path)||(ht==null?void 0:ht.old_path);return dt?{path:dt}:null})(),Pt=xt&&(xt.path||xt.diff_id)&&Rh(z.name);return s.jsxs("div",{onClick:()=>H(dt=>({...dt,[Ce]:!Ue})),title:"/",style:{fontFamily:"monospace",whiteSpace:"pre-wrap",fontSize:"0.82rem",background:"var(--panel-sub)",padding:"0.6rem",borderRadius:"var(--radius)",color:qe,border:`1px solid ${qe}`,width:"100%",boxSizing:"border-box",cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.05)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.4rem",justifyContent:"space-between"},children:[s.jsx("span",{children:Ze}),Pt&&s.jsx("button",{type:"button",className:"ghost-btn",style:{padding:"0.25rem 0.5rem",height:"auto",fontSize:"0.78rem"},onClick:dt=>{dt.stopPropagation(),xt?m&&m(xt):alert(" diff ")},children:" Diff"})]}),Ue&&s.jsxs("div",{className:"tool-run-chip-detail",style:{marginTop:"0.5rem"},children:[ht&&s.jsxs("div",{className:"tool-run-chip-block",children:[s.jsx("div",{className:"tool-run-chip-label",children:""}),s.jsx("pre",{children:typeof ht=="string"?ht:JSON.stringify(ht,null,2)})]}),Tt&&s.jsxs("div",{className:"tool-run-chip-block",children:[s.jsx("div",{className:"tool-run-chip-label",children:Bn}),s.jsx("pre",{children:typeof Tt=="string"?Tt:JSON.stringify(Tt,null,2)})]})]})]})})():s.jsxs(s.Fragment,{children:[D.text&&s.jsx("div",{className:"markdown-content",children:s.jsx(Ej,{children:D.text})}),(D.images.length>0||D.files.length>0)&&s.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginTop:"0.6rem"},children:[D.images.map((Ce,Ue)=>s.jsx("div",{style:{width:"120px",height:"90px",overflow:"hidden",borderRadius:"var(--radius)",border:"1px solid var(--border)",background:"var(--panel)"},children:s.jsx("img",{src:Ce.data,alt:Ce.name||"attachment",style:{width:"100%",height:"100%",objectFit:"cover"}})},Ue)),D.files.map((Ce,Ue)=>s.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.3rem",padding:"0.35rem 0.6rem",borderRadius:"var(--radius)",border:"1px solid var(--border)",background:"var(--panel-sub)"},children:[s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("path",{d:"M21.44 11.05l-9.19 9.19a5 5 0 1 1-7.07-7.07l9.19-9.19a3 3 0 0 1 4.24 4.24L9.88 16.24a1 1 0 0 1-1.41-1.41L15.31 8"})}),s.jsx("span",{children:Ce.name||"file"})]},`file-${Ue}`))]})]}),z.role==="assistant"&&b.length>0&&s.jsx("div",{className:"tool-run-row",children:b.map(Ce=>at(Ce,we))})]},we)}):s.jsx("div",{style:{textAlign:"center",color:"var(--muted)",marginTop:"2rem"},children:"Select a chat to start messaging"}),r&&s.jsxs("div",{style:{alignSelf:"flex-start",color:"var(--muted)",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem"},children:[s.jsx("div",{className:"spinner"})," Thinking..."]}),s.jsx("div",{ref:L})]}),s.jsxs("form",{onSubmit:Se,onDragOver:z=>{z.preventDefault(),te(!0)},onDragLeave:()=>te(!1),onDrop:se,style:{padding:"1rem",borderTop:"1px solid var(--border)",background:"var(--panel)"},children:[Re&&s.jsxs("div",{className:"task-review-shell",children:[s.jsxs("div",{className:"task-review-head",children:[s.jsxs("button",{type:"button",className:"task-review-toggle",onClick:E,title:"/",disabled:$e,children:[s.jsx("span",{className:"codicon codicon-versions","aria-hidden":!0}),s.jsx("span",{className:"task-review-pill",children:Oe}),nt>0&&s.jsxs("span",{className:"task-review-muted",children:[nt," "]}),s.jsx("span",{className:`codicon ${x!=null&&x.expanded?"codicon-chevron-down":"codicon-chevron-right"}`,"aria-hidden":!0})]}),s.jsxs("div",{className:"task-review-actions",children:[s.jsx("button",{type:"button",className:"task-review-btn subtle",onClick:k,disabled:$e||De===0,children:""}),s.jsx("button",{type:"button",className:"task-review-btn primary",onClick:I,disabled:$e||De===0,children:""})]})]}),(x==null?void 0:x.expanded)&&De>0&&s.jsx("div",{className:"task-review-list",children:x.files.map(z=>{var ve,D;return s.jsxs("div",{className:"task-review-row",children:[s.jsxs("div",{className:"task-review-file",children:[s.jsx("span",{className:`task-review-dot ${z.changeType}`,"aria-hidden":!0}),s.jsx("div",{className:"task-review-path",title:z.path,children:z.path}),s.jsxs("div",{className:"task-review-stat",children:[s.jsxs("span",{className:"add",children:["+",((ve=z.stat)==null?void 0:ve.added)??0]}),s.jsxs("span",{className:"del",children:["-",((D=z.stat)==null?void 0:D.removed)??0]})]}),z.action!=="pending"&&s.jsx("span",{className:`task-review-state ${z.action==="reverted"?"danger":"muted"}`,children:z.action==="reverted"?"":""})]}),s.jsxs("div",{className:"task-review-buttons",children:[s.jsx("button",{type:"button",className:"task-review-btn subtle",onClick:()=>S(z.path),disabled:$e||z.action==="reverted",children:""}),s.jsx("button",{type:"button",className:"task-review-btn primary",onClick:()=>w(z.path),disabled:$e||z.action==="kept",children:""})]})]},z.path)})})]}),s.jsxs("div",{className:`input-shell ${ee?"dragging":""}`,style:{display:"flex",flexDirection:"column",gap:"0.6rem",background:"var(--panel-sub)",padding:0,borderRadius:"var(--radius)",border:"1px solid var(--border)",position:"relative",cursor:"text",overflow:"visible"},onClick:z=>{var D,we;const ve=(we=(D=z.target)==null?void 0:D.tagName)==null?void 0:we.toLowerCase();ve!=="button"&&ve!=="svg"&&ve!=="path"&&ve!=="line"&&ve!=="polygon"&&ve!=="rect"&&J()},children:[s.jsx("div",{style:{padding:0},children:s.jsx("textarea",{className:"chat-textarea",ref:A,value:t,onChange:z=>n(z.target.value),onKeyDown:ge,onPaste:ue,placeholder:"",style:{width:"100%",padding:"0.85rem 3.25rem 0.85rem 1rem",borderRadius:0,border:"none",background:"transparent",resize:"none",outline:"none",fontFamily:"inherit",fontSize:"0.9rem",minHeight:"5rem",lineHeight:1.5,color:"var(--text)"},disabled:r})}),U.length>0&&s.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",padding:"0 1rem"},children:U.map((z,ve)=>s.jsxs("div",{style:{border:"1px solid var(--border)",borderRadius:"var(--radius)",padding:"0.4rem",background:"var(--panel)",display:"flex",alignItems:"center",gap:"0.4rem"},children:[z.type==="image"?s.jsx("img",{src:z.data,alt:z.name,style:{width:"56px",height:"42px",objectFit:"cover",borderRadius:"var(--radius)"}}):s.jsx(Ri,{name:"paperclip",size:18}),s.jsx("span",{style:{fontSize:"0.85rem"},children:z.name}),s.jsx("button",{type:"button",onClick:()=>fe(ve),className:"chat-icon-btn",style:{fontSize:"0.85rem",width:"26px",height:"26px",borderRadius:"6px",padding:0},children:""})]},ve))}),s.jsxs("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"0.5rem",flexWrap:"wrap",padding:"0 5px 5px 5px",minHeight:"40px",boxSizing:"border-box"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexShrink:0,height:"40px"},children:[s.jsxs("div",{style:{position:"relative"},children:[s.jsx("button",{type:"button",onClick:()=>he(!q),className:"chat-icon-btn",title:"/",children:s.jsx(Ri,{name:"plus",size:20})}),q&&s.jsxs("div",{className:"attachment-menu",children:[s.jsx("div",{className:"attachment-item",onClick:()=>{var z;return(z=_.current)==null?void 0:z.click()},children:""}),s.jsx("div",{className:"attachment-item",onClick:()=>{var z;return(z=Y.current)==null?void 0:z.click()},children:""}),s.jsx("div",{className:"attachment-item",onClick:()=>{var z;return(z=A.current)==null?void 0:z.focus()},children:""})]})]}),s.jsx("button",{type:"button",onClick:xe?_e:je,className:"chat-icon-btn",title:"",style:{background:xe?"var(--danger-pill)":"var(--panel)",color:xe?"var(--danger)":"var(--muted)"},children:s.jsx(Ri,{name:"mic",size:20})})]}),s.jsx(Lj,{value:u,options:f,onChange:p})]}),s.jsx("div",{style:{position:"absolute",right:"5px",bottom:"5px",display:"flex",alignItems:"center",gap:"0.4rem",pointerEvents:"auto"},children:r?s.jsx("button",{type:"button",onClick:l,className:"chat-stop-btn",title:"Stop Generation",children:s.jsx(Ri,{name:"stop",size:20})}):s.jsx("button",{type:"submit",disabled:!t.trim()&&U.length===0,className:"chat-send-btn",title:"Send",children:s.jsx(Ri,{name:"send",size:20})})})]}),s.jsx("input",{ref:_,type:"file",accept:"image/*",multiple:!0,style:{display:"none"},onChange:z=>j(z.target.files)}),s.jsx("input",{ref:Y,type:"file",multiple:!0,style:{display:"none"},onChange:z=>j(z.target.files)})]})]})}const Jo=({ok:e,label:t})=>s.jsx("span",{className:`log-badge ${e?"ok":"error"}`,children:t}),Dj=({log:e,onSelect:t})=>s.jsxs("div",{className:"log-row",onClick:()=>t(e),children:[s.jsxs("div",{className:"log-row-top",children:[s.jsx("span",{className:"log-provider",children:e.provider}),s.jsx("span",{className:"log-time",children:new Date(e.created_at).toLocaleTimeString()})]}),s.jsxs("div",{className:"log-row-meta",children:[s.jsxs("span",{className:"log-method",children:[e.method,"  ",e.status_code]}),s.jsx(Jo,{ok:!!e.success,label:e.success?"":""}),s.jsx(Jo,{ok:e.parsed_success!==!1,label:e.parsed_success===!1?"":""})]}),e.parse_error&&s.jsx("div",{className:"log-parse-error",children:e.parse_error})]}),Oj=({log:e,onBack:t})=>s.jsxs("div",{className:"log-detail",children:[s.jsx("button",{className:"ghost-btn",onClick:t,style:{marginBottom:"0.75rem"},children:" "}),s.jsxs("div",{className:"log-detail-card",children:[s.jsxs("div",{className:"log-detail-title",children:[e.method," ",e.url]}),s.jsxs("div",{className:"log-detail-meta",children:[s.jsxs("span",{children:[": ",e.status_code]}),s.jsx(Jo,{ok:!!e.success,label:e.success?"":""}),s.jsx(Jo,{ok:e.parsed_success!==!1,label:e.parsed_success===!1?"":""})]}),e.parse_error&&s.jsxs("div",{className:"log-parse-error",children:[": ",e.parse_error]}),s.jsx("div",{className:"log-time-full",children:new Date(e.created_at).toLocaleString()})]}),s.jsxs("div",{className:"log-json-block",children:[s.jsx("div",{className:"log-json-title",children:"Request"}),s.jsx("pre",{children:JSON.stringify(e.request_body,null,2)})]}),s.jsxs("div",{className:"log-json-block",children:[s.jsx("div",{className:"log-json-title",children:"Response"}),s.jsx("pre",{children:JSON.stringify(e.response_body,null,2)})]})]});function zj({logs:e,onClose:t}){const[n,r]=y.useState(null);return s.jsxs("div",{className:"log-panel",children:[s.jsxs("header",{className:"log-header",children:[s.jsxs("div",{className:"log-header-left",children:[s.jsx("div",{className:"pill",children:"API Logs"}),s.jsx("div",{className:"muted",style:{fontSize:"0.85rem"},children:"/"})]}),s.jsx("button",{className:"ghost-btn",onClick:t,children:""})]}),s.jsxs("div",{className:"log-body",children:[e.length===0&&s.jsx("div",{className:"log-empty",children:""}),n?s.jsx(Oj,{log:n,onBack:()=>r(null)}):e.map(i=>s.jsx(Dj,{log:i,onSelect:r},i.id))]})]})}const Cc=({label:e,value:t,min:n,max:r,step:i,onChange:l,helpText:o,unit:a="",defaultValue:c})=>{const[u,f]=y.useState(t);y.useEffect(()=>{f(t)},[t]);const p=m=>{const x=m.target.value;f(x);const E=Number(x);!isNaN(E)&&E>=n&&E<=r&&l(E)},h=()=>{let m=Number(u);isNaN(m)&&(m=c||n),m<n&&(m=n),m>r&&(m=r),f(m),l(m)};return s.jsxs("div",{className:"config-field",style:{marginBottom:"16px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px",alignItems:"center"},children:[s.jsxs("label",{className:"config-label",style:{marginBottom:0},children:[e,o&&s.jsx("span",{className:"config-help-icon",title:o,style:{marginLeft:"6px",cursor:"help",fontSize:"12px",border:"1px solid #888",borderRadius:"50%",width:"14px",height:"14px",display:"inline-flex",alignItems:"center",justifyContent:"center",color:"#888"},children:"?"})]}),s.jsx("button",{type:"button",className:"ghost-btn",style:{fontSize:"10px",padding:"2px 6px",height:"auto"},onClick:()=>{f(c),l(c)},children:"Reset"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[s.jsx("input",{type:"range",min:n,max:r,step:i,value:typeof u=="number"?u:n,onChange:m=>{const x=Number(m.target.value);f(x),l(x)},style:{flex:1}}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{type:"number",min:n,max:r,step:i,value:u,onChange:p,onBlur:h,className:"config-input",style:{width:"120px",padding:"4px",textAlign:"right",paddingRight:a?"24px":"4px"}}),a&&s.jsx("span",{style:{position:"absolute",right:"6px",top:"50%",transform:"translateY(-50%)",fontSize:"10px",color:"#888",pointerEvents:"none"},children:a})]})]}),s.jsx("div",{style:{fontSize:"11px",color:"#666",marginTop:"4px"},children:o})]})};function Lh({config:e,setConfig:t,toolSettings:n,onToolSettingsChange:r,onSave:i,onClose:l,checkApiStatus:o,apiStatus:a,apiMessage:c,appearanceMode:u="system",onChangeAppearanceMode:f,language:p="zh",onLanguageChange:h,displayPreferences:m,onChangeDisplayPreference:x,onOpenInEditor:E,fullscreen:I,onToggleFullscreen:k,variant:w="modal"}){const[S,L]=y.useState("app"),A=ee=>Rd(p,ee),T=e[e.provider],W=y.useRef(!0);y.useEffect(()=>{if(W.current){W.current=!1;return}const ee=setTimeout(()=>{i&&i({silent:!0})},1e3);return()=>clearTimeout(ee)},[e,i]);const _=(ee,te)=>{t(M=>({...M,[M.provider]:{...M[M.provider],[ee]:te}}))},Y=()=>{window.confirm("Are you sure you want to reset all session and model parameters to defaults?")&&t(ee=>({...ee,[ee.provider]:{...ee[ee.provider],context_independent:!0,context_max_length:128e3,context_min_length:32e3,output_max_tokens:32768,output_min_tokens:1,temperature:.8}}))},U=(ee,te)=>{r(M=>({...M,[ee]:{...M[ee],[te]:!M[ee][te]}}))},Z=()=>s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"config-section-title",children:A("appGeneral")}),s.jsxs("div",{className:"config-field",children:[s.jsx("label",{className:"config-label",children:A("globalSettings")}),s.jsx("div",{style:{fontSize:"12px",color:"#666"},children:A("globalSettingsDesc")})]}),s.jsxs("div",{className:"config-field",children:[s.jsx("label",{className:"config-label",children:A("language")}),s.jsxs("div",{className:"config-grid",style:{gridTemplateColumns:"1fr"},children:[s.jsxs("label",{className:"config-tool-row",children:[s.jsx("input",{type:"radio",name:"app-language",checked:p==="zh",onChange:()=>h&&h("zh")}),s.jsx("span",{children:""})]}),s.jsxs("label",{className:"config-tool-row",children:[s.jsx("input",{type:"radio",name:"app-language",checked:p==="en",onChange:()=>h&&h("en")}),s.jsx("span",{children:"English"})]}),s.jsxs("label",{className:"config-tool-row",children:[s.jsx("input",{type:"radio",name:"app-language",checked:p==="ja",onChange:()=>h&&h("ja")}),s.jsx("span",{children:""})]})]})]}),s.jsxs("div",{className:"config-field",children:[s.jsx("label",{className:"config-label",children:"Default View Location"}),s.jsxs("div",{className:"config-grid",style:{gridTemplateColumns:"1fr"},children:[s.jsx("div",{style:{fontSize:"12px",marginBottom:"4px",color:"#666"},children:"Settings Panel"}),s.jsxs("label",{className:"config-tool-row",children:[s.jsx("input",{type:"radio",name:"view-settings",checked:(m==null?void 0:m.settings)==="modal",onChange:()=>x&&x("settings","modal")}),s.jsx("span",{children:"Use Modal Window"})]}),s.jsxs("label",{className:"config-tool-row",children:[s.jsx("input",{type:"radio",name:"view-settings",checked:(m==null?void 0:m.settings)==="editor",onChange:()=>x&&x("settings","editor")}),s.jsx("span",{children:"Use Editor View"})]}),s.jsx("div",{style:{fontSize:"12px",margin:"8px 0 4px",color:"#666"},children:"Diff Viewer"}),s.jsxs("label",{className:"config-tool-row",children:[s.jsx("input",{type:"radio",name:"view-diff",checked:(m==null?void 0:m.diff)==="modal",onChange:()=>x&&x("diff","modal")}),s.jsx("span",{children:"Use Modal Window"})]}),s.jsxs("label",{className:"config-tool-row",children:[s.jsx("input",{type:"radio",name:"view-diff",checked:(m==null?void 0:m.diff)==="editor",onChange:()=>x&&x("diff","editor")}),s.jsx("span",{children:"Use Editor View"})]})]})]})]}),q=()=>s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"config-section-title",children:"Theme & Appearance"}),s.jsxs("div",{className:"config-field",children:[s.jsx("label",{className:"config-label",children:"Theme Mode"}),s.jsxs("div",{className:"config-grid",style:{gridTemplateColumns:"1fr"},children:[s.jsxs("label",{className:"config-tool-row",children:[s.jsx("input",{type:"radio",name:"theme-mode",checked:u==="system",onChange:()=>f&&f("system")}),s.jsx("span",{children:"Follow System"})]}),s.jsxs("label",{className:"config-tool-row",children:[s.jsx("input",{type:"radio",name:"theme-mode",checked:u==="light",onChange:()=>f&&f("light")}),s.jsx("span",{children:"Light"})]}),s.jsxs("label",{className:"config-tool-row",children:[s.jsx("input",{type:"radio",name:"theme-mode",checked:u==="dark",onChange:()=>f&&f("dark")}),s.jsx("span",{children:"Dark"})]})]})]})]}),he=()=>s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"config-section-title",children:A("llmAndSession")}),s.jsxs("div",{className:"config-field",children:[s.jsx("label",{className:"config-label",children:A("provider")}),s.jsxs("select",{value:e.provider,onChange:ee=>t({...e,provider:ee.target.value}),className:"config-input",children:[s.jsx("option",{value:"openai",children:"OpenAI"}),s.jsx("option",{value:"anthropic",children:"Anthropic"})]})]}),s.jsxs("div",{className:"config-field",children:[s.jsx("label",{className:"config-label",children:A("apiKey")}),s.jsx("input",{type:"password",value:T.api_key,onChange:ee=>_("api_key",ee.target.value),className:"config-input",placeholder:"sk-..."})]}),s.jsxs("div",{className:"config-field",children:[s.jsx("label",{className:"config-label",children:A("baseUrl")}),s.jsx("input",{type:"text",value:T.base_url,onChange:ee=>_("base_url",ee.target.value),className:"config-input",placeholder:e.provider==="openai"?"https://api.openai.com/v1":"https://api.anthropic.com"})]}),s.jsxs("div",{className:"config-field",children:[s.jsx("label",{className:"config-label",children:A("model")}),s.jsx("input",{type:"text",value:T.model,onChange:ee=>_("model",ee.target.value),className:"config-input",placeholder:e.provider==="openai"?"gpt-4-turbo":"claude-3-opus-20240229"})]}),s.jsxs("div",{className:"config-field",children:[s.jsx("label",{className:"config-label",children:A("statusCheckModel")}),s.jsx("input",{type:"text",value:T.check_model,onChange:ee=>_("check_model",ee.target.value),className:"config-input",placeholder:"Model used for connection test"})]}),s.jsx("div",{className:"config-section-title",style:{marginTop:"24px"},children:A("sessionContext")}),s.jsxs("div",{className:"config-field",children:[s.jsxs("label",{className:"config-tool-row",children:[s.jsx("input",{type:"checkbox",checked:T.context_independent??!0,onChange:ee=>_("context_independent",ee.target.checked)}),s.jsx("span",{children:A("independentSessionContext")})]}),s.jsx("div",{style:{fontSize:"11px",color:"#666",marginTop:"4px",marginLeft:"24px"},children:A("independentSessionContextDesc")})]}),s.jsx(Cc,{label:A("contextWindowLimit"),value:T.context_max_length??128e3,min:32e3,max:256e3,step:1024,defaultValue:128e3,unit:" tk",helpText:"Maximum context length (Range: 32k - 256k tokens). Default: 128k.",onChange:ee=>_("context_max_length",ee)}),s.jsx("div",{className:"config-section-title",style:{marginTop:"24px"},children:"Model Parameters"}),s.jsx(Cc,{label:"Max Output Tokens",value:T.output_max_tokens??32768,min:1,max:65536,step:1,defaultValue:32768,unit:" tk",helpText:"Limit the number of tokens generated (Range: 1 - 65,536). Default: 32,768.",onChange:ee=>_("output_max_tokens",ee)}),s.jsx(Cc,{label:A("temperature"),value:T.temperature??.8,min:.1,max:2,step:.1,defaultValue:.8,helpText:"Creativity control: 0.1 (Deterministic) to 2.0 (Creative). Default: 0.8.",onChange:ee=>_("temperature",ee)}),s.jsx("div",{style:{marginTop:"24px",paddingTop:"16px",borderTop:"1px solid rgba(0,0,0,0.1)"},children:s.jsx("button",{type:"button",className:"ghost-btn",onClick:Y,style:{width:"100%",justifyContent:"center",color:"#666"},children:A("resetToDefaults")})})]}),xe=(ee,te)=>s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"config-section-title",children:te}),s.jsx("div",{className:"config-grid",children:Object.entries(n[ee]||{}).map(([M,H])=>s.jsxs("label",{className:"config-tool-row",children:[s.jsx("input",{type:"checkbox",checked:H,onChange:()=>U(ee,M)}),s.jsx("span",{children:M})]},M))})]}),B=s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"config-header",children:[s.jsx("h2",{className:"config-title",children:"Global Settings"}),s.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[w==="modal"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",className:"ghost-btn",onClick:E,style:{height:28,fontSize:"0.85rem"},children:""}),s.jsx("button",{type:"button",className:"ghost-btn",onClick:k,style:{height:28,fontSize:"0.85rem"},children:I?"":""})]}),s.jsx("button",{className:"config-close",onClick:l,"aria-label":"",children:""})]})]}),s.jsxs("div",{className:"config-layout",children:[s.jsxs("div",{className:"config-sidebar",children:[s.jsx("div",{className:`config-sidebar-item ${S==="app"?"active":""}`,onClick:()=>L("app"),children:"App General"}),s.jsx("div",{className:`config-sidebar-item ${S==="appearance"?"active":""}`,onClick:()=>L("appearance"),children:"Theme & Appearance"}),s.jsx("div",{className:`config-sidebar-item ${S==="general"?"active":""}`,onClick:()=>L("general"),children:"LLM & Session"}),s.jsx("div",{className:`config-sidebar-item ${S==="agent"?"active":""}`,onClick:()=>L("agent"),children:"Agent Tools"}),s.jsx("div",{className:`config-sidebar-item ${S==="canva"?"active":""}`,onClick:()=>L("canva"),children:"Canva Tools"})]}),s.jsxs("div",{className:"config-content",children:[S==="app"&&Z(),S==="appearance"&&q(),S==="general"&&he(),S==="agent"&&xe("agent","Agent Mode Tools"),S==="canva"&&xe("canva","Canva Mode Tools")]})]}),s.jsx("div",{className:"config-footer",children:s.jsxs("div",{className:"config-actions",style:{width:"100%"},children:[s.jsxs("div",{className:`config-status ${a}`,style:{marginRight:"auto",display:"flex",alignItems:"center"},children:[a!=="unknown"&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"dot"}),a==="checking"?"Checking...":a==="ok"?"Connected":"Connection Failed"]}),c&&s.jsx("span",{style:{marginLeft:"10px",fontSize:"12px",color:a==="ok"?"#4caf50":"#f44336"},children:c})]}),s.jsxs("div",{className:"config-buttons",children:[s.jsx("button",{type:"button",className:"ghost-btn",onClick:o,children:"Test Connection"}),s.jsx("button",{type:"button",className:"primary-btn",onClick:()=>{i(),l()},children:"Save & Close"})]})]})})]});return w==="inline"?s.jsx("div",{className:"config-inline-shell",style:{flex:1,minHeight:0},children:s.jsx("div",{className:"config-modal",style:{width:"100%",height:"100%",maxWidth:"none",maxHeight:"none",borderRadius:0},children:B})}):s.jsx("div",{className:"config-modal-backdrop",children:s.jsx("div",{className:"config-modal",style:I?{width:"100vw",height:"100vh",maxWidth:"100vw",maxHeight:"100vh",borderRadius:0}:void 0,children:B})})}const In=({name:e,...t})=>{const r={width:18,height:18,viewBox:"0 0 24 24",...{stroke:"currentColor",fill:"none",strokeWidth:1.75,strokeLinecap:"round",strokeLinejoin:"round"},...t};switch(e){case"git":return s.jsxs("svg",{...r,children:[s.jsx("path",{d:"M11.5 20.5l9.5-9.5c.6-.6.6-1.5 0-2.1l-6.8-6.8c-.6-.6-1.5-.6-2.1 0L2.5 11.5c-.6.6-.6 1.5 0 2.1l6.8 6.8c.6.6 1.5.6 2.1 0z"}),s.jsx("path",{d:"M12 8v7"}),s.jsx("circle",{cx:"12",cy:"17",r:"1"}),s.jsx("circle",{cx:"12",cy:"6",r:"1"})]});case"folder-open":return s.jsxs("svg",{...r,children:[s.jsx("path",{d:"M3.5 7.5h6l2 2H20a1.5 1.5 0 0 1 1.5 1.5v6.5a1.5 1.5 0 0 1-1.5 1.5H5a1.5 1.5 0 0 1-1.5-1.5V9A1.5 1.5 0 0 1 5 7.5Z"}),s.jsx("path",{d:"M3.5 10.5h17"})]});case"link":return s.jsxs("svg",{...r,children:[s.jsx("path",{d:"M9.5 14.5 7 17a3 3 0 1 1-4.24-4.24l3.3-3.3A3 3 0 0 1 9.5 8.5"}),s.jsx("path",{d:"M14.5 9.5 17 7a3 3 0 1 1 4.24 4.24l-3.3 3.3A3 3 0 0 1 14.5 15.5"}),s.jsx("path",{d:"M9.75 14.25 14.25 9.75"})]});case"sun":return s.jsxs("svg",{...r,children:[s.jsx("circle",{cx:"12",cy:"12",r:"4"}),s.jsx("path",{d:"M12 3v2.2M12 18.8V21M4.6 4.6 6.2 6.2M17.8 17.8 19.4 19.4M3 12h2.2M18.8 12H21M4.6 19.4 6.2 17.8M17.8 6.2l1.6-1.6"})]});case"moon":return s.jsx("svg",{...r,children:s.jsx("path",{d:"M20 14.5A7.5 7.5 0 0 1 12 4a7.5 7.5 0 1 0 8 10.5Z"})});case"eye":return s.jsxs("svg",{...r,children:[s.jsx("path",{d:"M2.5 12s3.5-6 9.5-6 9.5 6 9.5 6-3.5 6-9.5 6-9.5-6-9.5-6Z"}),s.jsx("circle",{cx:"12",cy:"12",r:"2.8"})]});case"code":return s.jsxs("svg",{...r,children:[s.jsx("path",{d:"M15 6.5 20.5 12 15 17.5"}),s.jsx("path",{d:"M9 6.5 3.5 12 9 17.5"})]});case"doc-plus":return s.jsxs("svg",{...r,children:[s.jsx("path",{d:"M8 3.5h5l3.5 3.5V18a2.5 2.5 0 0 1-2.5 2.5H8A2.5 2.5 0 0 1 5.5 18V6A2.5 2.5 0 0 1 8 3.5Z"}),s.jsx("path",{d:"M13 3.5V7h3.5"}),s.jsx("path",{d:"M12 11v5"}),s.jsx("path",{d:"M9.5 13.5h5"})]});case"folder-plus":return s.jsxs("svg",{...r,children:[s.jsx("path",{d:"M3.5 8h6l2 2h9a1.5 1.5 0 0 1 1.5 1.5v6A1.5 1.5 0 0 1 20.5 19H5a1.5 1.5 0 0 1-1.5-1.5V9.5A1.5 1.5 0 0 1 5 8Z"}),s.jsx("path",{d:"M12.5 12.5v4"}),s.jsx("path",{d:"M10.5 14.5h4"})]});case"sync":return s.jsxs("svg",{...r,children:[s.jsx("path",{d:"M5 8.5a7 7 0 0 1 11-2l1.5 1.5"}),s.jsx("path",{d:"M4 6.5v3h3"}),s.jsx("path",{d:"M19 15.5a7 7 0 0 1-11 2L6.5 16"}),s.jsx("path",{d:"M20 17.5v-3h-3"})]});case"refresh":return s.jsxs("svg",{...r,children:[s.jsx("path",{d:"M20 4v5h-5"}),s.jsx("path",{d:"M4 20v-5h5"}),s.jsx("path",{d:"M5 9a7 7 0 0 1 12-2l2 2"}),s.jsx("path",{d:"M19 15a7 7 0 0 1-12 2l-2-2"})]});case"git-branch":return s.jsxs("svg",{...r,children:[s.jsx("path",{d:"M6 3v12"}),s.jsx("circle",{cx:"6",cy:"18",r:"3"}),s.jsx("circle",{cx:"6",cy:"6",r:"3"}),s.jsx("path",{d:"M18 9a9 9 0 0 1-9 9"}),s.jsx("circle",{cx:"18",cy:"6",r:"3"})]});case"remote":return s.jsxs("svg",{...r,children:[s.jsx("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),s.jsx("path",{d:"M13 2v7h7"})]});case"desktop":return s.jsxs("svg",{...r,children:[s.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),s.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),s.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]});default:return null}},Mj=({projectMeta:e,onSelectProject:t,onOpenWelcome:n,onCloseWorkspace:r,onBindBackend:i,onToggleTheme:l,theme:o,viewMode:a,onToggleView:c,onAddFile:u,onAddFolder:f,onSync:p,onRefreshPreview:h,hasDriver:m,bindingError:x,workspaceRoots:E=[],workspaceRootLabel:I="",recentProjects:k=[],onOpenRecent:w,onCloneRepository:S,onConnectRemote:L,onOpenCommandPalette:A,language:T="en"})=>{const[W,_]=y.useState(null),[Y,U]=y.useState(!1),[Z,q]=y.useState({top:0,left:0}),he=y.useRef(null),xe=y.useRef(null),B=K=>Rd(T,K);y.useEffect(()=>{const K=se=>{if(he.current&&!he.current.contains(se.target)&&_(null),Y&&xe.current&&!xe.current.contains(se.target)){const ue=document.querySelector(".workspace-portal-menu");if(ue&&ue.contains(se.target))return;U(!1)}},j=()=>U(!1);return document.addEventListener("mousedown",K),window.addEventListener("resize",j),()=>{document.removeEventListener("mousedown",K),window.removeEventListener("resize",j)}},[Y]);const ee=K=>{_(W===K?null:K)},te=K=>{_(null),K&&K()},M=K=>{if(Y)U(!1);else{const j=K.currentTarget.getBoundingClientRect();q({top:j.bottom+4,left:j.left}),U(!0)}},H=K=>{if(!K)return"";const se=K.replace(/\\/g,"/").split("/").filter(Boolean);return se.length>0?se[se.length-1]:K},C=(()=>{if(Array.isArray(E)&&E.length>1){const K=E.map(j=>j&&(j.name||H(j.path))||"").filter(Boolean);if(K.length>0)return K.join("  ")}return I?H(I):e&&e.pathLabel?H(e.pathLabel):e&&e.name?e.name:""})(),me={[B("file")]:[{label:B("newFile"),action:u,shortcut:"Ctrl+N",disabled:!m},{label:B("newFolder"),action:f,shortcut:"Ctrl+Shift+N",disabled:!m},{type:"separator"},{label:B("openFolder"),action:()=>t(),shortcut:"Ctrl+O"},{label:B("closeFolder"),action:r,disabled:!m},{label:B("save"),action:p,shortcut:"Ctrl+S",disabled:!m},{type:"separator"},{label:B("exit"),action:()=>window.close()}],[B("edit")]:[{label:B("undo"),shortcut:"Ctrl+Z"},{label:B("redo"),shortcut:"Ctrl+Y"},{type:"separator"},{label:B("cut"),shortcut:"Ctrl+X"},{label:B("copy"),shortcut:"Ctrl+C"},{label:B("paste"),shortcut:"Ctrl+V"}],[B("view")]:[{label:B("toggleSideBar"),shortcut:"Ctrl+B"},{label:B(a==="code"?"switchToPreview":"switchToCode"),action:c},{label:B("toggleTheme"),action:l}],[B("window")]:[{label:B("minimize"),action:()=>{}},{label:B("maximize"),action:()=>{}},{label:B("close"),action:()=>window.close()}],[B("help")]:[{label:B("welcome"),action:n},{label:B("documentation"),action:()=>console.log("Docs")},{label:B("about"),action:()=>console.log("About")}]};return s.jsxs("div",{className:"title-bar",children:[s.jsx("div",{className:"title-bar-menu",ref:he,children:Object.keys(me).map(K=>s.jsxs("div",{className:`menu-item ${W===K?"active":""}`,onClick:()=>ee(K),children:[K,W===K&&s.jsx("div",{className:"menu-dropdown",children:me[K].map((j,se)=>j.type==="separator"?s.jsx("div",{className:"dropdown-separator"},se):s.jsxs("div",{className:`dropdown-item ${j.disabled?"disabled":""}`,onClick:ue=>{ue.stopPropagation(),j.disabled||te(j.action)},children:[s.jsx("span",{children:j.label}),j.shortcut&&s.jsx("span",{className:"shortcut",children:j.shortcut})]},se))})]},K))}),s.jsxs("div",{className:"title-bar-content",style:{display:"flex",alignItems:"center",justifyContent:"space-between",flex:1,padding:"0 16px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[s.jsxs("div",{className:"project-info",onClick:M,title:C||"Switch Project",ref:xe,style:{position:"relative"},children:[s.jsxs("span",{className:"project-label",children:[B("workspace"),":"]}),s.jsx("span",{className:"project-value",children:C||e.name||B("untitled")}),Y&&ma.createPortal(s.jsxs("div",{className:"menu-dropdown workspace-menu-dropdown workspace-portal-menu",style:{top:Z.top,left:Z.left,position:"fixed",zIndex:1e5},children:[s.jsxs("div",{className:"dropdown-item",onClick:K=>{K.stopPropagation(),U(!1),t()},children:[s.jsx(In,{name:"folder-open",width:16,height:16,style:{marginRight:8}}),s.jsxs("span",{children:[B("openFolder"),"..."]})]}),s.jsxs("div",{className:"dropdown-item",onClick:K=>{K.stopPropagation(),U(!1),S&&S()},children:[s.jsx(In,{name:"git",width:16,height:16,style:{marginRight:8}}),s.jsxs("span",{children:[B("cloneGitRepository"),"..."]})]}),s.jsxs("div",{className:"dropdown-item",onClick:K=>{K.stopPropagation(),U(!1),L&&L()},children:[s.jsx(In,{name:"desktop",width:16,height:16,style:{marginRight:8}}),s.jsxs("span",{children:[B("connectRemoteHost"),"..."]})]}),k.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"dropdown-separator"}),s.jsx("div",{className:"dropdown-section-header",children:B("recent")}),k.map(K=>s.jsxs("div",{className:"dropdown-item recent-project-item",onClick:j=>{j.stopPropagation(),U(!1),w&&w(K)},children:[s.jsx("span",{className:"recent-project-name",children:K.name||H(K.pathLabel)}),s.jsx("span",{className:"recent-project-path",children:K.pathLabel||K.backendRoot})]},K.id))]})]}),document.body)]}),s.jsxs("div",{className:"title-bar-search-button",onClick:A,title:"Search files (Ctrl+P)",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginRight:6},children:[s.jsx("circle",{cx:"11",cy:"11",r:"8"}),s.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),s.jsx("span",{children:"Search"})]})]}),s.jsxs("div",{className:"window-actions",children:[s.jsx("button",{className:"icon-action",onClick:()=>t(),title:B("openFolder"),children:s.jsx(In,{name:"folder-open"})}),s.jsx("button",{className:"icon-action",onClick:i,title:B("bindBackend"),children:s.jsx(In,{name:"link"})}),s.jsx("button",{className:"icon-action",onClick:l,title:B("toggleTheme"),children:s.jsx(In,{name:o==="dark"?"moon":"sun"})}),s.jsx("button",{className:"icon-action",onClick:c,title:B("toggleView"),children:s.jsx(In,{name:a==="code"?"eye":"code"})}),s.jsx("button",{className:"icon-action",onClick:u,disabled:!m,title:B("newFile"),children:s.jsx(In,{name:"doc-plus"})}),s.jsx("button",{className:"icon-action",onClick:f,disabled:!m,title:B("newFolder"),children:s.jsx(In,{name:"folder-plus"})}),s.jsx("button",{className:"icon-action",onClick:p,disabled:!m,title:B("sync"),children:s.jsx(In,{name:"sync"})}),s.jsx("button",{className:"icon-action",onClick:h,disabled:!m,title:B("refresh"),children:s.jsx(In,{name:"refresh"})}),x&&s.jsx("span",{className:"error-badge",children:"!"})]})]}),s.jsx("div",{style:{width:"140px",flexShrink:0}})]})},Fj="modulepreload",Wj=function(e){return"/"+e},Ih={},Kd=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=Wj(c),c in Ih)return;Ih[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":Fj,u||(p.as="script"),p.crossOrigin="",p.href=c,a&&p.setAttribute("nonce",a),document.head.appendChild(p),u)return new Promise((h,m)=>{p.addEventListener("load",h),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function l(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&l(a.reason);return t().catch(l)})},Bj=yr.lazy(()=>Kd(()=>import("./index-CQLH7Sfm.js"),[])),Ah=yr.lazy(()=>Kd(()=>import("./index-CQLH7Sfm.js"),[]).then(e=>({default:e.DiffEditor}))),$j={js:"javascript",jsx:"javascript",ts:"typescript",tsx:"typescript",css:"css",html:"html",json:"json",md:"markdown",py:"python"},jc=e=>$j[e.split(".").pop()]||"plaintext",Au=e=>`
  <style>
    body { margin: 0; }
    .__preview-fallback { font-family: Inter, Arial, sans-serif; padding: 1.5rem; color: #111827; background: #f3f4f6; min-height: 100vh; }
    @media (prefers-color-scheme: dark) {
      .__preview-fallback { color: #e5e7eb; background: #1e1e1e; }
    }
  </style>
  <div class="__preview-fallback">${e}</div>
`,Du=(e="")=>e.replace(/<script[^>]*src=["'][^"']+["'][^>]*>\s*<\/script>/gi,""),Li=(e,t,n,r="")=>{const i=e&&e.includes("<html")?Du(e):`<!doctype html><html><head></head><body>${e||Au("Nothing to preview")}</body></html>`,l=i.includes("</head>")?i.replace("</head>",`${r||""}<style>${t||""}</style></head>`):`${r||""}<style>${t||""}</style>${i}`;return l.includes("</body>")?l.replace("</body>",`${n||""}</body>`):`${l}${n||""}`},Uj=({files:e,liveContent:t,entryCandidates:n,preferredEntry:r})=>{var A,T,W;const i=Object.fromEntries(e.map(_=>[_.path,_]));if(t&&t.trim().length>0)return Li(t,"","");const l=e.filter(_=>_.path.toLowerCase().endsWith(".css")).map(_=>_.content||"").join(`
`),a=(()=>{var q,he,xe;if(r&&i[r])return r;const _=(n||[]).find(B=>B.toLowerCase().endsWith(".html"))||((q=e.find(B=>B.path.toLowerCase().endsWith(".html")))==null?void 0:q.path);if(_)return _;const Y=(n||[]).find(B=>B.toLowerCase().endsWith(".jsx")||B.toLowerCase().endsWith(".tsx"))||((he=e.find(B=>B.path.toLowerCase().endsWith(".jsx")||B.path.toLowerCase().endsWith(".tsx")))==null?void 0:he.path);if(Y)return Y;const U=(xe=e.find(B=>B.path.toLowerCase().endsWith(".js")))==null?void 0:xe.path;if(U)return U;const Z=(n||[]).find(B=>B.toLowerCase().endsWith(".py"));return Z||null})(),c=a?i[a]:null,u=a?a.toLowerCase().split(".").pop():"";if(c&&u==="html"){const _=Du(c.content||""),Y=_?/<script[\s\S]*?>[\s\S]*?<\/script>/i.test(_):!1;return Li(_||Au(""),l,"","")}if(c&&(u==="jsx"||u==="tsx")){const _=c.content||"",Y=`
      <script src="https://unpkg.com/react@18/umd/react.development.js"><\/script>
      <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"><\/script>
      <script src="https://unpkg.com/@babel/standalone/babel.min.js"><\/script>
    `,U=`
      <script type="text/babel">
        ${_}
      <\/script>
    `;return Li('<div id="root"></div>',l,U,Y)}if(c&&u==="js"){const Y=`<script>${c.content||""}<\/script>`;return Li('<div id="root"></div>',l,Y,"")}if(a&&u==="py"){const _=`<main style="font-family:Inter,Arial,sans-serif;padding:2rem;line-height:1.6;">
      <h2 style="margin-top:0;">Python entry detected: ${a}</h2>
      <p>Run the backend or start the script locally to preview the app. Frontend preview shows files only.</p>
    </main>`;return Li(_,l,"","")}const f=(n||[]).find(_=>_.toLowerCase().endsWith(".html"))||((A=e.find(_=>_.path.toLowerCase().endsWith(".html")))==null?void 0:A.path),p=(n||[]).find(_=>_.toLowerCase().endsWith(".jsx")||_.toLowerCase().endsWith(".tsx"))||((T=e.find(_=>_.path.toLowerCase().endsWith(".jsx")||_.path.toLowerCase().endsWith(".tsx")))==null?void 0:T.path),h=e.filter(_=>_.path.toLowerCase().endsWith(".js")).map(_=>_.content||"").join(`
`),m=e.filter(_=>_.path.toLowerCase().endsWith(".jsx")||_.path.toLowerCase().endsWith(".tsx")).map(_=>_.content||"").join(`
`);let x=f?(W=i[f])==null?void 0:W.content:null;!x&&p&&(x='<div id="root"></div>');const E=x&&Du(x),I=E?/<script[\s\S]*?>[\s\S]*?<\/script>/i.test(E):!1,w=m.trim().length>0&&!I?`
      <script src="https://unpkg.com/react@18/umd/react.development.js"><\/script>
      <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"><\/script>
      <script src="https://unpkg.com/@babel/standalone/babel.min.js"><\/script>
    `:"",L=!I?`
    ${h?`<script>${h}<\/script>`:""}
    ${m?`<script type="text/babel">${m}<\/script>`:""}
  `:"";return Li(E||Au(""),l,L,w)};function Hj({files:e,openTabs:t,activeFile:n,viewMode:r,livePreviewContent:i,entryCandidates:l,loading:o,hasWorkspace:a,workspaceRootLabel:c,workspaceRoots:u,bindingStatus:f,bindingError:p,hotReloadToken:h,theme:m,backendRoot:x,welcomeTabPath:E,renderWelcomeTab:I,onOpenWelcomeTab:k,previewEntry:w="",onSelectFolder:S,onBindBackendRoot:L,onOpenFile:A,onCloseFile:T,onFileChange:W,onActiveFileChange:_,onTabReorder:Y,onAddFile:U,onAddFolder:Z,onRefreshPreview:q,onToggleTheme:he,onToggleView:xe,onSyncStructure:B,onPreviewEntryChange:ee,settingsTabPath:te,renderSettingsTab:M,diffTabPrefix:H,diffTabs:C}){var ge;const me=y.useMemo(()=>m==="high-contrast"?"hc-black":m==="dark"?"vs-dark":"vs",[m]),K=y.useMemo(()=>({minimap:{enabled:!0,renderCharacters:!1},glyphMargin:!0,folding:!0,renderLineHighlight:"all",lineNumbers:"on",wordWrap:"off",automaticLayout:!0,scrollBeyondLastLine:!0,fontFamily:"'Cascadia Code', 'Fira Code', 'Consolas', 'Courier New', monospace",fontLigatures:!0,fontSize:14,lineHeight:20,letterSpacing:0,tabSize:4,contextmenu:!0,smoothScrolling:!0,renderWhitespace:"none",bracketPairColorization:{enabled:!0},guides:{indentation:!0,highlightActiveIndentation:!0},quickSuggestions:!0,cursorBlinking:"blink"}),[]),j=y.useMemo(()=>e.filter(J=>{const Pe=J.path.toLowerCase();return Pe.endsWith(".html")||Pe.endsWith(".jsx")||Pe.endsWith(".tsx")||Pe.endsWith(".js")||Pe.endsWith(".py")}).map(J=>J.path),[e]),se=y.useMemo(()=>Uj({files:e,liveContent:i,entryCandidates:l,preferredEntry:w}),[e,i,l,w]),ue=((ge=e.find(J=>J.path===n))==null?void 0:ge.content)||"",fe=y.useMemo(()=>new Set(e.filter(J=>J.updated).map(J=>J.path)),[e]),je=y.useMemo(()=>n?n.split("/").filter(Boolean):[],[n]),_e=y.useMemo(()=>{if(u&&Array.isArray(u)&&u.length>1){const J=u.map(Pe=>Pe&&(Pe.name||Pe.path)||"").filter(Boolean);if(J.length>0)return J.join("  ")}return c},[c,u]),Se=s.jsxs("div",{className:"workspace-editor",children:[s.jsx("div",{className:"tab-row",children:t.map((J,Pe)=>{const at=te&&J===te,De=E&&J===E,nt=H&&J.startsWith(H),Q=nt&&C?C[J]:null,$e=Q?Q.path?`Diff: ${Q.path}`:Q.files?"Diff (multi-file)":"Diff":"Diff";return s.jsxs("div",{className:`tab ${n===J?"active":""} ${fe.has(J)?"tab-updated":""}`,draggable:!0,onDragStart:Re=>Re.dataTransfer.setData("text/plain",Pe.toString()),onDragOver:Re=>Re.preventDefault(),onDrop:Re=>{Re.preventDefault();const Oe=Number(Re.dataTransfer.getData("text/plain"));Y(Oe,Pe)},children:[s.jsxs("button",{className:"tab-main",onClick:()=>_(J),title:J,type:"button",children:[s.jsx("span",{className:"tab-text",children:at?"Settings":De?"Welcome":nt?$e:J.split("/").pop()}),fe.has(J)&&s.jsx("span",{className:"tab-dirty codicon codicon-circle-filled","aria-label":""})]}),s.jsx("button",{onClick:()=>T(J),className:"tab-close",title:"Close tab",children:s.jsx("i",{className:"codicon codicon-close","aria-hidden":!0})})]},J)})}),s.jsxs("div",{className:"editor-breadcrumbs",role:"navigation","aria-label":"Breadcrumbs",children:[n&&_e&&n!==te&&n!==E&&!(H&&n&&n.startsWith(H))&&s.jsx("span",{className:"breadcrumb-root",children:_e}),n&&n!==te&&n!==E&&!(H&&n&&n.startsWith(H))&&je.map((J,Pe)=>s.jsxs("span",{className:"breadcrumb-part",children:[s.jsx("i",{className:"codicon codicon-chevron-right","aria-hidden":!0}),s.jsx("span",{children:J})]},`${J}-${Pe}`))]}),s.jsx("div",{className:"monaco-shell",children:n?te&&n===te&&M?M():E&&n===E&&I?I():H&&n&&n.startsWith(H)&&C&&C[n]?s.jsx(y.Suspense,{fallback:s.jsx("div",{className:"monaco-fallback",children:"Loading Diff Editor"}),children:C[n].files?s.jsx("div",{style:{height:"100%",overflowY:"auto"},children:C[n].files.map(J=>s.jsxs("div",{style:{height:"300px",borderBottom:"1px solid var(--border)",display:"flex",flexDirection:"column"},children:[s.jsxs("div",{style:{padding:"8px 16px",background:"var(--panel-sub)",borderBottom:"1px solid var(--border)",fontSize:"13px",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("span",{style:{color:J.status==="M"?"#e2c08d":J.status==="A"?"#73c991":J.status==="D"?"#f14c4c":"#999",fontWeight:"bold",width:"16px",textAlign:"center"},children:J.status}),J.path]}),s.jsx("div",{style:{flex:1,minHeight:0},children:s.jsx(Ah,{height:"100%",language:jc(J.path||""),original:J.before||"",modified:J.after||"",theme:me,options:{...K,readOnly:!0,renderSideBySide:!0,wordWrap:"off",minimap:{enabled:!1},scrollBeyondLastLine:!1,padding:{top:8,bottom:8}}})})]},J.path))}):s.jsx(Ah,{height:"100%",language:jc(C[n].path||""),original:C[n].before||"",modified:C[n].after||"",theme:me,options:{...K,readOnly:!0,renderSideBySide:!0,wordWrap:"off"}})}):s.jsx(y.Suspense,{fallback:s.jsx("div",{className:"monaco-fallback",children:"Loading Monaco Editor"}),children:s.jsx(Bj,{height:"100%",language:jc(n),theme:me,value:ue,options:K,onChange:J=>W(n,J??"")},`editor-${n}`)}):s.jsx("div",{className:"monaco-empty","aria-label":"No file open",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:!a&&k?s.jsxs("div",{style:{textAlign:"center",padding:24},children:[s.jsx("div",{style:{fontSize:16,fontWeight:700,marginBottom:8},children:"No editor open"}),s.jsx("div",{style:{color:"var(--muted)",marginBottom:12},children:" Welcome "}),s.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"center"},children:[s.jsx("button",{className:"primary-btn",onClick:k,children:"Open Welcome"}),s.jsx("button",{className:"ghost-btn",onClick:S,children:" Open Folder"})]})]}):null})})]});return s.jsx("div",{className:"workspace-shell",children:s.jsx("div",{className:`workspace-body ${r==="preview"?"preview-only":"code-only"}`,children:r==="code"||r==="diff"?Se:s.jsxs("div",{className:"workspace-preview fullscreen-preview",children:[s.jsxs("div",{className:"preview-header",children:[s.jsx("div",{children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexWrap:"wrap"},children:[s.jsx("span",{children:"Live Preview"}),s.jsxs("select",{value:w,onChange:J=>ee==null?void 0:ee(J.target.value),className:"ghost-input",style:{minWidth:"200px",padding:"0.2rem 0.4rem"},title:"",children:[s.jsx("option",{value:"",children:""}),j.map(J=>s.jsx("option",{value:J,children:J},J))]}),l!=null&&l.length?s.jsxs("span",{className:"preview-entry",children:[": ",l[0]]}):null]})}),s.jsxs("div",{className:"preview-actions",children:[s.jsx("button",{onClick:xe,className:"ghost-btn",children:""}),s.jsx("button",{onClick:q,className:"ghost-btn",children:""})]})]}),s.jsx("iframe",{title:"live-preview",srcDoc:se,sandbox:"allow-scripts",className:"preview-frame"},`preview-${h}`)]})})})}const Vj=yr.memo(Hj);function Gj(e){return s.jsx(Vj,{...e})}function Kj({theme:e,children:t}){return s.jsx("div",{className:"app-frame","data-theme":e,children:t})}function wa(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function Qj(e,t){let n;const r=()=>{if(n)return n;const i=indexedDB.open(e);return i.onupgradeneeded=()=>i.result.createObjectStore(t),n=wa(i),n.then(l=>{l.onclose=()=>n=void 0},()=>{}),n};return(i,l)=>r().then(o=>l(o.transaction(t,i).objectStore(t)))}let bc;function Qd(){return bc||(bc=Qj("keyval-store","keyval")),bc}function Yd(e,t=Qd()){return t("readonly",n=>wa(n.get(e)))}function Xd(e,t,n=Qd()){return n("readwrite",r=>(r.put(t,e),wa(r.transaction)))}function Yj(e,t=Qd()){return t("readwrite",n=>(n.delete(e),wa(n.transaction)))}const Wy="ai_agent_project_registry_v1",fs="ai_agent_last_project_id",Xj=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`proj-${Date.now()}-${Math.random().toString(16).slice(2)}`,ws=async()=>await Yd(Wy)||[],ka=async e=>Xd(Wy,e),Jj=async e=>{if(!e)return;const n=(await ws()).filter(i=>i&&i.id!==e);await ka(n),await Yd(fs)===e&&await Yj(fs)},qj=async(e,t={})=>{const n=await ws();let r=null;for(const a of n)if(a!=null&&a.handle)try{if(await e.isSameEntry(a.handle)){r=a;break}}catch{}const i=(r==null?void 0:r.id)||Xj(),l={id:i,name:e.name,handle:e,lastOpened:Date.now(),pathLabel:t.pathLabel||(r==null?void 0:r.pathLabel)||e.name||"",workspaceId:t.workspaceId||(r==null?void 0:r.workspaceId)||"",backendRoot:t.backendRoot||(r==null?void 0:r.backendRoot)||""},o=[l,...n.filter(a=>a&&a.id!==i)].slice(0,10);return await ka(o),await Xd(fs,i),l},Dh=async(e,t)=>{const r=(await ws()).map(i=>!i||i.id!==e?i:typeof t=="function"?t(i):{...i,...t});return await ka(r),r.find(i=>i&&i.id===e)},Zj=async()=>(await ws()).filter(Boolean).sort((t,n)=>((n==null?void 0:n.lastOpened)||0)-((t==null?void 0:t.lastOpened)||0)).slice(0,10).map(t=>({id:t.id,name:t.name,pathLabel:t.pathLabel||"",lastOpened:t.lastOpened,workspaceId:t.workspaceId||"",backendRoot:t.backendRoot||""})),An=e=>{if(!e)return".";if(e.includes(".."))throw new Error("");if(e.startsWith("/")||/^[A-Za-z]:/.test(e))throw new Error("");return e.replace(/^\.\/+/,"").replace(/\\/g,"/")},Oh=async(e,{allowPrompt:t=!0}={})=>{if(!e)return!1;const n=await e.queryPermission({mode:"readwrite"});return n==="granted"?!0:n==="prompt"&&t?await e.requestPermission({mode:"readwrite"})==="granted":!1},eb=e=>e?e.split(`
`).map(t=>t.trim()).filter(t=>t&&!t.startsWith("#")).map(t=>t.replace(/^\.\//,"").replace(/\/+$/,"")):[],tb=(e,t)=>t!=null&&t.length?t.some(n=>e===n||e.startsWith(`${n}/`)):!1,nb=(e=[])=>{const t=["index.html","public/index.html","src/index.html","main.html","main.py","app.py","server.py","app.jsx","app.tsx","src/App.jsx","src/main.jsx","src/main.tsx"],n=new Map(e.map(i=>[i.toLowerCase(),i])),r=[];return t.forEach(i=>{const l=n.get(i.toLowerCase());l&&!r.includes(l)&&r.push(l)}),!r.length&&e.length&&r.push(e[0]),r};class ci{constructor(t,n={}){this.rootHandle=t,this.rootName=(t==null?void 0:t.name)||"workspace",this.projectId=n.id||null,this.pathLabel=n.pathLabel||(t==null?void 0:t.name)||"",this.handleMap=new Map([["",t]]),this.gitignore=[]}static async fromPersisted(t=null,{allowPrompt:n=!0}={}){if(typeof window>"u")return null;try{const r=(await ws()).filter(Boolean).sort((c,u)=>((u==null?void 0:u.lastOpened)||0)-((c==null?void 0:c.lastOpened)||0)),i=t||await Yd(fs);let l=i?r.find(c=>c.id===i):r[0];if(!l&&r.length&&(l=r[0]),!(l!=null&&l.handle))return null;if(!await Oh(l.handle,{allowPrompt:n})){const c=r.filter(u=>u.id!==l.id);return await ka(c),null}const a=new ci(l.handle,l);return await a._loadGitignore(),a}catch{return null}}static async pickFolder(){if(typeof window>"u"||!window.showDirectoryPicker)throw new Error(" File System Access API");const t=await window.showDirectoryPicker({id:"ai-agent-workspace"});if(!await Oh(t,{allowPrompt:!0}))throw new Error("");const r=new ci(t,{id:null,pathLabel:(t==null?void 0:t.name)||"workspace"});return await r._loadGitignore(),r}static async listRecent(){return Zj()}static async removeRecent(t){return await Jj(t),!0}async touchRecent({pathLabel:t,workspaceId:n,backendRoot:r}={}){if(!this.rootHandle)return null;const i=(t||this.pathLabel||this.rootName||"").trim();if(!this.projectId){const o=await qj(this.rootHandle,{pathLabel:i,workspaceId:n,backendRoot:r});return this.projectId=o.id||this.projectId,this.pathLabel=o.pathLabel||this.pathLabel,o}const l=await Dh(this.projectId,o=>({...o,pathLabel:i||(o==null?void 0:o.pathLabel)||"",lastOpened:Date.now(),workspaceId:n||(o==null?void 0:o.workspaceId)||"",backendRoot:r||(o==null?void 0:o.backendRoot)||""}));return await Xd(fs,this.projectId),l}async _loadGitignore(){try{const r=await(await(await this.rootHandle.getFileHandle(".gitignore")).getFile()).text();this.gitignore=eb(r)}catch{this.gitignore=[]}}async ensureTree(t,{create:n=!0}={}){const r=An(t),i=r==="."?[]:r.split("/").filter(Boolean);let l=this.rootHandle,o="";for(const a of i){o=o?`${o}/${a}`:a;const c=`${o}/`;if(this.handleMap.has(c)){l=this.handleMap.get(c);continue}l=await l.getDirectoryHandle(a,{create:n}),this.handleMap.set(c,l)}return l}async getFileHandle(t,{create:n=!1}={}){const r=An(t),i=r.split("/").filter(Boolean),l=i.pop(),o=i.join("/"),c=await(await this.ensureTree(o,{create:n})).getFileHandle(l,{create:n});return this.handleMap.set(r,c),c}async readFile(t){const i=await(await(await this.getFileHandle(t,{create:!1})).getFile()).text();return{path:An(t),content:i,truncated:!1}}async writeFile(t,n,{createDirectories:r=!0}={}){const l=await(await this.getFileHandle(t,{create:r})).createWritable();return await l.write(n||""),await l.close(),{path:An(t),bytes:(n||"").length}}async createFolder(t){return await this.ensureTree(t,{create:!0}),{path:An(t),created:!0}}async deletePath(t){const n=An(t),r=n.split("/").filter(Boolean),i=r.pop();return await(await this.ensureTree(r.join("/"),{create:!1})).removeEntry(i,{recursive:!0}),this.handleMap.delete(n),{path:n,deleted:!0}}async renamePath(t,n){const r=An(t),i=An(n),l=await this.getFileHandle(r,{create:!1}).catch(()=>null);if(!!l){const c=await(await l.getFile()).text();return await this.writeFile(i,c,{createDirectories:!0}),await this.deletePath(r),{from:r,to:i,migrated:!0}}return await this._copyDirectory(r,i),await this.deletePath(r),{from:r,to:i,migrated:!0}}async _copyDirectory(t,n){const r=An(t),i=An(n),o=[{dir:await this.ensureTree(r,{create:!1}),rel:""}];for(;o.length;){const{dir:a,rel:c}=o.pop();for await(const u of a.values()){const f=c?`${c}/${u.name}`:u.name;if(u.kind==="directory")await this.ensureTree(`${i}/${f}`,{create:!0}),o.push({dir:u,rel:f});else{const h=await(await u.getFile()).text();await this.writeFile(`${i}/${f}`,h,{createDirectories:!0})}}}}async listFiles(t="."){const n=An(t),r=await this.ensureTree(n,{create:!1}),i=[],l=[{handle:r,rel:n==="."?"":n}];for(;l.length;){const{handle:o,rel:a}=l.pop();for await(const c of o.values()){const u=a?`${a}/${c.name}`:c.name;if(!tb(u,this.gitignore))if(c.kind==="directory")i.push({path:u,type:"dir"}),l.push({handle:c,rel:u});else{const f=await c.getFile();i.push({path:u,type:"file",size:f.size})}}}return i.sort((o,a)=>o.path.localeCompare(a.path)),i}async search(t,n={}){if(!t)throw new Error("");const r=n.path||".",i=!!n.caseSensitive,l=!!n.isRegex;let o;if(l)try{o=new RegExp(t,i?"":"i")}catch{throw new Error("")}const a=await this.listFiles(r),c=[];for(const u of a){if(u.type!=="file")continue;const{content:f}=await this.readFile(u.path);if(f.split(`
`).forEach((h,m)=>{let x=!1;l?x=o.test(h):i?x=h.includes(t):x=h.toLowerCase().includes(t.toLowerCase()),x&&c.push({path:u.path,line:m+1,preview:h.trim()})}),c.length>500)return{query:t,results:c}}return{query:t,results:c}}async getStructure({includeContent:t=!1}={}){await this._loadGitignore();const n=await this.listFiles("."),r=[];if(t)for(const l of n){if(l.type!=="file")continue;const o=await this.readFile(l.path);r.push(o)}const i=n.filter(l=>l.type==="file").map(l=>l.path);return{root:this.rootName,entries:n,files:r,entry_candidates:nb(i)}}async updatePathLabel(t){this.projectId&&(this.pathLabel=t||this.pathLabel,await Dh(this.projectId,{pathLabel:this.pathLabel,lastOpened:Date.now()}))}}const rb=(e="")=>{const t=String(e||"").trim();return t?/^[a-zA-Z]:[\\/]/.test(t)||t.startsWith("\\\\")||t.startsWith("/"):!1},ib=(e="")=>String(e||"").replace(/^[./\\]+/,"").replace(/\\/g,"/"),Ii=e=>{const t=ib(e);if(!t)return".";if(t.includes(".."))throw new Error("");if(t.startsWith("/")||/^[A-Za-z]:/.test(t))throw new Error("");return t},lb=(e="")=>{const t=String(e||"").replace(/[\\\/]+$/,""),n=t.lastIndexOf("/"),r=t.lastIndexOf("\\"),i=Math.max(n,r);return i>=0?t.slice(i+1):t};async function zh(e){try{return await e.json()}catch{return null}}class Pr{constructor(t,n={}){const r=String(t||"").trim();if(!rb(r))throw new Error("BackendWorkspaceDriver requires an absolute root path");this.rootFsPath=r,this.rootName=n.rootName||lb(r)||"workspace",this.projectId=n.id||r,this.pathLabel=n.pathLabel||r,this.workspaceId=n.workspaceId||"",this.workspaceRoots=Array.isArray(n.workspaceRoots)?n.workspaceRoots:[]}static isAvailable(){return typeof fetch=="function"}static async fromFsPath(t,n={}){return new Pr(t,{id:n.id||String(t||"").trim(),rootName:n.rootName,pathLabel:n.pathLabel,workspaceId:n.workspaceId,workspaceRoots:n.workspaceRoots})}_headers(t={}){let n=this.workspaceId||"";if(!n)try{typeof window<"u"&&window.__NODE_AGENT_WORKSPACE_ID__&&(n=String(window.__NODE_AGENT_WORKSPACE_ID__||"").trim())}catch{}const r={};return n&&(r["X-Workspace-Id"]=n),r["X-Workspace-Root"]=this.rootFsPath,{...r,...t}}async _getJson(t){const n=await fetch(t,{method:"GET",headers:this._headers()}),r=await zh(n);if(!n.ok)throw new Error((r==null?void 0:r.detail)||n.statusText||"Request failed");return r}async _postJson(t,n){const r=await fetch(t,{method:"POST",headers:this._headers({"Content-Type":"application/json"}),body:JSON.stringify(n||{})}),i=await zh(r);if(!r.ok)throw new Error((i==null?void 0:i.detail)||r.statusText||"Request failed");return i}async readFile(t){const n=Ii(t),r=await this._getJson(`/api/workspace/read?path=${encodeURIComponent(n)}`);return{path:n,content:String((r==null?void 0:r.content)??""),truncated:!!(r!=null&&r.truncated)}}async writeFile(t,n,{createDirectories:r=!1}={}){const i=Ii(t);return await this._postJson("/api/workspace/write",{path:i,content:String(n??""),create_directories:!!r}),!0}async createFolder(t){const n=Ii(t);return await this._postJson("/api/workspace/mkdir",{path:n,recursive:!0}),!0}async deletePath(t){const n=Ii(t);return await this._postJson("/api/workspace/delete",{path:n,recursive:!0}),!0}async renamePath(t,n){const r=Ii(t),i=Ii(n);return await this._postJson("/api/workspace/rename",{from:r,to:i}),!0}async getStructure({includeContent:t=!1}={}){const n=await this._getJson("/api/workspace/structure"),r=Array.isArray(n==null?void 0:n.entries)?n.entries:[],i=Array.isArray(n==null?void 0:n.roots)?n.roots:[],l=[];if(t){const o=r.filter(a=>a&&a.type==="file"&&typeof a.path=="string");for(const a of o){const c=await this.readFile(a.path);l.push(c)}}return{root:(n==null?void 0:n.root)||this.rootName,roots:i,entries:r,files:l,entry_candidates:Array.isArray(n==null?void 0:n.entry_candidates)?n.entry_candidates:[]}}async updatePathLabel(t){return this.pathLabel=String(t||"").trim()||this.pathLabel,!0}async search(t,n={}){const{caseSensitive:r=!1,isRegex:i=!1}=n,l=await this._postJson("/workspace/search",{query:t,case_sensitive:r,regex:i});if(l.status==="error")throw new Error(l.message);const o=(l.results||[]).map(a=>({path:a.file,line:a.line,preview:a.context?a.context.trim():""}));return{query:t,results:o}}async touchRecent(){return null}}const By=yr.lazy(()=>Kd(()=>import("./index-CQLH7Sfm.js"),[]).then(e=>({default:e.DiffEditor}))),sb={js:"javascript",jsx:"javascript",ts:"typescript",tsx:"typescript",css:"css",html:"html",json:"json",md:"markdown",py:"python"},$y=(e="")=>{const t=e.split(".").pop();return sb[t]||"plaintext"};class ob extends yr.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,n){console.error("Monaco Editor Error:",t,n)}render(){return this.state.hasError?s.jsx("div",{style:{padding:"10px",color:"var(--danger)"},children:"Editor component crashed. Please retry."}):this.props.children}}const ab=(e="",t="")=>{const n=(e||"").split(`
`),r=(t||"").split(`
`),i=Math.max(n.length,r.length);for(let l=0;l<i;l+=1)if(n[l]!==r[l])return{originalLine:l+1,modifiedLine:l+1};return null};function cb({diff:e,onClose:t,theme:n,onOpenFile:r,onOpenDiffInWorkspace:i}){const l=!!e&&typeof e=="object",o=l?e.path:"",a=l&&e.before||"",c=l&&e.after||"",u=l?!!e.before_truncated:!1,f=l?!!e.after_truncated:!1,[p,h]=y.useState(!1),[m,x]=y.useState(!0),E=y.useMemo(()=>`${e&&(e.id||e.diff_id||e.path)||"diff-view"}-${m?"compact":"full"}`,[e,m]),I=y.useRef(null),k=y.useRef(null),w=y.useRef(null),S=y.useRef({original:null,modified:null}),L=y.useCallback(_=>{if(!_)return!1;try{return typeof _.isDisposed=="function"&&_.isDisposed()?!1:(_.getLineCount(),!0)}catch{return!1}},[]),A=y.useMemo(()=>$y(o||""),[o]),T=y.useMemo(()=>n==="high-contrast"?"hc-black":n==="dark"?"vs-dark":"vs",[n]),W=y.useCallback(_=>{I.current=_;const Y=_.getModel();S.current={original:(Y==null?void 0:Y.original)||null,modified:(Y==null?void 0:Y.modified)||null};try{k.current=_.getModifiedEditor(),w.current=_.getOriginalEditor()}catch{k.current=null,w.current=null}},[]);return y.useEffect(()=>{const _=I.current,Y=k.current||_&&_.getModifiedEditor&&_.getModifiedEditor();if(!Y)return;const{modified:U}=S.current;if(!L(U))return;const Z=_&&_.getLineChanges&&_.getLineChanges()||[],q=Z.length>0?Z[0]:null,he=ab(a,c),xe=q&&typeof q.modifiedStartLineNumber=="number"?q.modifiedStartLineNumber:he&&(he.modifiedLine||he.originalLine)||1,B=Math.min(Math.max(xe,1),U.getLineCount());setTimeout(()=>{try{Y.revealLineInCenter(B),Y.setPosition({lineNumber:B,column:Math.max(1,U.getLineMaxColumn(B)||1)})}catch{}},0)},[a,c,L]),l?s.jsx("div",{className:"diff-modal-backdrop",onClick:t,children:s.jsxs("div",{className:"diff-modal",onClick:_=>_.stopPropagation(),style:p?{width:"calc(100vw - 32px)",height:"calc(100vh - 32px)",maxWidth:"none",borderRadius:"16px"}:void 0,children:[s.jsxs("div",{className:"diff-modal-header",children:[s.jsxs("div",{className:"diff-modal-title",children:[s.jsx("span",{className:"codicon codicon-diff","aria-hidden":!0,style:{fontSize:"18px",color:"var(--accent)"}}),s.jsx("span",{children:""}),o?s.jsx("span",{className:"diff-modal-path",children:o}):null]}),s.jsxs("div",{className:"diff-modal-actions",children:[(u||f)&&s.jsx("span",{className:"diff-modal-note",children:[u?"":"",f?"":""].filter(Boolean).join("  ")}),(o||e.files&&e.files.length>0)&&i&&s.jsxs("button",{className:"ghost-btn",title:" Diff ",onClick:()=>{i(e)},children:[s.jsx("span",{className:"codicon codicon-diff","aria-hidden":!0}),s.jsx("span",{style:{marginLeft:"0.35rem"},children:""})]}),s.jsxs("button",{className:"ghost-btn",title:m?"":"",onClick:()=>x(_=>!_),children:[s.jsx("span",{className:"codicon codicon-diff","aria-hidden":!0}),s.jsx("span",{style:{marginLeft:"0.35rem"},children:m?"":""})]}),s.jsx("button",{className:"ghost-btn",title:p?"":"",onClick:()=>h(_=>!_),children:s.jsx("span",{className:`codicon ${p?"codicon-screen-normal":"codicon-screen-full"}`,"aria-hidden":!0})}),s.jsx("button",{className:"ghost-btn",onClick:t,title:"",children:s.jsx("span",{className:"codicon codicon-close","aria-hidden":!0})})]})]}),s.jsx("div",{className:"diff-modal-body",children:e.files&&Array.isArray(e.files)?s.jsx("div",{className:"multi-diff-container",style:{height:"100%",overflowY:"auto"},children:e.files.map((_,Y)=>s.jsx(ub,{file:_,theme:T,compactView:m,index:Y,onOpenFile:r,onOpenDiffInWorkspace:i,onCloseModal:t},_.path))}):s.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:s.jsx(y.Suspense,{fallback:s.jsx("div",{className:"monaco-fallback",children:"Loading Diff Viewer"}),children:s.jsx(By,{height:"100%",language:A,original:a,modified:c,theme:T,onMount:W,keepCurrentOriginalModel:!0,keepCurrentModifiedModel:!0,originalModelPath:`diff-original-${e&&(e.id||e.diff_id||e.path)||"default"}`,modifiedModelPath:`diff-modified-${e&&(e.id||e.diff_id||e.path)||"default"}`,options:{renderSideBySide:!0,readOnly:!0,automaticLayout:!0,wordWrap:"off",diffWordWrap:"off",minimap:{enabled:!1},scrollBeyondLastLine:!1,padding:{top:16,bottom:16},hideUnchangedRegions:m?{enabled:!0,revealLinePadding:3,contextLineCount:3}:{enabled:!1}}},E)})})})]})}):null}const ub=({file:e,theme:t,compactView:n,index:r,onOpenFile:i,onOpenDiffInWorkspace:l,onCloseModal:o})=>{const[a,c]=y.useState(!0),u=y.useMemo(()=>$y(e.path||""),[e.path]);return s.jsxs("div",{className:"diff-section",children:[s.jsxs("div",{className:"diff-section-header",onClick:()=>c(!a),style:{cursor:"pointer",userSelect:"none",display:"flex",alignItems:"center"},children:[s.jsx("span",{className:`codicon codicon-${a?"chevron-down":"chevron-right"}`,style:{marginRight:"8px",fontSize:"14px",color:"var(--muted)"}}),s.jsx("span",{style:{color:e.status==="M"?"#e2c08d":e.status==="A"?"#73c991":e.status==="D"?"#f14c4c":"#999",fontWeight:"bold",marginRight:"8px",fontSize:"13px",width:"16px",textAlign:"center"},children:e.status}),s.jsx("span",{style:{fontWeight:"500",fontSize:"13px",color:"var(--text)",flex:1},children:e.path}),l?s.jsx("button",{className:"ghost-btn",title:" Diff ",onClick:f=>{f.stopPropagation(),l(e),o&&o()},style:{padding:"2px 6px",height:"24px",fontSize:"12px"},children:s.jsx("span",{className:"codicon codicon-diff"})}):i&&s.jsx("button",{className:"ghost-btn",title:"",onClick:f=>{f.stopPropagation(),i(e.path),o&&o()},style:{padding:"2px 6px",height:"24px",fontSize:"12px"},children:s.jsx("span",{className:"codicon codicon-go-to-file"})})]}),a&&s.jsx("div",{style:{height:"300px"},children:s.jsx(ob,{children:s.jsx(y.Suspense,{fallback:s.jsx("div",{className:"monaco-fallback",children:"Loading..."}),children:s.jsx(By,{height:"300px",language:u,original:e.before||"",modified:e.after||"",theme:t,originalModelPath:`original://${e.path}`,modifiedModelPath:`modified://${e.path}`,keepCurrentOriginalModel:!0,keepCurrentModifiedModel:!0,options:{renderSideBySide:!0,readOnly:!0,automaticLayout:!0,scrollBeyondLastLine:!1,minimap:{enabled:!1},padding:{top:8,bottom:8},hideUnchangedRegions:n?{enabled:!0,revealLinePadding:3,contextLineCount:3}:{enabled:!1}}})})})})]})},Te={isAvailable:()=>{var e;return typeof window<"u"&&!!((e=window.electronAPI)!=null&&e.git)},async clone(e,t,n=""){if(!this.isAvailable())return{success:!1,error:"Git is not available"};if(typeof window.electronAPI.git.clone!="function")return{success:!1,error:"Core component updated. Please restart the application to enable Clone."};try{return await window.electronAPI.git.clone(e,t,n)||{success:!1,error:"Clone failed"}}catch(r){return console.error("Git clone failed",r),{success:!1,error:r.message||String(r)}}},async status(e){if(!this.isAvailable())return null;try{const t=await window.electronAPI.git.status(e);return t.success?t.status:null}catch(t){return console.error("Git status failed",t),null}},async stage(e,t){if(!this.isAvailable())return!1;try{return(await window.electronAPI.git.stage(e,t)).success}catch(n){return console.error("Git stage failed",n),!1}},async unstage(e,t){if(!this.isAvailable())return!1;try{return(await window.electronAPI.git.unstage(e,t)).success}catch(n){return console.error("Git unstage failed",n),!1}},async restore(e,t){if(!this.isAvailable())return!1;try{return(await window.electronAPI.git.restore(e,t)).success}catch(n){return console.error("Git restore failed",n),!1}},async commit(e,t){if(!this.isAvailable())return!1;try{return(await window.electronAPI.git.commit(e,t)).success}catch(n){return console.error("Git commit failed",n),!1}},async push(e){if(!this.isAvailable())return!1;try{return(await window.electronAPI.git.push(e)).success}catch(t){return console.error("Git push failed",t),!1}},async pull(e){if(!this.isAvailable())return!1;try{return(await window.electronAPI.git.pull(e)).success}catch(t){return console.error("Git pull failed",t),!1}},async branch(e){if(!this.isAvailable())return null;try{const t=await window.electronAPI.git.branch(e);return t.success?t.branches:null}catch(t){return console.error("Git branch failed",t),null}},async createBranch(e,t){if(!this.isAvailable())return!1;try{return(await window.electronAPI.git.createBranch(e,t)).success}catch(n){return console.error("Git createBranch failed",n),!1}},async deleteBranch(e,t){if(!this.isAvailable())return!1;try{return(await window.electronAPI.git.deleteBranch(e,t)).success}catch(n){return console.error("Git deleteBranch failed",n),!1}},async checkout(e,t){if(!this.isAvailable())return!1;try{return(await window.electronAPI.git.checkout(e,t)).success}catch(n){return console.error("Git checkout failed",n),!1}},async resolve(e,t,n){if(!this.isAvailable())return!1;try{return(await window.electronAPI.git.resolve(e,t,n)).success}catch(r){return console.error("Git resolve failed",r),!1}},async publishBranch(e,t){if(!this.isAvailable())return!1;if(typeof window.electronAPI.git.publishBranch!="function")return console.error("Git publishBranch is not available"),!1;try{return(await window.electronAPI.git.publishBranch(e,t)).success}catch(n){return console.error("Git publishBranch failed",n),!1}},async setUpstream(e,t){if(!this.isAvailable())return!1;if(typeof window.electronAPI.git.setUpstream!="function")return console.error("Git setUpstream is not available"),!1;try{return(await window.electronAPI.git.setUpstream(e,t)).success}catch(n){return console.error("Git setUpstream failed",n),!1}},async diff(e,t){if(!this.isAvailable())return null;try{const n=await window.electronAPI.git.diff(e,t);return n.success?n.diff:null}catch(n){return console.error("Git diff failed",n),null}},async init(e){if(!this.isAvailable())return!1;try{return(await window.electronAPI.git.init(e)).success}catch(t){return console.error("Git init failed",t),!1}},async getRemotes(e){if(!this.isAvailable())return[];try{const t=await window.electronAPI.git.getRemotes(e);return t.success?t.remotes:[]}catch(t){return console.error("Git getRemotes failed",t),[]}},async addRemote(e,t,n){if(!this.isAvailable())return!1;try{return(await window.electronAPI.git.addRemote(e,t,n)).success}catch(r){return console.error("Git addRemote failed",r),!1}},async log(e){if(!this.isAvailable())return[];try{const t=await window.electronAPI.git.log(e);return t.success?t.log:[]}catch(t){return console.error("Git log failed",t),[]}},async getCommitDetails(e,t){if(!this.isAvailable())return[];try{const n=await window.electronAPI.git.getCommitDetails(e,t);return n.success?n.files:[]}catch(n){return console.error("Git getCommitDetails failed",n),[]}},async getCommitStats(e,t){if(!this.isAvailable())return null;try{const n=await window.electronAPI.git.getCommitStats(e,t);return n.success?n.stats:null}catch(n){return console.error("Git getCommitStats failed",n),null}},async getCommitFileDiffs(e,t){if(!this.isAvailable())return[];if(typeof window.electronAPI.git.getCommitFileDiffs!="function")return alert('Core component updated. Please restart the application to enable "Open All Diffs".'),console.error("Missing git.getCommitFileDiffs in preload. Restart required."),[];try{const n=await window.electronAPI.git.getCommitFileDiffs(e,t);return n.success?n.files:[]}catch(n){return console.error("Git getCommitFileDiffs failed",n),[]}},async getFileContent(e,t,n){if(!this.isAvailable())return"";try{const r=await window.electronAPI.git.getFileContent(e,t,n);return r.success?r.content:""}catch(r){return console.error("Git getFileContent failed",r),""}}},db=({gitStatus:e,gitRemotes:t=[],gitLog:n=[],onCommit:r,onStage:i,onUnstage:l,onStageAll:o,onUnstageAll:a,onSync:c,onPull:u,onPush:f,onRefresh:p,onGenerateCommitMessage:h,onInit:m,onAddRemote:x,onOpenFile:E,onDiff:I,onGetCommitDetails:k,onGetCommitStats:w,onOpenCommitDiff:S,onOpenAllDiffs:L,onOpenBatchDiffs:A,onDiscard:T,onDiscardAll:W,loading:_,repositoryLabel:Y,onPublishBranch:U,onSetUpstream:Z,gitBranches:q,onCreateBranch:he,onDeleteBranch:xe,onCheckoutBranch:B,onResolve:ee})=>{var Jr,Bt,qr;const[te,M]=y.useState(""),[H,C]=y.useState(()=>{if(typeof window<"u")try{const O=window.localStorage.getItem("sc-expanded-v2");if(O){const $=JSON.parse(O);if($&&typeof $=="object")return{...{staged:!0,unstaged:!0,repositories:!0,graph:!0,branches:!0,conflicts:!0},...$}}}catch{}return{staged:!0,unstaged:!0,repositories:!0,graph:!0,branches:!0,conflicts:!0}}),[me,K]=y.useState({}),[j,se]=y.useState({}),[ue,fe]=y.useState(!1),[je,_e]=y.useState("origin"),[Se,ge]=y.useState(""),[J,Pe]=y.useState(""),[at,De]=y.useState(!1),[nt,Q]=y.useState(!1),[$e,Re]=y.useState(""),[Oe,Mt]=y.useState("list"),[rt,z]=y.useState(null),[ve,D]=y.useState(()=>{if(typeof window<"u")try{const O=window.localStorage.getItem("sc-section-order-v2");if(O){const $=JSON.parse(O);if(Array.isArray($)&&$.length){const ye=["staged","unstaged","repositories","graph","branches","conflicts"],Me=$.filter(Vn=>ye.includes(Vn)),Ne=ye.filter(Vn=>!Me.includes(Vn)),Hn=[...Me,...Ne];if(Hn.length)return Hn}}}catch{}return["conflicts","staged","unstaged","repositories","branches","graph"]}),[we,b]=y.useState(null),R=y.useRef(null),V=y.useRef(null),[oe,de]=y.useState(null),[Ae,be]=y.useState(null),[Ce,Ue]=y.useState(null),[it,He]=y.useState({}),qe=y.useRef(null),Ze=async O=>{if(me[O]){K($=>{const ye={...$};return delete ye[O],ye});return}se($=>({...$,[O]:!0}));try{const $=await k(O);K(ye=>({...ye,[O]:$}))}catch($){console.error($)}finally{se($=>({...$,[O]:!1}))}},Bn=(O,$)=>{qe.current&&(clearTimeout(qe.current),qe.current=null);const ye=$.getBoundingClientRect();Ue({commit:O,rect:ye}),!it[O.hash]&&w&&w(O.hash).then(Me=>{Me&&He(Ne=>({...Ne,[O.hash]:Me}))}).catch(console.error)};y.useEffect(()=>{if(!(typeof window>"u"))try{window.localStorage.setItem("sc-expanded-v2",JSON.stringify(H))}catch{}},[H]),y.useEffect(()=>{if(!(typeof window>"u"))try{window.localStorage.setItem("sc-section-order-v2",JSON.stringify(ve))}catch{}},[ve]);const Tt=()=>{qe.current&&clearTimeout(qe.current),qe.current=setTimeout(()=>{Ue(null)},150)},ht=()=>{qe.current&&(clearTimeout(qe.current),qe.current=null)};if(y.useEffect(()=>{const O=R.current;if(!O)return;O.style.height="auto";const ye=18*6,Me=Math.min(O.scrollHeight,ye);O.style.height=`${Me}px`},[te]),y.useEffect(()=>{if(!Ae)return;const O=$=>{$.key==="Escape"&&be(null)};return window.addEventListener("keydown",O),()=>{window.removeEventListener("keydown",O)}},[Ae]),!e&&!_)return s.jsxs("div",{className:"sc-panel",style:{alignItems:"center",justifyContent:"center",padding:"20px"},children:[s.jsx("p",{style:{marginBottom:"15px",textAlign:"center",fontSize:"13px",color:"var(--muted)"},children:" Git "}),s.jsx("button",{className:"primary-btn",onClick:m,children:""})]});const xt=((Jr=e==null?void 0:e.files)==null?void 0:Jr.filter(O=>O.index==="U"||O.working_dir==="U"||O.index==="A"&&O.working_dir==="A"||O.index==="D"&&O.working_dir==="D"||O.index==="U"&&O.working_dir==="D"||O.index==="D"&&O.working_dir==="U"||O.index==="A"&&O.working_dir==="U"||O.index==="U"&&O.working_dir==="A"))||[],Pt=(((Bt=e==null?void 0:e.files)==null?void 0:Bt.filter(O=>["A","M","D","R"].includes(O.working_dir)===!1&&["A","M","D","R"].includes(O.index)))||[]).filter(O=>!xt.includes(O)),dt=(((qr=e==null?void 0:e.files)==null?void 0:qr.filter(O=>["A","M","D","R","?"].includes(O.working_dir)))||[]).filter(O=>!xt.includes(O)),_n=Pt.length+dt.length+xt.length,$n=O=>{O.ctrlKey&&O.key==="Enter"&&wi()},wi=()=>{const O=te.trim();!O||Pt.length===0||(r(O),M(""))},fl=async()=>{if($e.trim())try{await he($e.trim()),Q(!1),Re("")}catch(O){console.error(O)}},ks=async()=>{if(at)return;const O=je.trim(),$=Se.trim();if(!O){Pe("");return}if(!$){Pe("");return}const ye=/^https?:\/\//i.test($),Me=/^git@[^:]+:[^/]+\/.+/i.test($);if(!ye&&!Me){Pe(" https  ssh URL");return}De(!0),Pe("");try{await x(O,$),fe(!1),_e("origin"),ge(""),de(null),p&&p()}catch(Ne){const Vn=(Ne&&Ne.message?String(Ne.message):String(Ne||"")).toLowerCase();let ir="";Vn.includes("exists")||Vn.includes("already")?ir="":(Vn.includes("url")||Vn.includes("invalid"))&&(ir=" URL "),Pe(ir)}finally{De(!1)}},Tn=async()=>{const O=await h();O&&M(O)},ki=!!te.trim()&&Pt.length>0,pl=()=>{W&&_n!==0&&W()},rn=()=>{o&&dt.length!==0&&o()},Ss=()=>{a&&Pt.length!==0&&a()},ln=O=>$=>{if(b(O),$.dataTransfer)try{$.dataTransfer.effectAllowed="move",$.dataTransfer.setData("text/plain",O)}catch{}},mt=O=>$=>{$.preventDefault(),!(!we||we===O)&&D(ye=>{const Me=ye.indexOf(we),Ne=ye.indexOf(O);if(Me===-1||Ne===-1||Me===Ne)return ye;const Hn=ye.slice();return Hn.splice(Me,1),Hn.splice(Ne,0,we),Hn})},Ft=()=>{b(null)},Un=()=>{C(O=>{const $=!O.repositories;return $||de(null),{...O,repositories:$}})},Cs=O=>{O.preventDefault(),O.stopPropagation();const $=O.currentTarget.getBoundingClientRect();be({x:$.left,y:$.bottom+4})},Si=()=>be(null),js=()=>{if(!c)return;const O=Array.isArray(t)&&t.length>0,$=!!(e!=null&&e.tracking);if(!O){de("noRemote"),fe(!0);return}if(!$){de("noUpstream");return}c()},bs=O=>{O.stopPropagation(),js()},Ns=()=>{const O=Array.isArray(t)&&t.length>0,$=!!(e!=null&&e.tracking);if(!O){de("noRemote"),fe(!0);return}if(!$){de("noUpstream");return}u&&u()},Yr=O=>{O.stopPropagation(),Ns()},Es=()=>{const O=Array.isArray(t)&&t.length>0,$=!!(e!=null&&e.tracking);if(!O){de("noRemote"),fe(!0);return}if(!$){de("noUpstream");return}f&&f()},_s=O=>{O.stopPropagation(),Es()},Sa=async()=>{if(e!=null&&e.current&&!(typeof navigator>"u"||!navigator.clipboard||!navigator.clipboard.writeText))try{await navigator.clipboard.writeText(e.current)}catch{}},Ca=async()=>{var ye,Me;if(!t||t.length===0)return;const O=t.find(Ne=>Ne.name==="origin")||t[0],$=((ye=O==null?void 0:O.refs)==null?void 0:ye.fetch)||((Me=O==null?void 0:O.refs)==null?void 0:Me.push);if($&&!(typeof navigator>"u"||!navigator.clipboard||!navigator.clipboard.writeText))try{await navigator.clipboard.writeText($)}catch{}},Wt=(O,$,{danger:ye=!1,disabled:Me=!1}={})=>s.jsx("div",{className:`context-item ${ye?"danger":""} ${Me?"disabled":""}`,style:{padding:"8px 12px",...ye?{color:"var(--danger)"}:{}},onClick:()=>{Me||($&&$(),Si())},children:O}),Xr=()=>{C(O=>({...O,graph:!O.graph}))},Ci=O=>{if(O==="conflicts")return s.jsxs("div",{className:"sc-section",onDragOver:mt("conflicts"),onDrop:Ft,children:[s.jsxs("div",{className:"sc-section-header",onClick:()=>C($=>({...$,conflicts:!$.conflicts})),draggable:!0,onDragStart:ln("conflicts"),onDragEnd:Ft,"aria-label":"",children:[s.jsx("div",{className:"sc-section-icon",children:H.conflicts?"":""}),s.jsxs("div",{className:"sc-section-label",children:["",s.jsx("span",{className:"sc-count-badge",style:{background:"var(--danger)",color:"#fff"},children:xt.length})]})]}),H.conflicts&&s.jsxs("div",{className:"sc-file-list",children:[xt.map($=>s.jsx(Nc,{file:$,onAction:null,actionIcon:"!",onDiscard:null,onOpen:()=>E($.path),onDiff:()=>I($.path,!0),selected:rt===$.path,onSelect:()=>z($.path),isConflict:!0,onResolve:ee},`conflict-${$.path}`)),xt.length===0&&s.jsx("div",{style:{padding:"8px 16px",fontSize:"12px",color:"var(--muted)"},children:""})]})]});if(O==="staged")return s.jsxs("div",{className:"sc-section",onDragOver:mt("staged"),onDrop:Ft,children:[s.jsxs("div",{className:"sc-section-header",onClick:()=>C($=>({...$,staged:!$.staged})),draggable:!0,onDragStart:ln("staged"),onDragEnd:Ft,"aria-label":"",children:[s.jsx("div",{className:"sc-section-icon",children:H.staged?"":""}),s.jsxs("div",{className:"sc-section-label",children:["",s.jsx("span",{className:"sc-count-badge",children:Pt.length})]}),s.jsx("div",{className:"sc-section-actions sc-section-actions-inline",children:s.jsx("button",{className:"sc-action-btn",type:"button",onClick:$=>{$.stopPropagation(),Ss()},disabled:Pt.length===0,title:"","aria-label":"",children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})})]}),H.staged&&s.jsxs("div",{className:"sc-file-list",children:[Pt.map($=>s.jsx(Nc,{file:$,onAction:()=>l([$.path]),actionIcon:"-",onOpen:()=>E($.path),onDiff:()=>I($.path,!0),onDiscard:null,selected:rt===$.path,onSelect:()=>z($.path)},`staged-${$.path}`)),Pt.length===0&&s.jsx("div",{style:{padding:"8px 16px",fontSize:"12px",color:"var(--muted)"},children:""})]})]});if(O==="unstaged")return s.jsxs("div",{className:"sc-section",onDragOver:mt("unstaged"),onDrop:Ft,children:[s.jsxs("div",{className:"sc-section-header",onClick:()=>C($=>({...$,unstaged:!$.unstaged})),draggable:!0,onDragStart:ln("unstaged"),onDragEnd:Ft,"aria-label":"",children:[s.jsx("div",{className:"sc-section-icon",children:H.unstaged?"":""}),s.jsxs("div",{className:"sc-section-label",children:["",s.jsx("span",{className:"sc-count-badge",children:dt.length})]}),s.jsxs("div",{className:"sc-section-actions sc-section-actions-inline",children:[s.jsx("button",{className:"sc-action-btn",type:"button",onClick:$=>{$.stopPropagation(),rn()},disabled:dt.length===0,title:"","aria-label":"",children:s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),s.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),s.jsx("button",{className:"sc-action-btn",type:"button",onClick:$=>{$.stopPropagation(),pl()},disabled:dt.length===0||!W,title:"","aria-label":"",children:s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M9 14 4 9l5-5"}),s.jsx("path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5 5.5 5.5 0 0 1-5.5 5.5H11"})]})})]})]}),H.unstaged&&s.jsxs("div",{className:"sc-file-list",children:[dt.map($=>s.jsx(Nc,{file:$,onAction:()=>i([$.path]),actionIcon:"+",onDiscard:()=>T&&T([$.path]),onOpen:()=>E($.path),onDiff:()=>I($.path,!1),selected:rt===$.path,onSelect:()=>z($.path)},`change-${$.path}`)),dt.length===0&&s.jsx("div",{style:{padding:"8px 16px",fontSize:"12px",color:"var(--muted)"},children:""})]})]});if(O==="repositories")return s.jsxs("div",{className:"sc-section",onDragOver:mt("repositories"),onDrop:Ft,children:[s.jsxs("div",{className:"sc-section-header",onClick:Un,draggable:!0,onDragStart:ln("repositories"),onDragEnd:Ft,"aria-label":"",children:[s.jsx("div",{className:"sc-section-icon",children:H.repositories?"":""}),s.jsxs("div",{className:"sc-section-label",children:[" ",s.jsx("span",{className:"sc-count-badge",children:t.length})]}),s.jsx("div",{className:"sc-section-actions",children:s.jsx("button",{onClick:$=>{$.stopPropagation(),Pe(""),fe(!0)},className:"sc-action-btn",title:"","aria-label":"",children:s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),s.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})]}),H.repositories&&s.jsxs(s.Fragment,{children:[oe==="noRemote"&&s.jsx("div",{className:"sc-remote-error",children:""}),oe==="noUpstream"&&(e==null?void 0:e.current)&&s.jsxs("div",{className:"sc-remote-error",children:[s.jsxs("div",{style:{marginBottom:"8px"},children:["",e.current]}),s.jsxs("div",{className:"sc-remote-actions",children:[U&&s.jsx("button",{className:"sc-btn primary",type:"button",onClick:()=>{U(e.current),de(null)},children:""}),Z&&s.jsx("button",{className:"sc-btn ghost",type:"button",onClick:()=>{Z(e.current),de(null)},children:""}),s.jsx("button",{className:"sc-btn ghost",type:"button",onClick:()=>de(null),children:""})]})]}),s.jsx("div",{className:"sc-repo-section",children:s.jsxs("div",{className:"sc-repo-item",children:[s.jsxs("div",{className:"sc-repo-main",children:[s.jsx("div",{className:"sc-repo-name",children:Y||""}),s.jsxs("div",{className:"sc-repo-meta",children:[s.jsx("span",{children:(e==null?void 0:e.current)||""}),(e==null?void 0:e.tracking)&&s.jsx("span",{className:"sc-repo-badge",children:e.tracking}),((e==null?void 0:e.ahead)>0||(e==null?void 0:e.behind)>0)&&s.jsxs("span",{className:"sc-repo-sync",children:[e.ahead>0&&`${e.ahead} `,e.behind>0&&`${e.behind}`]})]})]}),s.jsxs("div",{className:"sc-repo-actions",children:[s.jsx("span",{className:"sc-repo-mode",children:(e==null?void 0:e.current)||""}),s.jsx("button",{className:"sc-item-btn",onClick:bs,title:"",type:"button","aria-label":"",children:""}),s.jsx("button",{className:"sc-item-btn",onClick:Cs,title:"",type:"button","aria-label":"",children:s.jsx("span",{className:"codicon codicon-ellipsis","aria-hidden":!0})})]})]})}),ue&&s.jsxs("div",{className:"sc-remote-form",children:[s.jsxs("div",{className:"sc-remote-header",children:[s.jsx("div",{className:"sc-remote-title",children:""}),s.jsx("div",{className:"sc-remote-subtitle",children:" https  ssh "})]}),s.jsxs("div",{className:"sc-remote-field",children:[s.jsx("div",{className:"sc-remote-label",children:""}),s.jsx("input",{className:"sc-input small",value:je,onChange:$=>_e($.target.value),placeholder:"origin"}),s.jsx("div",{className:"sc-remote-hint",children:" origin "})]}),s.jsxs("div",{className:"sc-remote-field",children:[s.jsx("div",{className:"sc-remote-label",children:""}),s.jsx("input",{className:"sc-input small",value:Se,onChange:$=>ge($.target.value),placeholder:"https://github.com/user/repo.git  git@github.com:user/repo.git"})]}),J&&s.jsx("div",{className:"sc-remote-error",children:J}),s.jsxs("div",{className:"sc-remote-actions",children:[s.jsx("button",{className:"sc-btn ghost",type:"button",onClick:()=>{fe(!1),Pe(""),de(null)},children:""}),s.jsx("button",{className:"sc-btn primary",type:"button",onClick:ks,disabled:at,children:""})]})]}),t.length>0&&s.jsx("div",{className:"sc-remote-list",children:t.map($=>s.jsx("div",{className:"sc-file-item",style:{height:"auto",padding:"6px 16px",alignItems:"flex-start"},children:s.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[s.jsx("div",{style:{fontWeight:"bold"},children:$.name}),s.jsx("div",{style:{opacity:.7,fontSize:"11px"},children:$.refs.fetch})]})},$.name))})]})]});if(O==="graph")return s.jsxs("div",{className:"sc-section",onDragOver:mt("graph"),onDrop:Ft,children:[s.jsxs("div",{className:"sc-section-header",onClick:Xr,draggable:!0,onDragStart:ln("graph"),onDragEnd:Ft,"aria-label":"",children:[s.jsx("div",{className:"sc-section-icon",children:H.graph?"":""}),s.jsxs("div",{className:"sc-section-label",children:[" ",s.jsx("span",{className:"sc-count-badge",children:n.length})]}),s.jsx("div",{className:"sc-section-actions",children:s.jsx("button",{className:"sc-action-btn",onClick:$=>{$.stopPropagation(),Mt(ye=>ye==="list"?"tree":"list")},title:Oe==="list"?"":"","aria-label":Oe==="list"?"":"",children:s.jsx("span",{className:`codicon ${Oe==="list"?"codicon-list-tree":"codicon-list-flat"}`,"aria-hidden":!0,style:{fontSize:"18px"}})})})]}),H.graph&&s.jsxs("div",{style:{paddingBottom:"10px"},children:[n.map($=>{var ye;return s.jsx(pb,{commit:$,expanded:!!me[$.hash],loading:!!j[$.hash],files:me[$.hash],onToggle:Ze,onOpenAllDiffs:L,onOpenCommitDiff:S,onMouseEnter:Me=>Bn($,Me.currentTarget),onMouseLeave:Tt,isHovered:((ye=Ce==null?void 0:Ce.commit)==null?void 0:ye.hash)===$.hash,viewMode:Oe},$.hash)}),n.length===0&&s.jsx("div",{style:{padding:"16px",textAlign:"center",color:"var(--muted)",fontSize:"12px"},children:""})]})]});if(O==="branches"){const $=(q==null?void 0:q.all)||[];return s.jsxs("div",{className:"sc-section",onDragOver:mt("branches"),onDrop:Ft,children:[s.jsxs("div",{className:"sc-section-header",onClick:()=>C(ye=>({...ye,branches:!ye.branches})),draggable:!0,onDragStart:ln("branches"),onDragEnd:Ft,"aria-label":"",children:[s.jsx("div",{className:"sc-section-icon",children:H.branches?"":""}),s.jsxs("div",{className:"sc-section-label",children:[" ",s.jsx("span",{className:"sc-count-badge",children:$.length})]}),s.jsx("div",{className:"sc-section-actions",children:s.jsx("button",{className:"sc-action-btn",onClick:ye=>{ye.stopPropagation(),Q(!0)},title:"",children:s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),s.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})]}),H.branches&&s.jsxs(s.Fragment,{children:[nt&&s.jsxs("div",{className:"sc-remote-form",children:[s.jsxs("div",{className:"sc-remote-header",children:[s.jsx("span",{children:""}),s.jsx("button",{className:"sc-icon-btn",onClick:()=>Q(!1),children:""})]}),s.jsx("input",{className:"sc-remote-input",placeholder:"",value:$e,onChange:ye=>Re(ye.target.value),onKeyDown:ye=>{ye.key==="Enter"&&fl(),ye.key==="Escape"&&Q(!1)},autoFocus:!0}),s.jsx("div",{className:"sc-remote-actions",children:s.jsx("button",{className:"sc-btn primary",onClick:fl,disabled:!$e.trim(),children:""})})]}),s.jsx("div",{className:"sc-file-list",children:$.map(ye=>s.jsx("div",{className:"sc-repo-item",style:{padding:"4px 16px"},children:s.jsxs("div",{className:"sc-repo-main",style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[s.jsxs("span",{style:{fontWeight:ye===q.current?"bold":"normal",color:ye===q.current?"var(--accent)":"inherit",display:"flex",alignItems:"center",gap:"6px"},children:[ye===q.current&&s.jsx("span",{style:{fontSize:"10px"},children:""}),ye]}),s.jsxs("div",{className:"sc-repo-actions",style:{opacity:.7},children:[ye!==q.current&&s.jsx("button",{className:"sc-item-btn",onClick:()=>B&&B(ye),title:"",children:""}),ye!==q.current&&s.jsx("button",{className:"sc-item-btn",onClick:()=>xe&&xe(ye),title:"",children:""})]})]})},ye))})]})]})}return null};return s.jsxs("div",{className:"sc-panel",children:[s.jsxs("div",{className:"sc-header",children:[s.jsx("span",{className:"sc-title",children:""}),s.jsxs("div",{className:"sc-header-actions",children:[s.jsx("button",{className:"sc-action-btn",onClick:Yr,title:"",children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M12 5v14"}),s.jsx("path",{d:"m19 12-7 7-7-7"})]})}),s.jsx("button",{className:"sc-action-btn",onClick:_s,title:"",children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M12 19V5"}),s.jsx("path",{d:"m5 12 7-7 7 7"})]})}),s.jsx("button",{className:"sc-action-btn",onClick:p,title:"",children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M23 4v6h-6"}),s.jsx("path",{d:"M1 20v-6h6"}),s.jsx("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"})]})}),s.jsx("button",{className:"sc-action-btn",title:"",onClick:Cs,children:s.jsx("span",{className:"codicon codicon-ellipsis","aria-hidden":!0})})]})]}),s.jsxs("div",{className:"sc-lists",ref:V,style:we?{overflowY:"hidden"}:void 0,children:[s.jsxs("div",{className:"sc-commit-block",children:[s.jsx("div",{className:"sc-commit-row",children:s.jsxs("div",{className:"sc-commit-input-wrapper",children:[s.jsx("textarea",{ref:R,className:"sc-commit-input sc-commit-textarea sc-commit-textarea-main",placeholder:"Message (Ctrl+Enter to commit)",value:te,onChange:O=>M(O.target.value),onKeyDown:$n}),s.jsx("button",{className:"sc-commit-status-btn",onClick:Tn,title:"",type:"button",children:""})]})}),s.jsx("div",{className:"sc-commit-actions-row sc-commit-actions-row-full",children:s.jsx("button",{className:"sc-commit-primary sc-commit-primary-full",onClick:wi,disabled:!ki,type:"button",children:"Commit"})}),s.jsxs("div",{className:"sc-bulk-actions-bar",children:[s.jsx("button",{className:"sc-action-btn",type:"button",onClick:rn,disabled:dt.length===0,title:"","aria-label":"",children:s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),s.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),s.jsx("button",{className:"sc-action-btn",type:"button",onClick:Ss,disabled:Pt.length===0,title:"","aria-label":"",children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})}),s.jsx("button",{className:"sc-action-btn",type:"button",onClick:pl,disabled:_n===0||!W,title:"","aria-label":"",children:s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M9 14 4 9l5-5"}),s.jsx("path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5 5.5 5.5 0 0 1-5.5 5.5H11"})]})})]})]}),ve.map(O=>s.jsx(yr.Fragment,{children:Ci(O)},O)),s.jsx("div",{className:"sc-dropzone-bottom",onDragOver:O=>{O.preventDefault(),we&&D($=>{const ye=$.indexOf(we);if(ye===-1||ye===$.length-1)return $;const Me=$.slice();return Me.splice(ye,1),Me.push(we),Me})},onDrop:Ft})]}),Ae&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{position:"fixed",inset:0,zIndex:99998},onClick:Si}),s.jsxs("div",{className:"context-menu",style:{position:"fixed",top:Ae.y,left:Ae.x,background:"var(--panel)",border:"1px solid var(--border)",borderRadius:"var(--radius)",boxShadow:"var(--shadow-soft)",zIndex:99999,minWidth:200,padding:4},children:[Wt("",js,{disabled:!c}),Wt("",Ns,{disabled:!u}),Wt("",Es,{disabled:!f}),Wt("",p,{disabled:!p}),s.jsx("div",{style:{height:1,margin:"4px 0",background:"var(--border)"}}),Wt("",()=>{Pe(""),fe(!0)}),Wt("",()=>{U&&(e!=null&&e.current)&&U(e.current)},{disabled:!U||!(e!=null&&e.current)}),Wt("",()=>{Z&&(e!=null&&e.current)&&Z(e.current)},{disabled:!Z||!(e!=null&&e.current)}),s.jsx("div",{style:{height:1,margin:"4px 0",background:"var(--border)"}}),Wt("",Sa,{disabled:!(e!=null&&e.current)}),Wt("",Ca,{disabled:!t||t.length===0})]})]}),Ce&&s.jsx(hb,{commit:Ce.commit,rect:Ce.rect,stats:it[Ce.commit.hash],onMouseEnter:ht,onMouseLeave:Tt,onOpenAllDiffs:L,remotes:t})]})},Nc=({file:e,onAction:t,actionIcon:n,onOpen:r,onDiff:i,onDiscard:l,selected:o,onSelect:a,isConflict:c,onResolve:u})=>{const f=w=>w==="M"?"var(--warning)":w==="A"||w==="?"?"var(--success)":w==="D"||w==="U"?"var(--danger)":"var(--muted)",p=e.working_dir!==" "?e.working_dir:e.index,h=f(p),m=e.path.split("/").pop(),x=e.path.includes("/")?e.path.substring(0,e.path.lastIndexOf("/")):"",I=(m.includes(".")?m.split(".").pop().toUpperCase().slice(0,3):"")||"FILE",k=p==="D";return s.jsxs("div",{className:`sc-file-item${o?" selected":""}`,onClick:()=>{a&&a(),r()},onContextMenu:w=>{w.preventDefault(),i()},children:[s.jsx("span",{className:"sc-file-type",children:I}),s.jsxs("span",{className:"sc-file-name",style:{textDecoration:k?"line-through":"none",opacity:k?.6:1},children:[m," ",s.jsx("span",{className:"sc-file-path",children:x})]}),s.jsx("div",{className:"sc-file-actions",children:c?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"sc-item-btn",onClick:w=>{w.stopPropagation(),u&&u(e.path,"ours")},title:"Accept Current Change",children:s.jsx("span",{style:{fontSize:"10px",fontWeight:"bold"},children:"CUR"})}),s.jsx("button",{className:"sc-item-btn",onClick:w=>{w.stopPropagation(),u&&u(e.path,"theirs")},title:"Accept Incoming Change",children:s.jsx("span",{style:{fontSize:"10px",fontWeight:"bold"},children:"INC"})})]}):s.jsxs(s.Fragment,{children:[l&&s.jsx("button",{className:"sc-item-btn",onClick:w=>{w.stopPropagation(),l()},title:"Discard Changes",children:s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M9 14 4 9l5-5"}),s.jsx("path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11"})]})}),s.jsx("button",{className:"sc-item-btn",onClick:w=>{w.stopPropagation(),i()},title:"Open Diff",children:s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"4",y:"3",width:"6",height:"18",rx:"1"}),s.jsx("rect",{x:"14",y:"3",width:"6",height:"18",rx:"1"})]})}),s.jsx("button",{className:"sc-item-btn",onClick:w=>{w.stopPropagation(),t()},title:n==="+"?"Stage Changes":"Unstage Changes",children:n==="+"?s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),s.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}):s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]})}),s.jsx("span",{className:"sc-status-pill",style:{color:h,borderColor:h},children:p==="?"?"U":p})]})},fb=e=>{const t={};return e.forEach(n=>{const r=n.path.split("/");let i=t;r.forEach((l,o)=>{i[l]||(i[l]={name:l,path:r.slice(0,o+1).join("/"),children:{},file:o===r.length-1?n:null}),i=i[l].children})}),t},Uy=({node:e,depth:t=0,onOpenCommitDiff:n,commitHash:r})=>{const[i,l]=y.useState(!0),o=Object.keys(e.children).length>0,a=!!e.file;return s.jsxs("div",{children:[s.jsxs("div",{className:"sc-file-item",style:{paddingLeft:`${t*12+4}px`,height:"24px"},onClick:c=>{c.stopPropagation(),a?n(r,e.file.path):l(!i)},children:[o&&s.jsx("span",{style:{marginRight:"4px",fontSize:"10px",width:"10px",display:"inline-block"},onClick:c=>{c.stopPropagation(),l(!i)},children:i?"":""}),!o&&s.jsx("span",{style:{width:"14px"}}),a&&s.jsx("span",{className:"sc-status-icon",style:{color:e.file.status==="M"?"var(--warning)":e.file.status==="A"?"var(--success)":e.file.status==="D"?"var(--danger)":"var(--muted)",marginRight:"6px"},children:e.file.status}),s.jsx("span",{className:"sc-file-name",style:{fontSize:"12px"},children:e.name})]}),i&&o&&s.jsx("div",{children:Object.values(e.children).map(c=>s.jsx(Uy,{node:c,depth:t+1,onOpenCommitDiff:n,commitHash:r},c.path))})]})},pb=({commit:e,expanded:t,loading:n,files:r,onToggle:i,onOpenAllDiffs:l,onOpenCommitDiff:o,onMouseEnter:a,onMouseLeave:c,isHovered:u,viewMode:f})=>{const p=y.useMemo(()=>t&&r&&f==="tree"?fb(r):null,[r,t,f]);return s.jsxs("div",{className:"sc-commit-item",onMouseEnter:a,onMouseLeave:c,style:{position:"relative"},children:[s.jsx("div",{className:"sc-commit-dot"}),s.jsxs("div",{className:"sc-commit-header",onClick:()=>i(e.hash),style:{display:"flex",alignItems:"center",height:"24px"},children:[s.jsx("div",{className:"sc-commit-msg",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",flex:1,fontWeight:"normal"},children:e.message}),s.jsx("button",{className:"sc-action-btn",style:{marginLeft:"auto",opacity:u?1:0,width:"24px",height:"24px",pointerEvents:u?"auto":"none",transition:"opacity 0.2s"},onClick:h=>{h.stopPropagation(),l(e.hash)},title:"Open Diff View",children:s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"4",y:"3",width:"6",height:"18",rx:"1"}),s.jsx("rect",{x:"14",y:"3",width:"6",height:"18",rx:"1"})]})})]}),n&&s.jsx("div",{style:{fontSize:"11px",paddingLeft:"8px",color:"var(--muted)"},children:"Loading files..."}),t&&r&&s.jsx("div",{className:"sc-file-list",style:{marginTop:"4px",borderLeft:"1px solid var(--border)",marginLeft:"4px"},children:f==="list"?r.map(h=>s.jsxs("div",{className:"sc-file-item",style:{height:"24px"},onClick:m=>{m.stopPropagation(),o(e.hash,h.path)},title:`Click to diff ${h.path}`,children:[s.jsx("span",{className:"sc-status-icon",style:{color:h.status==="M"?"var(--warning)":h.status==="A"?"var(--success)":h.status==="D"?"var(--danger)":"var(--muted)"},children:h.status}),s.jsx("span",{className:"sc-file-name",style:{fontSize:"12px"},children:h.path})]},h.path)):Object.values(p).map(h=>s.jsx(Uy,{node:h,onOpenCommitDiff:o,commitHash:e.hash},h.path))})]})},hb=({commit:e,rect:t,stats:n,onMouseEnter:r,onMouseLeave:i,onOpenAllDiffs:l,remotes:o})=>{if(!t)return null;const c=(()=>{if(!o||o.length===0)return null;const f=o.find(h=>h.name==="origin")||o[0];let p=f.refs.fetch||f.refs.push;return p?(p.startsWith("git@")&&(p=p.replace(":","/").replace("git@","https://")),p=p.replace(/\.git$/,""),`${p}/commit/${e.hash}`):null})(),u={position:"fixed",top:Math.min(t.top,window.innerHeight-200),left:t.right+10,width:"300px",background:"var(--panel)",border:"1px solid var(--border)",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0,0,0,0.25)",zIndex:99999,padding:"12px",display:"flex",flexDirection:"column",gap:"8px",fontSize:"13px"};return u.left+320>window.innerWidth&&(u.left=t.left-310),s.jsxs("div",{style:u,onMouseEnter:r,onMouseLeave:i,children:[s.jsx("div",{style:{fontWeight:"bold",fontSize:"14px",borderBottom:"1px solid var(--border)",paddingBottom:"4px",marginBottom:"4px"},children:"Commit Details"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr",gap:"4px 12px",alignItems:"center"},children:[s.jsx("span",{style:{color:"var(--muted)"},children:"Message:"}),s.jsx("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.message}),s.jsx("span",{style:{color:"var(--muted)"},children:"Author:"}),s.jsx("span",{children:e.author_name}),s.jsx("span",{style:{color:"var(--muted)"},children:"Date:"}),s.jsx("span",{children:new Date(e.date).toLocaleString()}),s.jsx("span",{style:{color:"var(--muted)"},children:"Files:"}),s.jsx("span",{children:n?n.files:e.files_count||"..."}),n&&s.jsxs(s.Fragment,{children:[s.jsx("span",{style:{color:"var(--muted)"},children:"Lines:"}),s.jsxs("span",{style:{display:"flex",gap:"8px"},children:[s.jsxs("span",{style:{color:"var(--success)"},children:["+",n.insertions]}),s.jsxs("span",{style:{color:"var(--danger)"},children:["-",n.deletions]})]})]})]}),s.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:[s.jsxs("button",{className:"primary-btn",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",height:"32px"},onClick:f=>{f.stopPropagation(),l(e.hash)},children:[s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"4",y:"3",width:"6",height:"18",rx:"1"}),s.jsx("rect",{x:"14",y:"3",width:"6",height:"18",rx:"1"})]}),"Open Diff View"]}),c&&s.jsx("button",{className:"ghost-btn",style:{width:"32px",padding:0},onClick:f=>{f.stopPropagation(),window.open(c,"_blank")},title:"Open on Git",children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"})})})]})]})},mb="_root_1fbxn_1",gb="_content_1fbxn_10",yb="_header_1fbxn_17",xb="_titleWrap_1fbxn_25",vb="_title_1fbxn_25",wb="_subtitle_1fbxn_38",kb="_headerRight_1fbxn_43",Sb="_headerButton_1fbxn_51",Cb="_spinner_1fbxn_74",jb="_grid_1fbxn_95",bb="_section_1fbxn_107",Nb="_sectionHeader_1fbxn_117",Eb="_sectionTitle_1fbxn_126",_b="_sectionBody_1fbxn_134",Tb="_actionList_1fbxn_140",Pb="_actionButton_1fbxn_146",Rb="_actionIcon_1fbxn_180",Lb="_actionLabel_1fbxn_188",Ib="_actionHint_1fbxn_193",Ab="_divider_1fbxn_199",Db="_filterRow_1fbxn_205",Ob="_inlineForm_1fbxn_212",zb="_formLabel_1fbxn_219",Mb="_formRow_1fbxn_225",Fb="_formInline_1fbxn_231",Wb="_formActions_1fbxn_244",Bb="_secondaryButton_1fbxn_252",$b="_primaryButton_1fbxn_275",Ub="_pathBox_1fbxn_303",Hb="_filterInput_1fbxn_315",Vb="_recentList_1fbxn_333",Gb="_recentItem_1fbxn_340",Kb="_recentItemSelected_1fbxn_367",Qb="_recentMain_1fbxn_372",Yb="_recentNameRow_1fbxn_379",Xb="_recentName_1fbxn_379",Jb="_tag_1fbxn_394",qb="_tagMissing_1fbxn_403",Zb="_recentPath_1fbxn_409",e2="_recentActions_1fbxn_417",t2="_iconButton_1fbxn_423",n2="_emptyState_1fbxn_454",r2="_errorBox_1fbxn_460",i2="_statusBar_1fbxn_470",l2="_kbd_1fbxn_481",s2="_contextMenu_1fbxn_491",o2="_contextItem_1fbxn_502",a2="_contextItemDisabled_1fbxn_527",c2="_contextSep_1fbxn_532",re={root:mb,content:gb,header:yb,titleWrap:xb,title:vb,subtitle:wb,headerRight:kb,headerButton:Sb,spinner:Cb,grid:jb,section:bb,sectionHeader:Nb,sectionTitle:Eb,sectionBody:_b,actionList:Tb,actionButton:Pb,actionIcon:Rb,actionLabel:Lb,actionHint:Ib,divider:Ab,filterRow:Db,inlineForm:Ob,formLabel:zb,formRow:Mb,formInline:Fb,formActions:Wb,secondaryButton:Bb,primaryButton:$b,pathBox:Ub,filterInput:Hb,recentList:Vb,recentItem:Gb,recentItemSelected:Kb,recentMain:Qb,recentNameRow:Yb,recentName:Xb,tag:Jb,tagMissing:qb,recentPath:Zb,recentActions:e2,iconButton:t2,emptyState:n2,errorBox:r2,statusBar:i2,kbd:l2,contextMenu:s2,contextItem:o2,contextItemDisabled:a2,contextSep:c2};function Mh(e,t,n){return Math.max(t,Math.min(n,e))}function io(e){return String(e||"").toLowerCase()}function Fh(e){return e&&(e.name||e.pathLabel||e.fsPath)||"Untitled"}function Wh(e){return e&&(e.fsPath||e.pathLabel)||""}async function u2(e){const t=String(e||"");if(!t)return!1;try{return await navigator.clipboard.writeText(t),!0}catch{return!1}}function d2({icon:e,label:t,hint:n,disabled:r,onClick:i,autoFocus:l,dataAction:o}){return s.jsxs("button",{className:re.actionButton,type:"button",onClick:r?void 0:i,"aria-disabled":r?"true":"false",tabIndex:r?-1:0,autoFocus:l,"data-welcome-action":o||void 0,children:[s.jsx("span",{className:re.actionIcon,"aria-hidden":!0,children:s.jsx("i",{className:`codicon ${e}`})}),s.jsx("span",{className:re.actionLabel,children:t}),n?s.jsx("span",{className:re.actionHint,children:n}):null]})}function f2({x:e,y:t,onClose:n,items:r}){const i=y.useRef(null);return y.useEffect(()=>{const l=a=>{i.current&&(i.current.contains(a.target)||n())},o=a=>{a.key==="Escape"&&(a.preventDefault(),n())};return document.addEventListener("mousedown",l),document.addEventListener("keydown",o),()=>{document.removeEventListener("mousedown",l),document.removeEventListener("keydown",o)}},[n]),y.useEffect(()=>{var o,a;const l=(o=i.current)==null?void 0:o.querySelector("button:not([disabled])");(a=l==null?void 0:l.focus)==null||a.call(l)},[]),s.jsx("div",{ref:i,className:re.contextMenu,style:{left:e,top:t},role:"menu","aria-label":"Recent item menu",children:r.map((l,o)=>{if(l.type==="sep")return s.jsx("div",{className:re.contextSep,role:"separator"},`sep-${o}`);const a=!!l.disabled;return s.jsxs("button",{type:"button",role:"menuitem",className:`${re.contextItem} ${a?re.contextItemDisabled:""}`,onClick:a?void 0:l.onSelect,disabled:a,children:[s.jsx("span",{className:re.actionIcon,"aria-hidden":!0,children:s.jsx("i",{className:`codicon ${l.icon}`})}),s.jsx("span",{children:l.label})]},l.key||o)})})}function p2({theme:e,bindingStatus:t,bindingError:n,recentProjects:r,backendWorkspaces:i,onOpenFolder:l,onOpenFile:o,onNewFile:a,onPickFolderPath:c,onCloneRepository:u,onCreateTemplate:f,onOpenFolderWithPreferredRoot:p,onCancelOpen:h,onOpenRecent:m,onRemoveRecent:x,onOpenBackendWorkspace:E}){const I=t==="checking",k=y.useRef(null),w=y.useRef([]),[S,L]=y.useState(""),[A,T]=y.useState(-1),[W,_]=y.useState(""),[Y,U]=y.useState(null),[Z,q]=y.useState(!1),[he,xe]=y.useState(""),[B,ee]=y.useState(""),[te,M]=y.useState(""),[H,C]=y.useState(!1),[me,K]=y.useState(""),[j,se]=y.useState(!1),[ue,fe]=y.useState("blank"),[je,_e]=y.useState(""),[Se,ge]=y.useState(""),[J,Pe]=y.useState(!1),at=y.useMemo(()=>Array.isArray(i)?i:[],[i]),De=y.useMemo(()=>{const b=Array.isArray(r)?r:[],R=io(S).trim();return R?b.filter(V=>{const oe=io(Fh(V)),de=io(Wh(V));return oe.includes(R)||de.includes(R)||io(V==null?void 0:V.id).includes(R)}):b},[S,r]);y.useEffect(()=>{T(b=>De.length?Mh(b,0,De.length-1):-1)},[De.length]),y.useEffect(()=>{if(!W)return;const b=setTimeout(()=>_(""),3e3);return()=>clearTimeout(b)},[W]),y.useEffect(()=>{t==="error"&&n&&_(n)},[n,t]),y.useEffect(()=>{const b=R=>{var be;if(!k.current||!k.current.contains(R.target))return;const V=String(((be=R.target)==null?void 0:be.tagName)||"").toUpperCase(),oe=V==="INPUT"||V==="TEXTAREA"||V==="SELECT";if(R.key==="Escape"){if(Z){R.preventDefault(),q(!1),K("");return}if(j){R.preventDefault(),se(!1);return}if(I&&h){R.preventDefault(),h().catch(()=>{});return}}if(oe)return;const de=String(R.key||"").toLowerCase();(R.metaKey||R.ctrlKey)&&(de==="o"?(R.preventDefault(),Promise.resolve(o==null?void 0:o()).catch(Ce=>_((Ce==null?void 0:Ce.message)||"Open file failed"))):de==="n"&&(R.preventDefault(),Promise.resolve(a==null?void 0:a()).catch(Ce=>_((Ce==null?void 0:Ce.message)||"New file failed"))))};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[Z,h,a,o,I,j]);const nt=()=>U(null),Q=b=>{var V;const R=w.current[b];(V=R==null?void 0:R.focus)==null||V.call(R)},$e=async b=>{const R=De[b];if(R){R.missing&&_("Folder is missing. You can remove it from Recent.");try{await(m==null?void 0:m(R))}catch(V){_((V==null?void 0:V.message)||"Open failed")}}},Re=async()=>{try{I&&h&&await h(),await(l==null?void 0:l())}catch(b){_((b==null?void 0:b.message)||"Open folder failed")}},Oe=async b=>{const R=De[b];if(R)try{await(x==null?void 0:x(R)),_("Removed from Recent")}catch(V){_((V==null?void 0:V.message)||"Remove failed")}},Mt=b=>{var V,oe,de;if(!De.length)return;const R=b.key;if(R==="ArrowDown"||R==="ArrowUp"){b.preventDefault();const Ae=R==="ArrowDown"?1:-1;T(be=>{const Ce=Mh((be<0?0:be)+Ae,0,De.length-1);return requestAnimationFrame(()=>Q(Ce)),Ce});return}if(R==="Enter"){b.preventDefault();const Ae=A>=0?A:0;$e(Ae);return}if(R==="Delete"||R==="Backspace"){b.preventDefault();const Ae=A>=0?A:0;Oe(Ae);return}R==="Escape"&&(b.preventDefault(),T(-1),(de=(oe=(V=k.current)==null?void 0:V.querySelector('button[data-welcome-action="open-folder"]'))==null?void 0:oe.focus)==null||de.call(oe))},rt=[{key:"open-folder",icon:"codicon-folder-opened",label:"Open Folder",hint:"",disabled:!1,onClick:Re,autoFocus:!0,dataAction:"open-folder"},{key:"open-file",icon:"codicon-go-to-file",label:"Open File",hint:"Ctrl+O / O",disabled:!o,onClick:async()=>{try{I&&h&&await h(),await(o==null?void 0:o())}catch(b){_((b==null?void 0:b.message)||"Open file failed")}}},{key:"new-file",icon:"codicon-new-file",label:"New File",hint:"Ctrl+N / N",disabled:!a,onClick:async()=>{try{I&&h&&await h(),await(a==null?void 0:a())}catch(b){_((b==null?void 0:b.message)||"New file failed")}}},{key:"clone",icon:"codicon-repo-clone",label:"Clone Repository",hint:"",disabled:!u,onClick:()=>{q(!0),K(""),_("")}},{key:"templates",icon:"codicon-symbol-folder",label:"Templates",hint:"",disabled:!f,onClick:()=>{se(!0),q(!1),K(""),ge(""),_("")}}],z=y.useMemo(()=>S.trim()?`Recent (${De.length})`:"Recent",[S,De.length]),ve=b=>{const R=String(b||"").trim();return R&&(R.split("/").pop()||R.split(":").pop()||"").replace(/\.git$/i,"")||""},D=async()=>{if(!u)return;const b=String(he||"").trim(),R=String(B||"").trim(),V=String(te||"").trim()||ve(b)||"repo";if(!b){_("Please enter a repository URL");return}if(!R){_("Please choose a destination folder");return}C(!0),_("Cloning");try{const oe=await u({url:b,parentDir:R,folderName:V}),de=String((oe==null?void 0:oe.targetPath)||oe||"").trim();if(!de)throw new Error("Clone failed");K(de),_("Clone complete")}catch(oe){_((oe==null?void 0:oe.message)||"Clone failed"),K("")}finally{C(!1)}},we=async()=>{if(!f)return;const b=String(je||"").trim();if(!b){_("Please enter a project name");return}Pe(!0),_("Creating");try{const R=String(Se||"").trim(),V=await f({templateId:ue,projectName:b,parentDir:R});V!=null&&V.queued?_("Opening folder"):(_("Created"),se(!1))}catch(R){_((R==null?void 0:R.message)||"Create template failed")}finally{Pe(!1)}};return s.jsxs("div",{className:re.root,ref:k,children:[s.jsxs("div",{className:re.content,children:[s.jsxs("div",{className:re.header,children:[s.jsxs("div",{className:re.titleWrap,children:[s.jsx("div",{className:re.title,children:"Welcome"}),s.jsx("div",{className:re.subtitle,children:I?"Opening workspace":"Choose an action to get started."})]}),s.jsx("div",{className:re.headerRight,"aria-live":"polite",children:I?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:re.spinner,"aria-hidden":!0,children:s.jsx("i",{className:"codicon codicon-loading"})}),s.jsx("span",{children:"Initializing"}),h?s.jsxs("button",{type:"button",className:re.headerButton,onClick:async()=>{try{await h(),_("Canceled")}catch(b){_((b==null?void 0:b.message)||"Cancel failed")}},children:[s.jsx("i",{className:"codicon codicon-close","aria-hidden":!0}),s.jsx("span",{children:"Cancel"})]}):null]}):null})]}),t==="error"&&n?s.jsx("div",{className:re.errorBox,children:n}):null,s.jsxs("div",{className:re.grid,children:[s.jsxs("section",{className:re.section,"aria-label":"Start",children:[s.jsx("div",{className:re.sectionHeader,children:s.jsx("div",{className:re.sectionTitle,children:"Start"})}),s.jsxs("div",{className:re.sectionBody,children:[s.jsx("div",{className:re.actionList,children:rt.map(b=>s.jsxs("div",{children:[s.jsx(d2,{icon:b.icon,label:b.label,hint:b.hint,disabled:!!b.disabled,onClick:b.onClick,autoFocus:!!b.autoFocus,dataAction:b.dataAction}),b.key==="open-folder"?s.jsx("div",{className:re.divider,"aria-hidden":!0}):null]},b.key))}),Z?s.jsxs("div",{className:re.inlineForm,onKeyDown:b=>{if(b.key==="Escape"){b.preventDefault(),q(!1),C(!1),K("");return}b.key==="Enter"&&(b.metaKey||b.ctrlKey)&&(b.preventDefault(),D())},children:[s.jsxs("div",{className:re.formRow,children:[s.jsx("div",{className:re.formLabel,children:"Repository URL"}),s.jsx("input",{className:re.filterInput,value:he,onChange:b=>{const R=b.target.value;if(xe(R),!te){const V=ve(R);V&&M(V)}},placeholder:"https://github.com/user/repo.git",disabled:H})]}),s.jsxs("div",{className:re.formRow,children:[s.jsx("div",{className:re.formLabel,children:"Destination"}),s.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[s.jsxs("button",{type:"button",className:re.secondaryButton,disabled:H||!c,onClick:async()=>{try{const b=await(c==null?void 0:c());b&&ee(String(b))}catch(b){_((b==null?void 0:b.message)||"Pick folder failed")}},children:[s.jsx("i",{className:"codicon codicon-folder-opened","aria-hidden":!0}),s.jsx("span",{children:"Choose Folder"})]}),s.jsx("div",{className:re.pathBox,title:B||"",children:B||"No folder selected"})]})]}),s.jsxs("div",{className:re.formRow,children:[s.jsx("div",{className:re.formLabel,children:"Folder Name"}),s.jsx("input",{className:re.filterInput,value:te,onChange:b=>M(b.target.value),placeholder:"repo",disabled:H})]}),me?s.jsxs("div",{className:re.formRow,children:[s.jsx("div",{className:re.formLabel,children:"Result"}),s.jsx("div",{className:re.pathBox,title:me,children:me}),s.jsx("div",{className:re.formActions,style:{justifyContent:"flex-start"},children:s.jsxs("button",{type:"button",className:re.primaryButton,disabled:!p||I,onClick:async()=>{try{await(p==null?void 0:p(me))}catch(b){_((b==null?void 0:b.message)||"Open folder failed")}},children:[s.jsx("i",{className:"codicon codicon-folder-opened","aria-hidden":!0}),s.jsx("span",{children:"Open Cloned Folder"})]})})]}):null,s.jsxs("div",{className:re.formActions,children:[s.jsx("button",{type:"button",className:re.secondaryButton,disabled:H,onClick:()=>{q(!1),K("")},children:"Cancel"}),s.jsxs("button",{type:"button",className:re.primaryButton,disabled:H,onClick:D,title:"Ctrl/Cmd+Enter",children:[s.jsx("i",{className:`codicon ${H?"codicon-loading":"codicon-cloud-download"}`,"aria-hidden":!0}),s.jsx("span",{children:H?"Cloning":"Clone"})]})]})]}):null,j?s.jsxs("div",{className:re.inlineForm,onKeyDown:b=>{if(b.key==="Escape"){b.preventDefault(),se(!1);return}b.key==="Enter"&&(b.metaKey||b.ctrlKey)&&(b.preventDefault(),we())},children:[s.jsxs("div",{className:re.formRow,children:[s.jsx("div",{className:re.formLabel,children:"Template"}),s.jsxs("select",{className:re.filterInput,value:ue,onChange:b=>fe(b.target.value),disabled:J,children:[s.jsx("option",{value:"blank",children:"Blank"}),s.jsx("option",{value:"web",children:"Web (index.html)"}),s.jsx("option",{value:"react",children:"React (src/App.jsx)"})]})]}),s.jsxs("div",{className:re.formRow,children:[s.jsx("div",{className:re.formLabel,children:"Location"}),s.jsxs("div",{className:re.formInline,children:[s.jsx("input",{className:re.filterInput,value:Se,onChange:b=>ge(b.target.value),placeholder:"Choose a destination folder (optional)",disabled:J}),s.jsx("button",{type:"button",className:re.secondaryButton,disabled:J||!c,onClick:async()=>{try{const b=await(c==null?void 0:c());b&&ge(String(b||"").trim())}catch(b){_((b==null?void 0:b.message)||"Pick folder failed")}},children:"Browse"})]})]}),s.jsxs("div",{className:re.formRow,children:[s.jsx("div",{className:re.formLabel,children:"Project Name (folder)"}),s.jsx("input",{className:re.filterInput,value:je,onChange:b=>_e(b.target.value),placeholder:"my-project",disabled:J})]}),s.jsxs("div",{className:re.formActions,children:[s.jsx("button",{type:"button",className:re.secondaryButton,disabled:J,onClick:()=>se(!1),children:"Cancel"}),s.jsxs("button",{type:"button",className:re.primaryButton,disabled:J,onClick:we,title:"Ctrl/Cmd+Enter",children:[s.jsx("i",{className:`codicon ${J?"codicon-loading":"codicon-new-folder"}`,"aria-hidden":!0}),s.jsx("span",{children:J?"Creating":"Create"})]})]})]}):null,s.jsxs("div",{className:re.statusBar,children:[s.jsxs("span",{children:["Tips: ",s.jsx("span",{className:re.kbd,children:""}),"/",s.jsx("span",{className:re.kbd,children:""})," select recent,"," ",s.jsx("span",{className:re.kbd,children:"Enter"})," open, ",s.jsx("span",{className:re.kbd,children:"Del"})," remove"]}),W?s.jsx("span",{children:W}):s.jsx("span",{})]})]})]}),at.length?s.jsxs("section",{className:re.section,"aria-label":"Active Workspaces",children:[s.jsx("div",{className:re.sectionHeader,children:s.jsx("div",{className:re.sectionTitle,children:"Active Workspaces"})}),s.jsx("div",{className:re.sectionBody,children:s.jsx("div",{className:re.recentList,role:"listbox","aria-label":"Active workspaces",children:at.map((b,R)=>{const V=Array.isArray(b.folders)&&b.folders[0]?b.folders[0].path:"",oe=b.name||V||b.id||`workspace-${R}`,de=V||b.id||"";return s.jsx("button",{type:"button",className:re.recentItem,onClick:()=>E==null?void 0:E(b),title:de,children:s.jsxs("span",{className:re.recentMain,children:[s.jsx("span",{className:re.recentNameRow,children:s.jsx("span",{className:re.recentName,children:oe})}),s.jsx("span",{className:re.recentPath,children:de||""})]})},b.id||V||oe)})})})]}):null,s.jsxs("section",{className:re.section,"aria-label":"Recent",children:[s.jsx("div",{className:re.sectionHeader,children:s.jsx("div",{className:re.sectionTitle,children:z})}),s.jsxs("div",{className:re.sectionBody,children:[s.jsx("div",{className:re.filterRow,children:s.jsx("input",{className:re.filterInput,value:S,onChange:b=>L(b.target.value),placeholder:"Filter recent",onKeyDown:b=>{if(b.key==="ArrowDown"&&De.length){b.preventDefault();const R=A>=0?A:0;T(R),requestAnimationFrame(()=>Q(R))}b.key==="Escape"&&(b.preventDefault(),L(""))}})}),De.length?s.jsx("div",{className:re.recentList,role:"listbox","aria-label":"Recent folders",onKeyDown:Mt,children:De.map((b,R)=>{const V=R===A,oe=A<0?R===0:V,de=Fh(b),Ae=Wh(b);return s.jsxs("div",{ref:be=>{w.current[R]=be},className:`${re.recentItem} ${V?re.recentItemSelected:""}`,role:"option","aria-selected":V?"true":"false",tabIndex:oe?0:-1,title:Ae,onClick:()=>{T(R),$e(R)},onFocus:()=>T(R),onKeyDown:be=>{(be.key==="Enter"||be.key===" ")&&(be.preventDefault(),T(R),$e(R))},onContextMenu:be=>{be.preventDefault(),T(R);const Ce=(b==null?void 0:b.fsPath)||"";U({x:be.clientX,y:be.clientY,idx:R,fsPath:Ce})},children:[s.jsxs("span",{className:re.recentMain,children:[s.jsxs("span",{className:re.recentNameRow,children:[s.jsx("span",{className:re.recentName,children:de}),b.missing?s.jsx("span",{className:`${re.tag} ${re.tagMissing}`,children:"Missing"}):null]}),s.jsx("span",{className:re.recentPath,children:Ae||""})]}),s.jsx("span",{className:re.recentActions,"aria-label":"Recent item actions",children:s.jsx("button",{className:re.iconButton,type:"button",title:"Remove from Recent",tabIndex:-1,onClick:be=>{be.preventDefault(),be.stopPropagation(),Oe(R)},onKeyDown:be=>be.stopPropagation(),children:s.jsx("i",{className:"codicon codicon-trash"})})})]},b.id||`${de}-${R}`)})}):s.jsx("div",{className:re.emptyState,children:"No recent folders"})]})]})]})]}),Y?s.jsx(f2,{x:Y.x,y:Y.y,onClose:nt,items:[{key:"open",icon:"codicon-go-to-file",label:"Open",onSelect:()=>{nt(),$e(Y.idx)}},{key:"remove",icon:"codicon-trash",label:"Remove from Recent",onSelect:()=>{nt(),Oe(Y.idx)}},{type:"sep"},{key:"copy",icon:"codicon-copy",label:"Copy Path",disabled:!Y.fsPath,onSelect:async()=>{const b=await u2(Y.fsPath);nt(),_(b?"Copied":"Copy failed")}}]}):null]})}const Pl="__system__/welcome",Cn=Object.freeze({BOOTING:"BOOTING",NO_WORKSPACE:"NO_WORKSPACE",OPENING_WORKSPACE:"OPENING_WORKSPACE",WORKSPACE_READY:"WORKSPACE_READY",WORKSPACE_ERROR:"WORKSPACE_ERROR"});function h2(e,t){switch(t.type){case"BOOT":return{...e,state:Cn.NO_WORKSPACE,error:null};case"OPEN_REQUESTED":return{...e,state:Cn.OPENING_WORKSPACE,error:null};case"OPEN_SUCCEEDED":return{...e,state:Cn.WORKSPACE_READY,error:null};case"OPEN_FAILED":return{...e,state:Cn.WORKSPACE_ERROR,error:t.error||"Open failed"};case"CLOSE_REQUESTED":return{...e,state:Cn.NO_WORKSPACE,error:null};case"SYNC_FROM_LEGACY":{const n=t.payload||{};return{...e,...n}}default:return e}}function m2(){const e=y.useMemo(()=>({state:Cn.BOOTING,error:null}),[]),[t,n]=y.useReducer(h2,e),r=y.useCallback(()=>n({type:"BOOT"}),[]),i=y.useCallback(()=>n({type:"OPEN_REQUESTED"}),[]),l=y.useCallback(()=>n({type:"OPEN_SUCCEEDED"}),[]),o=y.useCallback(u=>n({type:"OPEN_FAILED",error:u}),[]),a=y.useCallback(()=>n({type:"CLOSE_REQUESTED"}),[]),c=y.useCallback(({workspaceDriver:u,workspaceBindingStatus:f,workspaceBindingError:p})=>{if(!u){n({type:"SYNC_FROM_LEGACY",payload:{state:Cn.NO_WORKSPACE,error:null}});return}if(f==="checking"){n({type:"SYNC_FROM_LEGACY",payload:{state:Cn.OPENING_WORKSPACE,error:null}});return}if(f==="ready"){n({type:"SYNC_FROM_LEGACY",payload:{state:Cn.WORKSPACE_READY,error:null}});return}if(f==="error"){n({type:"SYNC_FROM_LEGACY",payload:{state:Cn.WORKSPACE_ERROR,error:p||"Workspace error"}});return}n({type:"SYNC_FROM_LEGACY",payload:{state:Cn.NO_WORKSPACE,error:null}})},[]);return{model:t,boot:r,openRequested:i,openSucceeded:l,openFailed:o,closeRequested:a,syncFromLegacy:c}}function g2(){let e=null;const t=async()=>{if(!e)return;const r=e.disposables||[];e=null,r.forEach(i=>{try{i==null||i()}catch{}})};return{start:async r=>{await t(),e={ctx:r,disposables:[]}},stop:t}}function y2(e){const{workbenchOpenRequested:t,workbenchCloseRequested:n,workspaceServices:r,abortControllerRef:i,initialWorkspaceState:l,welcomeTabPath:o,LocalWorkspaceDriver:a,BackendWorkspaceDriver:c,requestElectronFolderPath:u,hydrateProject:f,refreshRecentProjects:p,setWorkspaceState:h,setWorkspaceDriver:m,setWorkspaceBindingStatus:x,setWorkspaceBindingError:E,setWorkspaceRootLabel:I,setBackendWorkspaceRoot:k,setBackendWorkspaceId:w,setProjectMeta:S,setSessions:L,setMessages:A,setToolRuns:T,setLogs:W,setTaskReview:_,setShowLogs:Y,setCurrentSessionId:U,setDiffTabs:Z,setActiveWorkspaces:q}=e||{};if(!a)throw new Error("createWorkspaceController: missing LocalWorkspaceDriver");const he=(K="")=>{const j=String(K||"").trim();return j?/^[a-zA-Z]:[\\/]/.test(j)||j.startsWith("\\\\")||j.startsWith("/"):!1},xe=async()=>{var K,j;try{const se=(j=(K=globalThis==null?void 0:globalThis.window)==null?void 0:K.electronAPI)==null?void 0:j.workspace;if(se!=null&&se.pickFolder){const ue=await se.pickFolder();return!(ue!=null&&ue.ok)||ue!=null&&ue.canceled?"":String((ue==null?void 0:ue.fsPath)||"").trim()}}catch{}try{if(u)return String(await u()||"").trim()}catch{}return""};if(typeof h!="function")throw new Error("createWorkspaceController: missing setWorkspaceState");return{openWorkspace:async(K=null,{preferredRoot:j=""}={})=>{var se,ue,fe;typeof E=="function"&&E(""),typeof q=="function"&&q([]);try{t==null||t(),(fe=(se=r==null?void 0:r.stop)==null?void 0:(ue=se.call(r)).catch)==null||fe.call(ue,()=>{}),typeof x=="function"&&x("checking");const je=String(j||"").trim(),_e=he(je)?je:he(K)?String(K):"";let Se=null;if(_e&&(c!=null&&c.fromFsPath))Se=await c.fromFsPath(_e);else if(K)Se=await a.fromPersisted(K);else if(c!=null&&c.fromFsPath){const J=await xe();if(!J){typeof x=="function"&&x("idle");return}Se=await c.fromFsPath(J)}if(!Se&&!(c!=null&&c.fromFsPath)&&(Se=await a.pickFolder()),!Se)throw new Error("");let ge=je;!ge&&he(Se==null?void 0:Se.pathLabel)&&(ge=String(Se.pathLabel||"").trim()),!ge&&u&&(ge=String(await u()||"").trim()),await(f==null?void 0:f(Se,ge))}catch(je){typeof x=="function"&&x("error"),typeof E=="function"&&E((je==null?void 0:je.message)||"")}},closeWorkspaceToWelcome:async({recentTouchRef:K}={})=>{var se,ue,fe,je,_e,Se,ge,J,Pe;n==null||n(),await((fe=(se=r==null?void 0:r.stop)==null?void 0:(ue=se.call(r)).catch)==null?void 0:fe.call(ue,()=>{}));try{await((ge=(Se=(_e=(je=globalThis==null?void 0:globalThis.window)==null?void 0:je.electronAPI)==null?void 0:_e.workspace)==null?void 0:Se.close)==null?void 0:ge.call(Se))}catch{}try{(Pe=(J=i==null?void 0:i.current)==null?void 0:J.abort)==null||Pe.call(J)}catch{}let j="";try{typeof globalThis<"u"&&globalThis.window&&globalThis.window.__NODE_AGENT_WORKSPACE_ID__&&(j=String(globalThis.window.__NODE_AGENT_WORKSPACE_ID__||"").trim())}catch{}if(j)try{await fetch("/api/workspaces/close",{method:"POST",headers:{"Content-Type":"application/json","X-Workspace-Id":j},body:JSON.stringify({id:j})})}catch{}typeof m=="function"&&m(null),typeof q=="function"&&q([]),typeof x=="function"&&x("idle"),typeof E=="function"&&E(""),typeof I=="function"&&I(""),typeof k=="function"&&k(""),typeof w=="function"&&w(""),typeof S=="function"&&S({id:null,name:"",pathLabel:""}),typeof L=="function"&&L([]),typeof A=="function"&&A([]),typeof T=="function"&&T({}),typeof W=="function"&&W([]),typeof _=="function"&&_({taskId:null,files:[],status:"idle",expanded:!1}),typeof Y=="function"&&Y(!1),typeof U=="function"&&U(null),typeof Z=="function"&&Z({});try{K&&(K.current={id:null,fsPath:null})}catch{}h({...l,openTabs:[o],activeFile:o,view:"code"}),p==null||p()},openWelcomeTab:({focus:K=!0}={})=>{h(j=>{const se=j.openTabs.includes(o),ue=se?j.openTabs:[...j.openTabs,o],fe=K?o:j.activeFile||(se?j.activeFile:o);return{...j,openTabs:ue,activeFile:fe,view:"code"}})},effectEnsureWelcomeTabWhenNoWorkspace:({workspaceDriver:K}={})=>{K||h(j=>j.openTabs.includes(o)||j.openTabs.length>0?j:{...j,openTabs:[o],activeFile:o,view:"code"})},effectAutoCloseWelcomeTabOnReady:({workspaceDriver:K,workspaceBindingStatus:j}={})=>{K&&j==="ready"&&h(se=>{if(!se.openTabs.includes(o))return se;const ue=se.openTabs.filter(je=>je!==o),fe=se.activeFile===o?ue[ue.length-1]||"":se.activeFile;return{...se,openTabs:ue,activeFile:fe}})},effectSyncRecentsOnReady:({workspaceDriver:K,workspaceBindingStatus:j,backendWorkspaceRoot:se,workspaceRootLabel:ue,projectMeta:fe,backendWorkspaceId:je,recentTouchRef:_e})=>{if(!K||j!=="ready")return;let Se=!1;return(async()=>{var Pe,at,De,nt,Q;const ge=(se||ue||"").trim();if(!ge)return;try{const $e=await((Pe=K.touchRecent)==null?void 0:Pe.call(K,{pathLabel:ge,workspaceId:je,backendRoot:se}));!Se&&($e!=null&&$e.id)&&(fe==null?void 0:fe.id)!==$e.id&&typeof S=="function"&&S(Re=>({...Re,id:$e.id}))}catch{}const J=K.projectId||(fe==null?void 0:fe.id)||ge;if(J){try{if(_e&&_e.current&&_e.current.id===J&&_e.current.fsPath===ge)return}catch{}try{_e&&(_e.current={id:J,fsPath:ge})}catch{}try{await((Q=(nt=(De=(at=globalThis==null?void 0:globalThis.window)==null?void 0:at.electronAPI)==null?void 0:De.workspace)==null?void 0:nt.open)==null?void 0:Q.call(nt,{id:J,fsPath:ge,name:(fe==null?void 0:fe.name)||K.rootName||"Workspace"}))}catch{}Se||p==null||p()}})(),()=>{Se=!0}},effectSyncWorkspaceServices:({isReady:K,backendWorkspaceRoot:j,workspaceRootLabel:se,workspaceDriver:ue,projectMeta:fe,workspaceServicesKeyRef:je})=>{var Se,ge,J,Pe,at,De;if(!r)return;if(!K){je&&(je.current=""),(J=(Se=r.stop)==null?void 0:(ge=Se.call(r)).catch)==null||J.call(ge,()=>{});return}const _e=String(j||se||(ue==null?void 0:ue.projectId)||"");_e&&(je&&je.current===_e||(je&&(je.current=_e),(De=(Pe=r.start)==null?void 0:(at=Pe.call(r,{workbenchState:"WORKSPACE_READY",backendWorkspaceRoot:j,workspaceRootLabel:se,projectId:(ue==null?void 0:ue.projectId)||(fe==null?void 0:fe.id)||null})).catch)==null||De.call(at,()=>{})))}}}const Hy=({isOpen:e,onClose:t,title:n,children:r,footer:i,width:l="500px",height:o="auto",closeOnBackdropClick:a=!0})=>{const c=y.useRef(null);if(y.useEffect(()=>{const f=p=>{p.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",f),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",f),document.body.style.overflow=""}},[e,t]),!e)return null;const u=f=>{a&&f.target===c.current&&t()};return ma.createPortal(s.jsx("div",{className:"modal-backdrop",ref:c,onClick:u,children:s.jsxs("div",{className:"modal-container",style:{width:l,height:o,maxHeight:"90vh"},children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h3",{className:"modal-title",children:n}),s.jsx("button",{className:"modal-close-btn",onClick:t,children:s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),s.jsx("div",{className:"modal-body",children:r}),i&&s.jsx("div",{className:"modal-footer",children:i})]})}),document.body)},x2=({isOpen:e,onClose:t,onConnect:n})=>{const[r,i]=y.useState({host:"",port:"22",username:"root",authType:"password",password:"",privateKeyPath:""}),[l,o]=y.useState(!1),[a,c]=y.useState(""),u=(p,h)=>{i(m=>({...m,[p]:h})),c("")},f=async()=>{if(!r.host){c("Host is required");return}o(!0);try{await n(r),t()}catch(p){c(p.message||"Connection failed")}finally{o(!1)}};return s.jsx(Hy,{isOpen:e,onClose:t,title:"Connect to Remote Host",width:"450px",footer:s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"secondary-btn",onClick:t,disabled:l,children:"Cancel"}),s.jsx("button",{className:"primary-btn",onClick:f,disabled:l,children:l?"Connecting...":"Connect"})]}),children:s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[a&&s.jsx("div",{style:{padding:"0.5rem",background:"var(--danger)",color:"white",borderRadius:"4px",fontSize:"0.9rem"},children:a}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Host"}),s.jsx("input",{className:"form-input",value:r.host,onChange:p=>u("host",p.target.value),placeholder:"example.com or 192.168.1.1",autoFocus:!0})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Port"}),s.jsx("input",{className:"form-input",value:r.port,onChange:p=>u("port",p.target.value),placeholder:"22"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Username"}),s.jsx("input",{className:"form-input",value:r.username,onChange:p=>u("username",p.target.value),placeholder:"root"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Authentication Method"}),s.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"0.25rem"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[s.jsx("input",{type:"radio",checked:r.authType==="password",onChange:()=>u("authType","password")}),"Password"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[s.jsx("input",{type:"radio",checked:r.authType==="privateKey",onChange:()=>u("authType","privateKey")}),"Private Key"]})]})]}),r.authType==="password"?s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Password"}),s.jsx("input",{className:"form-input",type:"password",value:r.password,onChange:p=>u("password",p.target.value),placeholder:"Enter password"})]}):s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Private Key Path"}),s.jsx("input",{className:"form-input",value:r.privateKeyPath,onChange:p=>u("privateKeyPath",p.target.value),placeholder:"/path/to/private/key"})]})]})})},v2=({isOpen:e,onClose:t,onClone:n,onPickFolder:r})=>{const[i,l]=y.useState(""),[o,a]=y.useState(""),[c,u]=y.useState(""),[f,p]=y.useState(!1),[h,m]=y.useState(""),x=async()=>{try{const w=await r();w&&a(w)}catch{m("Failed to pick folder")}},E=w=>{const S=String(w||"").trim();return S&&(S.split("/").pop()||S.split(":").pop()||"").replace(/\.git$/i,"")||""},I=w=>{const S=w.target.value;if(l(S),!c){const L=E(S);L&&u(L)}},k=async()=>{if(!i){m("URL is required");return}if(!o){m("Destination folder is required");return}p(!0),m("");try{await n({url:i,parentDir:o,folderName:c}),t()}catch(w){m(w.message||"Clone failed")}finally{p(!1)}};return s.jsx(Hy,{isOpen:e,onClose:t,title:"Clone Git Repository",width:"450px",footer:s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"secondary-btn",onClick:t,disabled:f,children:"Cancel"}),s.jsx("button",{className:"primary-btn",onClick:k,disabled:f,children:f?"Cloning...":"Clone"})]}),children:s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h&&s.jsx("div",{style:{padding:"0.5rem",background:"var(--danger)",color:"white",borderRadius:"4px",fontSize:"0.9rem"},children:h}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Repository URL"}),s.jsx("input",{className:"form-input",value:i,onChange:I,placeholder:"https://github.com/user/repo.git",autoFocus:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Destination Folder"}),s.jsxs("div",{style:{display:"flex",gap:"8px"},children:[s.jsx("input",{className:"form-input",value:o,onChange:w=>a(w.target.value),placeholder:"Select parent folder..."}),s.jsx("button",{className:"secondary-btn",onClick:x,disabled:f,style:{whiteSpace:"nowrap"},children:"Choose..."})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Folder Name (Optional)"}),s.jsx("input",{className:"form-input",value:c,onChange:w=>u(w.target.value),placeholder:"repo-name"})]})]})})},w2=e=>{if(!e)return"codicon-file";const t=e.toLowerCase();return t.endsWith(".js")||t.endsWith(".jsx")||t.endsWith(".ts")||t.endsWith(".tsx")?"codicon-file-code":t.endsWith(".css")||t.endsWith(".scss")?"codicon-paintcan":t.endsWith(".html")?"codicon-file-code":t.endsWith(".json")?"codicon-json":t.endsWith(".md")?"codicon-markdown":t.endsWith(".png")||t.endsWith(".jpg")||t.endsWith(".svg")?"codicon-file-media":"codicon-file"};function k2({onSearch:e,onOpenFile:t,projectLabel:n,initialQuery:r=""}){const[i,l]=y.useState(r),[o,a]=y.useState(""),[c,u]=y.useState(null),[f,p]=y.useState(!1),[h,m]=y.useState(!1),[x,E]=y.useState(!1),[I,k]=y.useState(!0);y.useEffect(()=>{r&&l(r)},[r]);const w=y.useCallback(async L=>{if(L.key==="Enter"&&i.trim()&&e){p(!0);try{const A=await e(i,{case_sensitive:h,regex:x});u(A)}catch(A){console.error("Search error:",A),u([])}finally{p(!1)}}},[i,h,x,e]),S=()=>{l(""),u(null)};return s.jsxs("div",{className:"explorer-panel",style:{height:"100%",display:"flex",flexDirection:"column"},children:[s.jsxs("div",{className:"explorer-header",children:[s.jsx("div",{className:"explorer-title",children:s.jsx("span",{className:"explorer-label",children:"SEARCH"})}),s.jsxs("div",{className:"explorer-actions",children:[s.jsx("button",{onClick:S,className:"ghost-btn tiny",title:"Clear Search",children:s.jsx("i",{className:"codicon codicon-clear-all"})}),s.jsx("button",{onClick:()=>k(!I),className:"ghost-btn tiny",title:I?"Collapse":"Expand",children:s.jsx("i",{className:`codicon codicon-chevron-${I?"up":"down"}`})})]})]}),I&&s.jsxs("div",{style:{padding:"8px",display:"flex",flexDirection:"column",gap:"6px",borderBottom:"1px solid var(--border)"},children:[s.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[s.jsx("div",{style:{position:"absolute",left:"6px",zIndex:1,pointerEvents:"none"},children:s.jsx("i",{className:"codicon codicon-chevron-right",style:{fontSize:"12px",transform:"rotate(90deg)"}})}),s.jsx("input",{style:{flex:1,background:"var(--bg-subtle)",border:"1px solid var(--border)",color:"var(--text)",padding:"6px 6px 6px 20px",fontSize:"12px",borderRadius:"3px",outline:"none"},placeholder:"Search",value:i,onChange:L=>l(L.target.value),onKeyDown:w}),s.jsxs("div",{style:{position:"absolute",right:"4px",display:"flex",gap:"2px"},children:[s.jsx("button",{onClick:()=>m(!h),style:{background:h?"var(--accent-subtle)":"transparent",border:"1px solid transparent",borderColor:h?"var(--accent)":"transparent",color:h?"var(--accent)":"var(--muted)",cursor:"pointer",padding:"2px 4px",borderRadius:"3px",fontSize:"11px",display:"flex",alignItems:"center",justifyContent:"center",minWidth:"20px"},title:"Match Case",children:"Aa"}),s.jsx("button",{onClick:()=>E(!x),style:{background:x?"var(--accent-subtle)":"transparent",border:"1px solid transparent",borderColor:x?"var(--accent)":"transparent",color:x?"var(--accent)":"var(--muted)",cursor:"pointer",padding:"2px 4px",borderRadius:"3px",fontSize:"11px",display:"flex",alignItems:"center",justifyContent:"center",minWidth:"20px"},title:"Use Regular Expression",children:".*"})]})]}),s.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[s.jsx("div",{style:{position:"absolute",left:"6px",zIndex:1,pointerEvents:"none"},children:s.jsx("i",{className:"codicon codicon-chevron-right",style:{fontSize:"12px",transform:"rotate(90deg)"}})}),s.jsx("input",{style:{flex:1,background:"var(--bg-subtle)",border:"1px solid var(--border)",color:"var(--text)",padding:"6px 6px 6px 20px",fontSize:"12px",borderRadius:"3px",outline:"none"},placeholder:"Replace",value:o,onChange:L=>a(L.target.value)}),s.jsx("div",{style:{position:"absolute",right:"4px",display:"flex",gap:"2px"},children:s.jsx("button",{className:"ghost-btn tiny",style:{padding:"2px 4px",borderRadius:"3px",fontSize:"11px",color:"var(--muted)",minWidth:"20px"},title:"Replace (Not implemented yet)",children:"AB"})})]})]}),s.jsxs("div",{className:"search-results",style:{overflowY:"auto",flex:1,paddingBottom:"20px"},children:[f&&s.jsx("div",{style:{padding:"8px",color:"var(--muted)",fontSize:"12px"},children:"Searching..."}),!f&&c&&c.length===0&&s.jsx("div",{style:{padding:"8px",color:"var(--muted)",fontSize:"12px"},children:"No results found."}),!f&&!c&&s.jsx("div",{style:{padding:"8px",color:"var(--muted)",fontSize:"12px"}}),!f&&c&&c.map((L,A)=>s.jsxs("div",{className:"search-result-item",style:{padding:"6px 12px",cursor:"pointer",borderBottom:"1px solid var(--border-subtle)"},onClick:()=>t(L.path),children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"2px"},children:[s.jsx("i",{className:`codicon ${w2(L.path)}`,style:{fontSize:"12px"}}),s.jsx("span",{style:{fontWeight:"500",fontSize:"12px",color:"var(--text-highlight)"},children:L.path.split("/").pop()}),s.jsx("span",{style:{fontSize:"10px",color:"var(--muted)",marginLeft:"auto"},children:L.path})]}),s.jsxs("div",{style:{fontSize:"11px",color:"var(--muted)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontFamily:"monospace",paddingLeft:"18px"},children:[s.jsx("span",{style:{color:"var(--primary)"},children:L.line}),": ",L.preview||L.context]})]},A))]})]})}const S2=({isOpen:e,onClose:t,files:n=[],onOpenFile:r,onSearchText:i,workspaceRoots:l=[]})=>{const[o,a]=y.useState(""),[c,u]=y.useState(0),f=y.useRef(null),p=y.useRef(null);y.useEffect(()=>{e&&f.current&&(f.current.focus(),a(""),u(0))},[e]);const h=y.useMemo(()=>{const x=[],E=o.toLowerCase();return o&&x.push({type:"action",id:"search-text",label:`Search text "${o}"`,description:"in all files",action:()=>i(o),icon:"codicon-search",shortcut:"Ctrl + Shift + F"}),o||(x.push({type:"action",id:"search-files",label:"Go to File...",description:"Search files by name",action:()=>{},icon:"codicon-file",shortcut:"Ctrl + P"}),x.push({type:"action",id:"show-commands",label:"Show and Run Commands >",description:"Execute IDE commands",action:()=>{},icon:"codicon-terminal",shortcut:"Ctrl + Shift + P"}),x.push({type:"action",id:"search-text-placeholder",label:"Search text %",description:"Find in files",action:()=>i(""),icon:"codicon-search"}),x.push({type:"action",id:"go-to-symbol",label:"Go to Symbol in Editor @",description:"Jump to symbol",action:()=>{},icon:"codicon-symbol-class",shortcut:"Ctrl + Shift + O"})),o&&n.filter(k=>k.path.toLowerCase().includes(E)).slice(0,50).forEach(k=>{x.push({type:"file",id:k.path,label:k.path.split("/").pop(),description:k.path,action:()=>r(k.path),icon:"codicon-file"})}),x},[o,n,i,r]);y.useEffect(()=>{u(0)},[h]);const m=x=>{x.key==="ArrowDown"?(x.preventDefault(),u(E=>Math.min(E+1,h.length-1))):x.key==="ArrowUp"?(x.preventDefault(),u(E=>Math.max(E-1,0))):x.key==="Enter"?(x.preventDefault(),h[c]&&(h[c].action(),h[c].id!=="search-files"&&h[c].id!=="show-commands"&&t())):x.key==="Escape"&&t()};return y.useEffect(()=>{if(p.current){const x=p.current.children[c];x&&x.scrollIntoView({block:"nearest"})}},[c]),e?ma.createPortal(s.jsx("div",{className:"command-palette-overlay",onClick:t,style:{position:"fixed",inset:0,zIndex:1e5,display:"flex",justifyContent:"center",alignItems:"flex-start",paddingTop:"6px"},children:s.jsxs("div",{className:"command-palette-container",onClick:x=>x.stopPropagation(),style:{width:"600px",maxWidth:"90vw",background:"var(--panel)",borderRadius:"6px",boxShadow:"0 4px 24px rgba(0,0,0,0.25)",display:"flex",flexDirection:"column",overflow:"hidden",border:"1px solid var(--border)",boxSizing:"border-box"},children:[s.jsx("div",{className:"command-palette-input-wrapper",style:{padding:"8px",boxSizing:"border-box"},children:s.jsx("input",{ref:f,type:"text",value:o,onChange:x=>a(x.target.value),onKeyDown:m,placeholder:"Search files by name (append :<line> to go to line)",style:{width:"100%",background:"var(--bg-subtle)",border:"1px solid var(--border)",padding:"8px 12px",color:"var(--text)",borderRadius:"4px",fontSize:"14px",outline:"none",boxSizing:"border-box"}})}),s.jsxs("div",{className:"command-palette-list",ref:p,style:{maxHeight:"400px",overflowY:"auto",borderTop:"1px solid var(--border-subtle)"},children:[h.map((x,E)=>s.jsxs("div",{className:`command-item ${E===c?"selected":""}`,onClick:()=>{x.action(),x.id!=="search-files"&&x.id!=="show-commands"&&t()},onMouseEnter:()=>u(E),style:{padding:"6px 12px",display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",background:E===c?"var(--list-active-selection-background)":"transparent",color:E===c?"var(--list-active-selection-foreground)":"var(--text)"},children:[s.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"20px",opacity:.8},children:s.jsx("i",{className:`codicon ${x.icon}`,style:{fontSize:"16px"}})}),s.jsx("div",{style:{display:"flex",flexDirection:"column",flex:1,overflow:"hidden"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("span",{style:{fontSize:"13px",fontWeight:"500"},children:x.label}),x.description&&s.jsx("span",{style:{fontSize:"12px",opacity:.6,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:x.description})]})}),x.shortcut&&s.jsx("div",{style:{fontSize:"11px",opacity:.6,background:"var(--bg-subtle)",padding:"2px 6px",borderRadius:"3px",marginLeft:"8px"},children:x.shortcut})]},x.id)),h.length===0&&s.jsx("div",{style:{padding:"12px",color:"var(--muted)",textAlign:"center",fontSize:"13px"},children:"No results found"})]}),!o&&n.length>0&&s.jsx("div",{style:{padding:"8px 12px",borderTop:"1px solid var(--border-subtle)",display:"flex",justifyContent:"flex-end",fontSize:"11px",color:"var(--muted)"},children:"Recently opened"})]})}),document.body):null},C2=!1,qo="ai_agent_theme_choice",Vy="ai_agent_language_choice",So=()=>typeof window>"u"||!window.matchMedia?"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",j2=()=>{if(typeof window>"u")return"zh";try{return window.localStorage.getItem(Vy)||"zh"}catch{return"zh"}},b2=e=>{if(!(typeof window>"u"))try{window.localStorage.setItem(Vy,e)}catch{}},N2=(e="")=>{const t=String(e||""),n=t.lastIndexOf("/"),r=t.lastIndexOf("\\"),i=Math.max(n,r);return i<0?"":t.slice(0,i)},Bh=(e="",t="")=>{const n=String(e||"").replace(/[\\\/]+$/,""),r=String(t||"").replace(/^[\\\/]+/,"");if(!n)return r;if(!r)return n;const i=n.includes("\\")?"\\":"/",l=r.replace(/[\\\/]+/g,i);return`${n}${i}${l}`},E2=(e="",t="")=>{const n=String(e||"").replace(/[\\\/]+$/,""),r=String(t||"");if(!n||!r)return"";const i=n.toLowerCase();if(!r.toLowerCase().startsWith(i))return"";let o=r.slice(n.length);return o=o.replace(/^[\\\/]+/,""),o=o.replace(/\\/g,"/"),!o||o.includes("..")?"":o},_2=(e="",t="")=>{const n=String(e||"").replace(/[\\\/]+$/,""),r=String(t||"");return!n||!r?!1:r.toLowerCase().startsWith(n.toLowerCase())},$h=()=>{if(typeof window>"u")return null;try{return window.localStorage.getItem(qo)}catch{return null}},Uh=e=>{if(!(typeof window>"u"))try{window.localStorage.setItem(qo,e)}catch{}},Hh="ai_agent_sessions_ping",Gy="ai_agent_layout_state",Ky="ai_agent_global_llm_config_v1",lo=()=>{if(typeof window>"u")return null;try{const e=window.localStorage.getItem(Ky);return e?JSON.parse(e):null}catch{return null}},T2=e=>{if(!(typeof window>"u"))try{const t=e||{};window.localStorage.setItem(Ky,JSON.stringify(t))}catch(t){console.warn("Persist global config failed",t)}},P2=[{key:"chat",label:"Chat",description:""},{key:"plan",label:"Plan",description:"///TODO "},{key:"canva",label:"Canva",description:"/"},{key:"agent",label:"Agent",description:" Agent"}],Co={agent:{read_file:!0,write_file:!0,edit_file:!0,list_files:!0,create_folder:!0,delete_file:!0,rename_file:!0,search_in_files:!0,get_current_project_structure:!0,execute_shell:!0,screen_capture:!0,mouse_control:!0,keyboard_control:!0},canva:{read_file:!0,write_file:!0,edit_file:!0,list_files:!0,create_folder:!0,delete_file:!0,rename_file:!0,search_in_files:!0,get_current_project_structure:!0,execute_shell:!0}},Ve={projectName:"",projectPath:"",backendRoot:"",workspaceId:"",provider:"openai",openai:{api_key:"",model:"",base_url:"",check_model:""},anthropic:{api_key:"",model:"",base_url:"",check_model:""},toolSettings:Co,theme:So(),sidebarWidth:260,chatPanelWidth:420,lastMode:"chat"},or=(e="")=>{const t=(e||"").trim();return t?/^[a-zA-Z]:[\\/]/.test(t)||t.startsWith("\\\\")||t.startsWith("/"):!1},R2=(e="")=>(e||"").replace(/^[./\\]+/,""),Ec=(e="")=>{const t=R2(e);return t===".aichat"||t.startsWith(".aichat/")||t.startsWith(".aichat\\")},L2=(e="",t="")=>{const n=String(e||"").split(`
`),r=String(t||"").split(`
`),i=n.length,l=r.length;if(i===0&&l===0)return{added:0,removed:0};if(i===0)return{added:l,removed:0};if(l===0)return{added:0,removed:i};if(i*l>2e6)return{added:Math.max(l-i,0),removed:Math.max(i-l,0)};const o=Array.from({length:i+1},()=>new Array(l+1).fill(0));for(let p=1;p<=i;p+=1)for(let h=1;h<=l;h+=1)o[p][h]=n[p-1]===r[h-1]?o[p-1][h-1]+1:Math.max(o[p-1][h],o[p][h-1]);let a=i,c=l,u=0,f=0;for(;a>0&&c>0;)n[a-1]===r[c-1]?(a-=1,c-=1):o[a-1][c]>=o[a][c-1]?(f+=1,a-=1):(u+=1,c-=1);return f+=a,u+=c,{added:u,removed:f}},Jd=()=>{if(typeof window>"u")return{};try{return JSON.parse(window.localStorage.getItem(Gy)||"{}")||{}}catch{return{}}},Vh=(e={})=>{if(!(typeof window>"u"))try{const t=Jd();window.localStorage.setItem(Gy,JSON.stringify({...t,...e}))}catch(t){console.warn("Persist layout prefs failed",t)}},so=(e,t)=>{const n=Jd(),r=Number(n[e]);return Number.isFinite(r)&&r>0?r:t},I2=(e={},t={})=>{const n=e.provider||t.provider||"openai",r={api_key:e.api_key||"",model:e.model||"",base_url:e.base_url||"",check_model:e.check_model||"",context_max_length:e.context_max_length,output_max_tokens:e.output_max_tokens,temperature:e.temperature,context_independent:e.context_independent},i={...t.openai||Ve.openai,...n==="openai"?r:{}},l={...t.anthropic||Ve.anthropic,...n==="anthropic"?r:{}};return{provider:n,openai:i,anthropic:l}},A2=({isOpen:e,title:t,label:n,defaultValue:r,onConfirm:i,onClose:l})=>{const[o,a]=y.useState(r);return y.useEffect(()=>{e&&a(r)},[e,r]),e?s.jsx("div",{className:"config-modal-backdrop",onClick:l,children:s.jsxs("div",{className:"config-modal",style:{width:"400px"},onClick:c=>c.stopPropagation(),children:[s.jsxs("div",{className:"config-header",children:[s.jsx("h3",{className:"config-title",children:t}),s.jsx("button",{className:"config-close",onClick:l,children:""})]}),s.jsxs("div",{className:"config-form",children:[s.jsxs("div",{className:"config-field",children:[s.jsx("label",{className:"config-label",children:n}),s.jsx("input",{className:"config-input",value:o,onChange:c=>a(c.target.value),autoFocus:!0,onKeyDown:c=>{c.key==="Enter"&&i(o),c.key==="Escape"&&l()}})]}),s.jsxs("div",{className:"config-actions",style:{justifyContent:"flex-end"},children:[s.jsx("button",{className:"ghost-btn",onClick:l,children:""}),s.jsx("button",{className:"primary-btn",onClick:()=>i(o),children:""})]})]})]})}):null},_c={files:[],fileTree:[],openTabs:[],activeFile:"",previewWidth:50,livePreview:"",view:"code",entryCandidates:[],previewEntry:"",workspaceRoots:[]},Rl="__system__/settings",Tc="__diff__/";function D2(){const e=d=>({agent:{...Co.agent,...(d==null?void 0:d.agent)||{}},canva:{...Co.canva,...(d==null?void 0:d.canva)||{}}}),t=$h(),[n,r]=y.useState(j2),i=d=>{r(d),b2(d)},[l,o]=y.useState(Ve),a=m2(),c=y.useMemo(()=>g2(),[]),{model:u,boot:f,syncFromLegacy:p,openRequested:h,closeRequested:m}=a,[x,E]=y.useState(()=>{const d=lo();return d?{provider:d.provider||Ve.provider,openai:{...Ve.openai,...d.openai||{}},anthropic:{...Ve.anthropic,...d.anthropic||{}}}:{provider:Ve.provider,openai:{...Ve.openai},anthropic:{...Ve.anthropic}}}),[I,k]=y.useState(()=>{const d=lo();return(d==null?void 0:d.uiDisplayPreferences)||{settings:"modal",diff:"modal"}}),[w,S]=y.useState(!1),[L,A]=y.useState(!1),[T,W]=y.useState("unknown"),[_,Y]=y.useState(""),[U,Z]=y.useState({id:null,name:"",pathLabel:""}),[q,he]=y.useState([]),[xe,B]=y.useState([]),[ee,te]=y.useState(null),[M,H]=y.useState([]),[C,me]=y.useState({}),[K,j]=y.useState(""),[se,ue]=y.useState({taskId:null,files:[],status:"idle",expanded:!1}),[fe,je]=y.useState(new Set),[_e,Se]=y.useState("chat"),[ge,J]=y.useState(_c),[Pe,at]=y.useState({}),[De,nt]=y.useState(!1),[Q,$e]=y.useState(null),[Re,Oe]=y.useState("idle"),[Mt,rt]=y.useState(""),[z,ve]=y.useState(""),[D,we]=y.useState(""),[b,R]=y.useState(""),[V,oe]=y.useState([]),[de,Ae]=y.useState(0),[be,Ce]=y.useState(()=>{const d=lo();return e((d==null?void 0:d.toolSettings)||Co)}),[Ue,it]=y.useState(()=>t||Ve.theme||So()),He=y.useRef(null),qe=y.useRef({absPath:"",expectedRoot:""}),Ze=y.useCallback(()=>{qe.current={absPath:"",expectedRoot:""}},[]),Bn=y.useRef({type:null}),Tt=y.useCallback(()=>{Bn.current={type:null}},[]),ht=y.useRef(null),xt=y.useCallback(()=>{ht.current=null},[]),Pt=y.useRef({}),dt=y.useRef(null),_n=y.useRef(""),$n=y.useRef(null),wi=y.useRef(!1),fl=y.useRef(0),ks=y.useRef(!1),Tn=y.useRef(null),ki=y.useRef(!1),pl=y.useRef(!!lo()),rn=y.useRef(!!t),Ss=y.useRef(0),[ln,mt]=y.useState({isOpen:!1,title:"",label:"",defaultValue:"",onConfirm:()=>{},onClose:()=>{}}),[Ft,Un]=y.useState(null),[Cs,Si]=y.useState(!1),[js,bs]=y.useState(!1),[Ns,Yr]=y.useState(!1),[Es,_s]=y.useState(!1),[Sa,Ca]=y.useState(""),[Wt,Xr]=y.useState(!1),[Ci,Jr]=y.useState([]),[Bt,qr]=y.useState(()=>so("sidebarWidth",Ve.sidebarWidth)),[O,$]=y.useState(!1),[ye,Me]=y.useState("sessions"),[Ne,Hn]=y.useState(null),[Vn,ir]=y.useState(!1),[Qy,ja]=y.useState([]),[Yy,ba]=y.useState([]),[Xy,Jy]=y.useState({all:[],current:"",branches:{}}),[$t,hl]=y.useState(()=>so("chatWidth",Ve.chatPanelWidth)),[Rt,Ts]=y.useState(!1),[lr,qd]=y.useState(null),Na=y.useRef({target:null,startX:0,startWidth:0}),Ps=y.useRef({target:null,width:0,delta:0}),ji=y.useRef(null),[ml,Ea]=y.useState(null),vr=y.useRef(so("chatWidth",Ve.chatPanelWidth)),Rs=y.useRef(so("sidebarWidth",Ve.sidebarWidth)),Gn=y.useRef(null),bi=y.useRef(null),Kn=y.useRef(null),[Zd,ef]=y.useState(!1),wr=!!Q,Lt=!!D&&Re==="ready",qy=()=>{var d,g,v;return typeof window<"u"&&(!!((g=(d=window.electronAPI)==null?void 0:d.workspace)!=null&&g.pickFolder)||!!((v=window.electronAPI)!=null&&v.openFolder))},tf=y.useMemo(()=>D?{"X-Workspace-Root":D}:{},[D]),vt=y.useCallback((d,g={})=>{const v={...g.headers||{},...tf};return fetch(d,{...g,headers:v})},[tf]),Ni=y.useCallback((d={})=>{const g={...Ve,...d};return g.toolSettings=e(d.toolSettings||Ve.toolSettings),g.sidebarWidth=Number(g.sidebarWidth||g.sessionPanelWidth)||Ve.sidebarWidth,g.chatPanelWidth=Number(g.chatPanelWidth)||Ve.chatPanelWidth,g.theme=g.theme||Ve.theme,g.lastMode=g.lastMode||Ve.lastMode,g.projectName=g.projectName||U.name||g.projectPath||"",g.projectPath=g.projectPath||g.backendRoot||U.pathLabel||"",g.backendRoot=g.backendRoot||g.projectPath||U.pathLabel||"",g.workspaceId=g.workspaceId||b||"",g},[e,U.name,U.pathLabel,b]),gl=()=>{const d=x[x.provider];return{provider:x.provider,api_key:d.api_key,model:d.model,base_url:d.base_url,check_model:d.check_model,context_max_length:d.context_max_length,output_max_tokens:d.output_max_tokens,temperature:d.temperature,context_independent:d.context_independent}};y.useCallback((d={})=>{var v;const g=I2(d,{provider:x.provider,openai:x.openai,anthropic:x.anthropic});return E(N=>({...N,provider:g.provider,openai:{...N.openai,...g.openai},anthropic:{...N.anthropic,...g.anthropic}})),o(N=>({...N,provider:g.provider,openai:{...N.openai,...g.openai},anthropic:{...N.anthropic,...g.anthropic}})),(v=g[g.provider])!=null&&v.api_key&&A(!0),g},[x.anthropic,x.openai,x.provider]);const nf=y.useCallback(async({silent:d=!1}={})=>null,[]),yl=async()=>{if(!wr){W("unknown"),Y("");return}W("checking"),Y("Checking connection...");try{const d=gl(),v=await(await vt("/api/health",{method:"POST",headers:{"Content-Type":"application/json"},body:d?JSON.stringify(d):null})).json();W(v.connected?"ok":"error"),Y(v.message||(v.connected?"Connected successfully":"Connection failed"))}catch(d){W("error"),Y(`Network Error: ${d.message}`)}},rf=async(d={})=>{const{silent:g=!1}=d;try{A(!0),o(v=>({...v,provider:x.provider,openai:{...x.openai},anthropic:{...x.anthropic}})),g||yl()}catch(v){console.error(v),g||alert(`Error configuring agent: ${v.message}`)}},lf=y.useCallback(async({silent:d=!1}={})=>{A(!0),yl()},[yl]),sf=d=>{Ce(g=>{const v=typeof d=="function"?d(g):d;return o(N=>({...N,toolSettings:v})),v})},kr=y.useCallback(async(d,{silent:g=!1}={})=>{const v=d&&typeof d=="object"?d:null,P=((v&&Array.isArray(v.folders)&&v.folders[0]&&typeof v.folders[0].path=="string"?v.folders[0].path:d)||"").trim();if(!P){we(""),R("");try{typeof window<"u"&&(window.__NODE_AGENT_WORKSPACE_ID__="",window.__NODE_AGENT_WORKSPACE_ROOT__="")}catch{}o(F=>({...F,backendRoot:""}));return}if(!or(P)){const F=" Workspace  H:\\\\04";Oe("error"),rt(F),we(""),R("");try{typeof window<"u"&&(window.__NODE_AGENT_WORKSPACE_ID__="",window.__NODE_AGENT_WORKSPACE_ROOT__="")}catch{}o(X=>({...X,backendRoot:""})),g||console.warn(F);return}try{Oe("checking");const F=new AbortController;let X=null;try{X=setTimeout(()=>F.abort(),15e3);const ne=await fetch("/api/workspace/bind-root",{method:"POST",headers:{"Content-Type":"application/json","X-Workspace-Root":P},body:JSON.stringify({root:P,settings:{provider:x.provider,model:x[x.provider]&&x[x.provider].model||"",toolSettings:be}}),signal:F.signal});let G={};try{G=await ne.json()}catch{G={}}if(!ne.ok)throw new Error(G.detail||ne.statusText||" Workspace ");const ce=G.root||P,ae=typeof G.workspace_id=="string"?G.workspace_id.trim():"";R(ae),we(ce);try{typeof window<"u"&&(window.__NODE_AGENT_WORKSPACE_ID__=ae,window.__NODE_AGENT_WORKSPACE_ROOT__=ce)}catch{}if(o(Fe=>({...Fe,backendRoot:ce,projectPath:Fe.projectPath||ce,workspaceId:ae||Fe.workspaceId||""})),rt(""),Oe("ready"),Te.isAvailable())try{ir(!0);const Fe=await Te.status(ce);Hn(Fe);const wt=await Te.getRemotes(ce);ja(wt);const bt=await Te.log(ce);ba((bt==null?void 0:bt.all)||[])}finally{ir(!1)}return{descriptor:v||G.workspace||null||null,workspaceId:ae,root:ce}}finally{X&&clearTimeout(X)}}catch(F){console.error("Bind backend workspace failed",F),R("");try{typeof window<"u"&&(window.__NODE_AGENT_WORKSPACE_ID__="")}catch{}Oe("error");const X=(F==null?void 0:F.name)==="AbortError";rt(X?" Workspace ":(F==null?void 0:F.message)||" Workspace "),g||console.warn(` Workspace ${F.message||F}`)}},[x,be]),Sr=y.useCallback(async()=>{try{const[d,g]=await Promise.all([ci.listRecent(),(async()=>{var P;try{const F=typeof window<"u"?(P=window.electronAPI)==null?void 0:P.recent:null;if(!(F!=null&&F.list))return[];const X=await F.list();return X!=null&&X.ok?X.items||[]:[]}catch{return[]}})()]),v=new Map;(g||[]).forEach(P=>{P!=null&&P.id&&v.set(P.id,{...P})}),(d||[]).forEach(P=>{if(!(P!=null&&P.id))return;const F=v.get(P.id);v.set(P.id,F?{...P,...F}:{...P})});const N=Array.from(v.values()).sort((P,F)=>((F==null?void 0:F.lastOpened)||0)-((P==null?void 0:P.lastOpened)||0));he(N)}catch{he([])}},[]);y.useEffect(()=>{let d=!1;const g=async()=>{try{const N=await fetch("/api/workspaces");if(!N.ok)return;const P=await N.json();if(!Array.isArray(P))return;d||oe(P)}catch{}};g();const v=setInterval(g,5e3);return()=>{d=!0,clearInterval(v)}},[]);const Zy=y.useCallback(async d=>{var v,N;const g=d==null?void 0:d.id;if(g){try{await ci.removeRecent(g)}catch(P){console.warn("Remove recent (LocalWorkspaceDriver) failed",P)}try{const P=typeof window<"u"?(v=window.electronAPI)==null?void 0:v.recent:null;await((N=P==null?void 0:P.remove)==null?void 0:N.call(P,g))}catch(P){console.warn("Remove recent (electron) failed",P)}Sr()}},[Sr]),of=y.useCallback((d,g=null)=>{if(o(d),!pl.current){const ae=d.provider||Ve.provider;E({provider:ae,openai:{...Ve.openai,...d.openai||{}},anthropic:{...Ve.anthropic,...d.anthropic||{}}}),Ce(Fe=>e(d.toolSettings||Fe)),pl.current=!0}const v=x&&x.provider||d.provider||Ve.provider,N=x&&x[x.provider]||d[v]||{};A(!!N.api_key);const P=$h(),F=P||d.theme||So();it(F),P&&(rn.current=!0);const X=Jd(),ne=Number(X.sidebarWidth)||d.sidebarWidth||d.sessionPanelWidth||Ve.sidebarWidth,G=Number(X.chatWidth)||d.chatPanelWidth||Ve.chatPanelWidth;qr(ne),hl(G),Rs.current=ne,vr.current=G,$(!1),Me(ae=>ae||"sessions"),Se(d.lastMode||Ve.lastMode);const ce=or(d.backendRoot)?d.backendRoot:or(d.projectPath)?d.projectPath:"";we(ce),ve(ce||d.projectPath||(g==null?void 0:g.pathLabel)||(g==null?void 0:g.rootName)||"")},[e,rn,x]),af=y.useCallback(async d=>{if(!d)return Ni(Ve);try{const g=await d.readFile(".aichat/config.json"),v=JSON.parse(g.content||"{}"),N=Ni(v);return N.projectPath||(N.projectPath=d.pathLabel||d.rootName),await d.writeFile(".aichat/config.json",JSON.stringify(N,null,2),{createDirectories:!0}),N.projectPath&&d.updatePathLabel(N.projectPath).catch(()=>{}),N}catch{const v=Ni(Ve);v.projectPath||(v.projectPath=d.pathLabel||d.rootName);try{await d.writeFile(".aichat/config.json",JSON.stringify(v,null,2),{createDirectories:!0})}catch(N){console.error("Failed to persist default config",N)}return v}},[Ni]),ft=y.useCallback(async({includeContent:d=!0,highlight:g=!0,driver:v=null,force:N=!1,snapshot:P=null}={})=>{const F=v||Q;if(!F)return Oe(G=>G==="error"?G:"idle"),null;const X=Date.now(),ne=!N&&!P;if(ne&&wi.current||ne&&X-fl.current<800)return null;wi.current=!0,nt(!0);try{const G=P||await F.getStructure({includeContent:d}),ce=(G.files||[]).filter(ae=>!Ec(ae.path)).map(ae=>({path:ae.path,content:ae.content??"",truncated:ae.truncated,updated:!1}));return J(ae=>{var sn,Ei,ti,_i;const Fe=Object.fromEntries(ae.files.map(Qt=>[Qt.path,Qt])),wt=ce.length?ce.map(Qt=>{const Ut=Fe[Qt.path],ni=g&&Ut&&Ut.content!==Qt.content;return{...Qt,updated:ni||g&&!Ut}}):ae.files,bt=!ae.activeFile&&ae.openTabs.length===0;let Ee=bt?"":ae.activeFile||((sn=G.entry_candidates)==null?void 0:sn[0])||((Ei=wt[0])==null?void 0:Ei.path)||"",We=ae.openTabs.length?[...ae.openTabs]:[];if(!bt){wt.forEach(Ut=>{(Ut.updated||!We.length)&&!We.includes(Ut.path)&&We.push(Ut.path)});const Qt=new Set(wt.map(Ut=>Ut.path));Ee&&!Qt.has(Ee)&&(Ee=((ti=G.entry_candidates)==null?void 0:ti[0])||((_i=wt[0])==null?void 0:_i.path)||""),We=We.filter(Ut=>Qt.has(Ut)),Ee&&!We.includes(Ee)&&We.unshift(Ee)}return{...ae,files:wt,fileTree:(G.entries||[]).filter(Qt=>!Ec(Qt.path))||ae.fileTree,activeFile:bt?"":Ee,openTabs:bt?[]:We.length?We:Ee?[Ee]:[],entryCandidates:G.entry_candidates||ae.entryCandidates,workspaceRoots:Array.isArray(G.roots)?G.roots:ae.workspaceRoots}}),fl.current=Date.now(),{files:ce,raw:G}}catch(G){console.error("Workspace sync failed",G),rt(G.message),Oe("error")}finally{wi.current=!1,nt(!1)}},[Q]),_a=y.useCallback(async()=>{if(!Q)return null;try{const d=await Q.getStructure({includeContent:!0}),g=(d.files||[]).filter(v=>!Ec(v.path)).map(v=>({path:v.path,content:v.content??""}));return{raw:d,files:g}}catch(d){return console.error("Capture workspace snapshot failed",d),null}},[Q]),cf=y.useCallback((d=[],g=[])=>{const v=new Map((d||[]).map(X=>[X.path,X.content??""])),N=new Map((g||[]).map(X=>[X.path,X.content??""])),P=new Set([...v.keys(),...N.keys()]),F=[];return P.forEach(X=>{const ne=v.has(X)?v.get(X):null,G=N.has(X)?N.get(X):null;if(ne===G)return;const ce=ne===null?"added":G===null?"deleted":"modified",ae=L2(ne||"",G||"");F.push({path:X,before:ne,after:G,changeType:ce,stat:ae,action:"pending"})}),F.sort((X,ne)=>X.path.localeCompare(ne.path))},[]),ex=y.useCallback(async d=>{if(!(!Tn.current||Tn.current.id!==d))try{const g=await _a(),v=(g==null?void 0:g.files)||[],N=cf(Tn.current.files||[],v);ue({taskId:d,files:N,expanded:N.length>0,status:N.length?"ready":"clean"}),g!=null&&g.raw?await ft({includeContent:!0,highlight:!0,force:!0,snapshot:g.raw}):await ft({includeContent:!0,highlight:!0,force:!0})}catch(g){console.error("Finalize task review failed",g),ue(v=>v&&v.taskId===d?{...v,status:"error"}:v)}finally{Tn.current=null}},[cf,_a,ft]),Ta=y.useCallback(async(d,g="")=>{if(!d)return;Oe("checking"),ki.current=!1,J({..._c,openTabs:[Pl],activeFile:Pl,view:"code"}),B([]),H([]),me({}),Jr([]),ue({taskId:null,files:[],status:"idle",expanded:!1}),Tn.current=null,Xr(!1),te(null);const v=await af(d);Z({id:d.projectId,name:d.rootName,pathLabel:v.projectPath||v.backendRoot||d.pathLabel||d.rootName}),of(v,d),$e(d),Sr();let N=null;return or(g)?N=g:or(v.backendRoot)?N=v.backendRoot:or(v.projectPath)?N=v.projectPath:or(d==null?void 0:d.pathLabel)&&(N=d.pathLabel),N?(await kr(N,{silent:!1}),ve(N)):(Oe("error"),rt(" D:\\\\my-react-app"),we(""),o(P=>({...P,backendRoot:""}))),await ft({includeContent:!0,highlight:!1,driver:d}),v},[of,kr,af,Sr,ft]);y.useEffect(()=>{if(Q)return dt.current&&clearTimeout(dt.current),dt.current=setTimeout(async()=>{try{const d=Ni(l);await Q.writeFile(".aichat/config.json",JSON.stringify(d,null,2),{createDirectories:!0}),d.projectPath&&Q.updatePathLabel(d.projectPath).catch(()=>{})}catch(d){console.error("Save project config failed",d)}},200),()=>{dt.current&&clearTimeout(dt.current)}},[l,Q,Ni]);const tx=d=>!Q||!wr?[]:d==="agent"?Object.entries(be.agent).filter(([,g])=>g).map(([g])=>g):d==="canva"?Object.entries(be.canva).filter(([,g])=>g).map(([g])=>g):[],Cr=y.useCallback((d={})=>{const g={timestamp:Date.now(),project:U.pathLabel||U.id||"default",...d};try{localStorage.setItem(Hh,JSON.stringify(g))}catch(v){console.warn("Emit sessions-updated failed",v)}},[U]),Qn=y.useCallback(d=>{d&&Un(d)},[]),uf=y.useCallback(async({diffId:d,path:g}={})=>{if(!ee)return null;try{let v="";d?v=`/api/diffs/${d}`:g?v=`/api/diffs?session_id=${encodeURIComponent(ee)}&path=${encodeURIComponent(g)}&limit=1`:v=`/api/diffs?session_id=${encodeURIComponent(ee)}&limit=1`;const N=await vt(v);if(!N.ok)return null;const P=await N.json();return Array.isArray(P)?P[0]||null:P}catch(v){return console.warn("fetchDiffSnapshot failed",v),null}},[ee,vt]),yn=y.useCallback(d=>{if(!d)return;const g=Ss.current++,v=d.diff_id!==void 0?String(d.diff_id):d.id!==void 0?String(d.id):d.path||"diff",N=`${Tc}${v}#${g}`;at(P=>({...P,[N]:d})),J(P=>{const X=P.openTabs.includes(N)?P.openTabs:[...P.openTabs,N];return{...P,openTabs:X,activeFile:N,view:"code"}})},[]),nx=y.useCallback(async(d={})=>{const g=(d==null?void 0:d.diff_id)||(d==null?void 0:d.id),v=d==null?void 0:d.path,N=d&&d.before!==void 0&&d.after!==void 0?d:null,P=await uf({diffId:g,path:v}),F=P&&P.before!==void 0&&P.after!==void 0?P:N;if(F){I.diff==="editor"?(yn(F),Un(null)):Qn(F);return}alert(" diff ")},[uf,Qn,I.diff,yn]),rx=y.useCallback(()=>Un(null),[]),ix=y.useCallback(d=>{yn(d),Un(null)},[yn]),Ls=d=>{const g=[];if(!d)return g;d.id&&g.push(String(d.id)),d.name&&g.push(d.name);const v=d.diffTarget;if(v&&(v.path||v.diff_id!==void 0)){const N=v.diff_id!==void 0?`#${v.diff_id}`:`@${v.path}`;d.name&&g.push(`${d.name}${N}`),d.id&&g.push(`${d.id}${N}`)}return g},xn=y.useCallback((d=[],g=[])=>{const v=[...d],N=new Set;if(g.filter(F=>F&&F.status&&F.status!=="running").forEach(F=>Ls(F).forEach(X=>X&&N.add(X))),N.size>0)for(let F=v.length-1;F>=0;F-=1){const X=v[F];if(!X||!X.synthetic||X.status!=="running")continue;Ls(X).some(ce=>N.has(ce))&&v.splice(F,1)}const P=new Map;return v.forEach((F,X)=>{const ne=F.id||`${F.name||"tool"}-${X}`;P.set(ne,F)}),g.forEach((F,X)=>{if(!F)return;const ne=F.id||`${F.name||"tool"}-${v.length+X}`,G=P.get(ne);P.set(ne,G?{...G,...F,status:F.status||G.status}:F)}),Array.from(P.values())},[]),Pa=y.useCallback((d,g)=>{const v=d&&typeof d=="object"?d:null,N=v&&typeof v.diff=="object"?v.diff:null,P=typeof(v==null?void 0:v.diff_id)=="number"?v.diff_id:N&&typeof N.id=="number"?N.id:void 0,F=N&&typeof N.path=="string"&&N.path||v&&typeof v.path=="string"&&v.path||g&&typeof g.path=="string"&&g.path||g&&typeof g.new_path=="string"&&g.new_path||g&&typeof g.old_path=="string"&&g.old_path||void 0;return!P&&!F?null:{diff_id:P,path:F}},[]),Is=y.useCallback((d=[])=>{const g={},v={},N=P=>{const F=ce=>{if(!ce||typeof ce!="object")return null;const ae=typeof ce.status=="string"?ce.status.toLowerCase():"";if(["error","failed","fail"].includes(ae)||ce.success===!1||ce.ok===!1||typeof ce.error=="string"||typeof ce.err=="string"||typeof ce.message=="string"&&ce.message.toLowerCase().includes("error"))return"error";if(ce.result&&typeof ce.result=="object"){const Fe=F(ce.result);if(Fe)return Fe}return null},X=F(P);if(X)return X;const G=((typeof P=="string"?P:JSON.stringify(P||{}))||"").toLowerCase();return G.includes("error")||G.includes("fail")?"error":"done"};return d.forEach((P,F)=>{const X=P._cid||P.id||`msg-${F}`;if(P.role==="assistant"){const ne=(P.tool_calls||[]).map((G,ce)=>{var Fe,wt;let ae=(Fe=G.function)==null?void 0:Fe.arguments;if(typeof ae=="string")try{ae=JSON.parse(ae)}catch{}return g[G.id]=X,{id:G.id||`call-${X}-${ce}`,name:((wt=G.function)==null?void 0:wt.name)||"tool",status:"running",detail:typeof ae=="string"?ae.slice(0,120):JSON.stringify(ae||{}).slice(0,120),args:ae,diffTarget:Pa(null,ae)}});ne.length&&(v[X]=xn(v[X],ne))}}),d.forEach((P,F)=>{if(P.role!=="tool")return;const ne=P.tool_call_id&&g[P.tool_call_id]||null||Object.keys(v)[Object.keys(v).length-1];if(!ne)return;let G=P.content;if(typeof P.content=="string")try{G=JSON.parse(P.content)}catch{G=P.content}const ce=typeof G=="string"?G:JSON.stringify(G||{}),ae=N(G),wt=((v[ne]||[]).find(sn=>sn.id===(P.tool_call_id||`tool-${F}`))||{}).args,bt=Pa(G,wt),Ee={id:P.tool_call_id||`tool-${F}`,name:P.name||"tool",status:ae,detail:ce?ce.slice(0,160):"",result:G,diffTarget:bt};v[ne]=xn(v[ne]||[],[Ee]);const We=P._cid||P.id||`toolmsg-${F}`;v[We]=xn(v[We]||[],[Ee])}),v},[xn,Pa]),As=y.useCallback((d=[])=>d.map((g,v)=>{let N=g.content,P=g.mode;if(N&&typeof N=="object"&&N.message){P=N.mode||P;const ae=N.meta;N=N.message,ae!=null&&ae.attachments&&(N&&typeof N=="object"?N={...N,attachments:[...N.attachments||[],...ae.attachments]}:N={content:N,attachments:ae.attachments})}const F=(N==null?void 0:N.tool_calls)||g.tool_calls||[],X=(N==null?void 0:N.tool_call_id)||g.tool_call_id,ne=(N==null?void 0:N.name)||g.name;let G=N;N&&typeof N=="object"&&N.content!==void 0&&(G=N.content),G==null&&(G=""),N&&typeof N=="object"&&N.attachments&&(typeof G=="string"||Array.isArray(G)?G={content:G,attachments:N.attachments}:typeof G=="object"&&(G={...G,attachments:[...G.attachments||[],...N.attachments]}));const ce=g.id?`msg-${g.id}`:X?`tool-${X}`:`local-${v}-${Math.random().toString(16).slice(2)}`;return{...g,mode:P,content:G,tool_calls:F,tool_call_id:X,name:ne,_cid:ce}}),[]),Ra=y.useCallback(async d=>{if(!(!d||!Lt))try{const g=await vt(`/api/sessions/${d}/messages`);if(!g.ok)return;const v=await g.json(),N=As(v),P=Is(N);if(fe.has(d)){me(ne=>{const G={};return Object.entries(P).forEach(([ce,ae])=>{G[ce]=xn(ne[ce]||[],ae)}),G});return}const F=M.filter(ne=>ne.role==="tool"&&ne.synthetic).filter(ne=>{const G=C[ne._cid];return!G||G.length===0?!0:G.some(ce=>!ce.status||ce.status==="running")}),X=[...N,...F];H(X),me(ne=>{const G={};return Object.entries(P).forEach(([ce,ae])=>{G[ce]=xn(ne[ce]||[],ae)}),G})}catch(g){console.error(g)}},[As,Is,xn,vt,Lt,M,C,fe]),La=y.useCallback(async d=>{if(!(!d||!Lt))try{const g=await vt(`/api/sessions/${d}/messages`);if(!g.ok)return;const v=await g.json(),N=As(v),P=Is(N),F=[];Object.values(P).forEach(X=>{X.forEach(ne=>{ne&&ne.status&&ne.status!=="running"&&Ls(ne).forEach(G=>G&&F.push(G))})}),me(X=>{const ne={...X};if(Object.entries(P).forEach(([ce,ae])=>{ne[ce]=xn(X[ce]||[],ae)}),F.length>0){const ce=F.reduce((ae,Fe)=>(ae.set(Fe,(ae.get(Fe)||0)+1),ae),new Map);Object.entries(ne).forEach(([ae,Fe])=>{let wt=!1;const bt=Fe.filter(Ee=>{if(!Ee||!Ee.synthetic||Ee.status!=="running")return!0;const sn=Ls(Ee).find(Ei=>ce.get(Ei)>0);return sn?(ce.set(sn,(ce.get(sn)||0)-1),wt=!0,!1):!0});wt&&(ne[ae]=bt)})}const G={};return Object.values(P).forEach(ce=>{ce.forEach(ae=>{const Fe=ae==null?void 0:ae.name;Fe&&(G[Fe]||(G[Fe]=[]),G[Fe].push(ae))})}),M.forEach(ce=>{if(ce.role!=="tool"||!ce.name)return;const ae=G[ce.name];!ae||ae.length===0||(ne[ce._cid||ce.id]=xn(X[ce._cid||ce.id]||[],ae))}),ne})}catch(g){console.error("Failed to refresh tool runs",g)}},[Lt,vt,As,Is,xn,M]),df=y.useCallback((d,g)=>{d&&me(v=>({...v,[d]:xn(v[d]||[],[g])}))},[xn]),lx=y.useCallback(async d=>{if(Q)try{const g=await Q.readFile(d);J(v=>{const P=v.files.find(F=>F.path===g.path)?v.files.map(F=>F.path===g.path?{...F,content:g.content,updated:!1}:F):[...v.files,{path:g.path,content:g.content,updated:!1}];return{...v,files:P}})}catch(g){console.error("Failed to load file",g),rt(g.message),Oe("error")}},[Q]),ff=y.useCallback(async()=>{var d,g;try{const v=typeof window<"u"?(d=window.electronAPI)==null?void 0:d.workspace:null;if(v!=null&&v.pickFolder){const N=await v.pickFolder();if(N!=null&&N.ok&&!(N!=null&&N.canceled)&&(N!=null&&N.fsPath))return String(N.fsPath).trim()}if(qy()&&((g=window.electronAPI)!=null&&g.openFolder)){const N=await window.electronAPI.openFolder();if(N&&typeof N=="string")return N.trim()}}catch(v){console.warn("Electron folder picker failed",v)}return""},[]),et=y.useMemo(()=>y2({workbenchOpenRequested:h,workbenchCloseRequested:m,workspaceServices:c,abortControllerRef:He,initialWorkspaceState:_c,welcomeTabPath:Pl,LocalWorkspaceDriver:ci,BackendWorkspaceDriver:Pr,requestElectronFolderPath:ff,hydrateProject:Ta,refreshRecentProjects:Sr,setWorkspaceState:J,setWorkspaceDriver:$e,setWorkspaceBindingStatus:Oe,setWorkspaceBindingError:rt,setWorkspaceRootLabel:ve,setBackendWorkspaceRoot:we,setBackendWorkspaceId:R,setProjectMeta:Z,setSessions:B,setMessages:H,setToolRuns:me,setLogs:Jr,setTaskReview:ue,setShowLogs:Xr,setCurrentSessionId:te,setDiffTabs:at,setActiveWorkspaces:oe}),[He,Ta,Sr,ff,we,R,te,at,Jr,H,Z,B,Xr,ue,me,rt,Oe,$e,ve,J,oe,m,h,c]),jr=y.useCallback(async(d=null)=>{await et.openWorkspace(d)},[et]),sx=y.useCallback(async d=>{d&&await kr(d,{silent:!1})},[kr]),ox=y.useCallback(async()=>{var d;try{const g=typeof window<"u"?(d=window.electronAPI)==null?void 0:d.workspace:null;if(!(g!=null&&g.pickFile))throw new Error("Open File is not available in this build");const v=await g.pickFile();if(!(v!=null&&v.ok)||v!=null&&v.canceled)return;const N=String((v==null?void 0:v.fsPath)||"").trim();if(!N)return;const P=N2(N);qe.current={absPath:N,expectedRoot:P};const F=(q||[]).find(X=>(X==null?void 0:X.id)&&(X==null?void 0:X.fsPath)&&_2(X.fsPath,N));if(F!=null&&F.id){await et.openWorkspace(F.id,{preferredRoot:F.fsPath});return}await et.openWorkspace(null,{preferredRoot:P})}catch(g){console.warn("Open File failed",g),rt((g==null?void 0:g.message)||"Open file failed"),Oe("error")}},[q,et]),pf=y.useCallback(async()=>{var v;const d=typeof window<"u"?(v=window.electronAPI)==null?void 0:v.workspace:null;if(!(d!=null&&d.pickFolder))throw new Error("Pick Folder is not available in this build");const g=await d.pickFolder();return!(g!=null&&g.ok)||g!=null&&g.canceled?"":String((g==null?void 0:g.fsPath)||"").trim()},[]),hf=y.useCallback(async({url:d,parentDir:g,folderName:v}={})=>{if(!Te.isAvailable()||typeof Te.clone!="function")throw new Error("Clone is not available. Please restart the application.");const N=await Te.clone(g,d,v);if(!(N!=null&&N.success))throw new Error((N==null?void 0:N.error)||"Clone failed");return{targetPath:N.targetPath}},[]),ax=y.useCallback(async d=>{const g=String(d||"").trim();g&&(Ze(),await et.openWorkspace(null,{preferredRoot:g}))},[Ze,et]),mf=y.useCallback(()=>{const d=D||l.backendRoot||l.projectPath||"";mt({isOpen:!0,title:" Workspace",label:" Workspace  H:\\04",defaultValue:d,onConfirm:g=>{g&&kr(g,{silent:!1}),mt(v=>({...v,isOpen:!1}))},onClose:()=>mt(g=>({...g,isOpen:!1}))})},[D,l.backendRoot,l.projectPath,kr]),cx=(d,g)=>{Q&&(Pt.current[d]&&clearTimeout(Pt.current[d]),Pt.current[d]=setTimeout(async()=>{try{await Q.writeFile(d,g,{createDirectories:!0}),J(v=>({...v,livePreview:`${Date.now()}`})),Ae(Date.now())}catch(v){console.error("Save failed",v),rt(v.message),Oe("error")}},220))};y.useEffect(()=>()=>{Object.values(Pt.current||{}).forEach(d=>clearTimeout(d))},[]);const ux=y.useCallback(async(d,g=null)=>{if(!d)return;te(d);const v=g||xe.find(N=>N.id===d);v!=null&&v.mode&&Se(v.mode),O&&$(!1),Me("sessions"),Rt&&Ts(!1),await Ra(d)},[O,Rt,Ra]),xl=y.useCallback(async()=>{if(Lt)try{const d=await vt("/api/sessions");if(d.ok){const g=await d.json();B(g)}}catch(d){console.error("Failed to fetch sessions",d)}},[Lt,vt]),Ia=y.useCallback(async d=>{if(!Lt)return alert(""),null;console.time(" createSession");try{console.log("[CREATE] ...");const g=typeof d=="string"?d:"",v=g.trim()?g.trim().slice(0,60):"New Chat",N=await vt("/api/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:v,mode:_e})});if(N.ok){const P=await N.json();return console.log("[CREATE]  UI...",P.id),B(F=>[P,...F]),te(P.id),H([]),me({}),$(!1),Me("sessions"),console.timeEnd(" createSession"),Cr({action:"create",sessionId:P.id}),P}}catch(g){console.error("Failed to create session",g)}return null},[_e,Cr,vt,Lt]),dx=y.useCallback(async d=>{if(confirm("Are you sure you want to delete this chat?")&&Lt){B(g=>{const v=g.filter(N=>N.id!==d);return ee===d&&(v.length>0?te(v[0].id):te(null),H([]),me({})),v});try{await vt(`/api/sessions/${d}`,{method:"DELETE"})}catch(g){console.error(g)}Cr({action:"delete",sessionId:d})}},[ee,Cr,vt,Lt]);y.useEffect(()=>{Lt?xl():(B([]),H([]),te(null))},[xl,Lt]),y.useEffect(()=>{var d;if(document.documentElement.setAttribute("data-theme",Ue),typeof window<"u"&&((d=window.electronAPI)!=null&&d.setTitlebarTheme)&&window.electronAPI.setTitlebarTheme(Ue),rn.current)Uh(Ue);else if(typeof window<"u")try{window.localStorage.removeItem(qo)}catch{}},[Ue]),y.useEffect(()=>{if(typeof window>"u"||!window.matchMedia)return;const d=window.matchMedia("(prefers-color-scheme: dark)"),g=v=>{rn.current||it(v.matches?"dark":"light")};if(!rn.current){const v=d.matches?"dark":"light";it(N=>N===v?N:v)}return d.addEventListener("change",g),()=>d.removeEventListener("change",g)},[]),y.useEffect(()=>{const d=fe.size>0;if(d&&!$n.current){const g=ee||Array.from(fe)[0];g&&La(g),$n.current=setInterval(()=>{const v=ee||Array.from(fe)[0];v&&La(v)},900)}else!d&&$n.current&&(clearInterval($n.current),$n.current=null);return()=>{$n.current&&(clearInterval($n.current),$n.current=null)}},[fe,ee,La]),y.useEffect(()=>{const d=l.projectPath||l.backendRoot;d&&ve(d)},[l.projectPath,l.backendRoot]),y.useEffect(()=>{l.projectPath&&Z(d=>({...d,pathLabel:l.projectPath}))},[l.projectPath]),y.useEffect(()=>{o(d=>d.theme===Ue?d:{...d,theme:Ue})},[Ue]),y.useEffect(()=>{o(d=>d.sidebarWidth===Bt?d:{...d,sidebarWidth:Bt}),Vh({sidebarWidth:Bt}),O||(Rs.current=Bt)},[Bt,O]),y.useEffect(()=>{o(d=>d.chatPanelWidth===$t?d:{...d,chatPanelWidth:$t}),Vh({chatWidth:$t}),Rt||(vr.current=$t)},[$t,Rt]),y.useEffect(()=>{D&&o(d=>d.backendRoot===D?d:{...d,backendRoot:D,projectPath:d.projectPath||D})},[D]),y.useEffect(()=>{T2({provider:x.provider,openai:{...x.openai},anthropic:{...x.anthropic},toolSettings:be,uiDisplayPreferences:I})},[x,be,I]),y.useEffect(()=>{o(d=>{const g=d.provider===x.provider,v=JSON.stringify(d.openai)===JSON.stringify(x.openai),N=JSON.stringify(d.anthropic)===JSON.stringify(x.anthropic);return g&&v&&N?d:{...d,provider:x.provider,openai:{...x.openai},anthropic:{...x.anthropic}}})},[x]),y.useEffect(()=>{if(ki.current||!Lt)return;if(gl().api_key){ki.current=!0,lf({silent:!0});return}let g=!1;return(async()=>{var N;const v=await nf({silent:!0});g||v&&((N=v[v.provider])!=null&&N.api_key)&&(ki.current=!0)})(),()=>{g=!0}},[lf,nf,gl,Lt]),y.useEffect(()=>{Q&&D&&kr(D,{silent:!0})},[D,kr,Q]),y.useEffect(()=>{if(ks.current)return;ks.current=!0;let d=!1;return(async()=>{try{Oe("idle"),await Sr();const g=await ci.fromPersisted(null,{allowPrompt:!1});if(d)return;g?await Ta(g):Oe("idle")}catch(g){d||(Oe("error"),rt((g==null?void 0:g.message)||"Workspace "))}})(),()=>{d=!0}},[]),y.useEffect(()=>{f()},[f]),y.useEffect(()=>{p({workspaceDriver:Q,workspaceBindingStatus:Re,workspaceBindingError:Mt})},[p,Mt,Re,Q]);const gf=y.useCallback(async()=>{Ze(),Tt(),xt(),await et.closeWorkspaceToWelcome({recentTouchRef:yf})},[Ze,Tt,xt,et]);y.useEffect(()=>{!Q&&Re!=="checking"&&(Ze(),Tt(),xt())},[Ze,Tt,xt,Re,Q]),y.useEffect(()=>{et.effectEnsureWelcomeTabWhenNoWorkspace({workspaceDriver:Q})},[et,Q]),y.useEffect(()=>{et.effectAutoCloseWelcomeTabOnReady({workspaceDriver:Q,workspaceBindingStatus:Re})},[Re,et,Q]);const fx=y.useRef("");y.useEffect(()=>{et.effectSyncWorkspaceServices({isReady:u.state===Cn.WORKSPACE_READY,backendWorkspaceRoot:D,workspaceRootLabel:z,workspaceDriver:Q,projectMeta:U,workspaceServicesKeyRef:fx})},[D,U,u.state,et,Q,z]);const yf=y.useRef({id:null,fsPath:null});y.useEffect(()=>et.effectSyncRecentsOnReady({workspaceDriver:Q,workspaceBindingStatus:Re,backendWorkspaceRoot:D,workspaceRootLabel:z,projectMeta:U,backendWorkspaceId:b,recentTouchRef:yf}),[b,D,U,Sr,Re,et,Q,z]),y.useEffect(()=>{const d=g=>{if(!(g.key!==Hh||!g.newValue)){try{const v=JSON.parse(g.newValue),N=U.pathLabel||U.id||"default";if(v.project&&v.project!==N)return}catch{}xl()}};return window.addEventListener("storage",d),()=>{window.removeEventListener("storage",d)}},[xl,U]);const xf=y.useCallback(async(d,g)=>{const v=(g||"").trim();if(!(!v||!wr))try{const N=await vt(`/api/sessions/${d}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:v})});if(N.ok){const P=await N.json();B(F=>F.map(X=>X.id===d?{...X,...P}:X)),ee===d&&P.mode&&Se(P.mode),Cr({action:"rename",sessionId:d})}}catch(N){console.error("Failed to rename session",N)}},[ee,Cr,vt,wr]),px=async d=>{if(Se(d),o(g=>({...g,lastMode:d})),["canva","agent"].includes(d)&&setTimeout(()=>{ft({includeContent:!0,highlight:!1})},300),!!ee){B(g=>g.map(v=>v.id===ee?{...v,mode:d}:v));try{await vt(`/api/sessions/${ee}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({mode:d})}),Cr({action:"mode",sessionId:ee})}catch(g){console.error("Failed to update mode",g)}}},Aa=async()=>{if(!(!ee||!wr))try{const d=await vt(`/api/sessions/${ee}/logs`);if(d.ok){const g=await d.json();Jr(g)}}catch(d){console.error(d)}};y.useEffect(()=>{if(Wt&&ee&&wr){Aa();const d=setInterval(Aa,2e3);return()=>clearInterval(d)}},[Wt,ee,wr]),y.useEffect(()=>{if(!ge.activeFile&&ge.openTabs.length>0){const d=ge.openTabs[0];J(g=>({...g,activeFile:d}))}},[ge.activeFile,ge.openTabs]);const hx=async({text:d,attachments:g}={})=>{const N=(d!==void 0?d:K)||"",P=g||[];if(!wr){alert("");return}const F=tx(_e);if(!L||T!=="ok"){alert(""),I.settings==="editor"?Ds():(Yr(!1),S(!0));return}if(!N.trim()&&P.length===0)return;const X=["canva","agent"].includes(_e),ne=()=>{var We;const Ee=(N||"").trim();if(Ee)return Ee.slice(0,60);if(P.length>0){const sn=((We=P[0])==null?void 0:We.name)||"";if(sn)return sn.slice(0,60)}return"New Chat"};let G=ee;if(!G){const Ee=await Ia(ne());if(!(Ee!=null&&Ee.id))return;G=Ee.id}const ce=xe.find(Ee=>Ee.id===G);if(ce&&(!ce.title||ce.title.toLowerCase()==="new chat")){const Ee=ne();Ee&&Ee!==ce.title&&xf(G,Ee)}const ae=Date.now();let Fe=!1;if(X&&Q){const Ee=await _a();Ee?(Tn.current={id:ae,files:Ee.files||[]},ue({taskId:ae,files:[],status:"running",expanded:!1}),Fe=!0):(Tn.current=null,ue({taskId:ae,files:[],status:"idle",expanded:!1}))}else Tn.current=null,ue({taskId:null,files:[],status:"idle",expanded:!1});const wt={_cid:`user-${Date.now()}`,role:"user",content:{text:N,attachments:P,mode:_e}};H(Ee=>[...Ee,wt]),j(""),je(Ee=>{const We=new Set(Ee);return We.add(G),We});const bt=new AbortController;He.current=bt,_n.current="";try{const Ee=gl(),We=await vt(`/api/sessions/${G}/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:N,attachments:P,mode:_e,tool_overrides:F,llm_config:Ee}),signal:bt.signal});if(!We.ok)throw new Error(`Request failed with status ${We.status}`);if(!We.body)throw new Error("Response body is empty");const sn=We.body.getReader(),Ei=new TextDecoder;let ti=null,_i=!1,Qt=!1;const Ut=()=>{if(ti&&!_i)return ti;const on=`assistant-${Date.now()}-${Math.random().toString(16).slice(2)}`;return ti=on,_i=!1,H(Yn=>[...Yn,{_cid:on,role:"assistant",content:"",tool_calls:[]}]),on},ni=(on="")=>{if(!on)return;Qt=!0;const Yn=Ut();H(Pn=>{const an=[...Pn],Rn=an.findIndex(sr=>sr._cid===Yn);if(Rn===-1)an.push({_cid:Yn,role:"assistant",content:on,tool_calls:[]});else{const sr=an[Rn];an[Rn]={...sr,content:`${sr.content||""}${on}`}}return an})},Tf=(on="")=>{const Yn=ti||Ut(),Pn=(on==null?void 0:on.trim())||"",an=Date.now();df(Yn,{id:`live-${Yn}-${Pn}`,name:Pn,status:"running",detail:` ${Pn}`,synthetic:!0,startedAt:an});const Rn=`tool-${Yn}-${an}-${Math.random().toString(16).slice(2)}`;H(sr=>[...sr,{_cid:Rn,role:"tool",name:Pn,content:` ${Pn} `,synthetic:!0}]),df(Rn,{id:`live-${Rn}`,name:Pn,status:"running",detail:` ${Pn}`,synthetic:!0,startedAt:an}),_i=!0};for(Ut();;){const{value:on,done:Yn}=await sn.read();if(Yn)break;const Pn=Ei.decode(on,{stream:!0});let an=`${_n.current}${Pn}`,Rn=0;const sr=/\[Executing\s+([^\]]+?)\.\.\.\]/g;let Ma;for(;Ma=sr.exec(an);){const iv=an.slice(Rn,Ma.index);ni(iv),Tf(Ma[1]),Rn=sr.lastIndex}const zs=an.slice(Rn),Fa=zs.lastIndexOf("[Executing ");Fa!==-1?(ni(zs.slice(0,Fa)),_n.current=zs.slice(Fa)):(ni(zs),_n.current="")}_n.current&&(ni(_n.current),_n.current=""),Qt||ni("AI "),xl(),Aa(),await Ra(G),Cr({action:"messages",sessionId:G})}catch(Ee){Ee.name==="AbortError"?(console.log("Generation aborted"),H(We=>[...We,{role:"system",content:"[Stopped by user]"}])):(console.error(Ee),H(We=>[...We,{role:"error",content:"Error getting response"}]))}finally{He.current=null,_n.current="",Fe&&ae?await ex(ae):Tn.current=null,je(Ee=>{const We=new Set(Ee);return We.delete(G),We})}},mx=y.useCallback(()=>{ue(d=>d&&{...d,expanded:!d.expanded})},[]),gx=y.useCallback(d=>{var g;(g=se==null?void 0:se.files)!=null&&g.length&&(ue(v=>{if(!v)return v;const N=v.files.map(F=>F.path===d?{...F,action:"kept"}:F),P=N.every(F=>F.action!=="pending")?"resolved":v.status;return{...v,files:N,status:P}}),J(v=>({...v,files:v.files.map(N=>N.path===d?{...N,updated:!1}:N)})))},[se]),yx=y.useCallback(()=>{var g;const d=((g=se==null?void 0:se.files)==null?void 0:g.map(v=>v.path))||[];if(!d.length){ue(v=>v&&{...v,status:"clean",expanded:!1});return}J(v=>({...v,files:v.files.map(N=>d.includes(N.path)?{...N,updated:!1}:N)})),ue(v=>v&&{...v,files:v.files.map(N=>({...N,action:"kept"})),status:"resolved",expanded:!1})},[se]),xx=y.useCallback(async d=>{var v;const g=(v=se==null?void 0:se.files)==null?void 0:v.find(N=>N.path===d);if(!(!g||!Q)){ue(N=>N&&{...N,status:"applying"});try{g.changeType==="added"?await Q.deletePath(d):await Q.writeFile(d,g.before||"",{createDirectories:!0}),await ft({includeContent:!0,highlight:!1,force:!0}),ue(N=>{if(!N)return N;const P=N.files.map(X=>X.path===d?{...X,action:"reverted"}:X),F=P.every(X=>X.action!=="pending")?"resolved":"ready";return{...N,files:P,status:F}})}catch(N){console.error("Revert file failed",N),alert(`${N.message||N}`),ue(P=>P&&{...P,status:P.status==="applying"?"ready":P.status})}}},[ft,se,Q]),vx=y.useCallback(async()=>{var d;if(!(!((d=se==null?void 0:se.files)!=null&&d.length)||!Q)){ue(g=>g&&{...g,status:"applying"});try{for(const g of se.files)g.changeType==="added"?await Q.deletePath(g.path):await Q.writeFile(g.path,g.before||"",{createDirectories:!0});await ft({includeContent:!0,highlight:!1,force:!0}),ue(g=>g&&{...g,files:g.files.map(v=>({...v,action:"reverted"})),status:"resolved",expanded:!1})}catch(g){console.error("Revert all failed",g),alert(`${g.message||g}`),ue(v=>v&&{...v,status:v.status==="applying"?"ready":v.status})}}},[ft,se,Q]),vn=d=>{if(!Q){alert("");return}J(g=>{const N=g.files.find(F=>F.path===d)?g.files:[...g.files,{path:d,content:"",updated:!1}],P=g.openTabs.includes(d)?g.openTabs:[...g.openTabs,d];return{...g,files:N,openTabs:P,activeFile:d,previewEntry:d}}),lx(d)};y.useEffect(()=>{if(!Q||Re!=="ready")return;const d=qe.current;if(!(d!=null&&d.absPath))return;const g=(D||z||d.expectedRoot||"").trim(),v=E2(g,d.absPath);Ze(),v&&vn(v)},[D,Ze,Re,Q,z]);const vf=d=>{const g=String(d||"").trim();return!g||g.includes("..")||g.includes("/")||g.includes("\\")||/^[A-Za-z]:/.test(g)?"":g.replace(/[:*?"<>|]+/g,"").trim()},wf=d=>{const g=String(d||"").trim();return g==="web"?{id:"web",entry:"index.html",files:{"README.md":`# Web Template

Generated by Start Page Templates.
`,"index.html":`<!doctype html><html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Web Template</title><link rel="stylesheet" href="./style.css"/></head><body><div id="app"></div><script type="module" src="./main.js"><\/script></body></html>
`,"style.css":`body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;margin:0;padding:24px;background:#f6f7f9;color:#111827}#app{max-width:720px}
`,"main.js":`document.querySelector('#app').innerHTML = '<h1>Hello</h1><p>Template created.</p>';
`}}:g==="react"?{id:"react",entry:"src/App.jsx",files:{"README.md":`# React Template

Generated by Start Page Templates.
`,"index.html":`<!doctype html><html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>React Template</title></head><body><div id="root"></div><script type="module" src="/src/main.jsx"><\/script></body></html>
`,"src/main.jsx":`import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App.jsx';

ReactDOM.createRoot(document.getElementById('root')).render(<App />);
`,"src/App.jsx":`import React from 'react';

export default function App() {
  return (
    <div style={{ fontFamily: 'system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif', padding: 24 }}>
      <h1>Hello</h1>
      <p>Template created.</p>
    </div>
  );
}
`}}:{id:"blank",entry:"README.md",files:{"README.md":`# Blank Template

Generated by Start Page Templates.
`}}},Da=y.useCallback(async({templateId:d,projectName:g,parentDir:v}={})=>{const N=String(v||"").trim();if(N&&or(N)&&(Pr!=null&&Pr.fromFsPath)){const ne=vf(g)||"my-project",G=wf(d);await(await Pr.fromFsPath(N)).createFolder(ne);const ae=Bh(N,ne),Fe=await Pr.fromFsPath(ae);for(const[wt,bt]of Object.entries(G.files||{}))await Fe.writeFile(wt,String(bt||""),{createDirectories:!0});return Ze(),qe.current={absPath:Bh(ae,G.entry),expectedRoot:ae},await et.openWorkspace(ae,{preferredRoot:ae}),{queued:!0,root:ae}}if(!Q)return Bn.current={type:"template"},ht.current={templateId:d,projectName:g},await jr(null),{queued:!0};if(Re!=="ready")return Bn.current={type:"template"},ht.current={templateId:d,projectName:g},{queued:!0};const P=vf(g)||"my-project";if((ge.files||[]).some(ne=>(ne==null?void 0:ne.path)===P||String((ne==null?void 0:ne.path)||"").startsWith(`${P}/`))||(ge.fileTree||[]).some(ne=>(ne==null?void 0:ne.path)===P||String((ne==null?void 0:ne.path)||"").startsWith(`${P}/`)))throw new Error(`${P}`);const X=wf(d);await Q.createFolder(P);for(const[ne,G]of Object.entries(X.files||{}))await Q.writeFile(`${P}/${ne}`,String(G||""),{createDirectories:!0});return await ft({includeContent:!0,highlight:!0,force:!0}),vn(`${P}/${X.entry}`),{ok:!0,folder:P,entry:`${P}/${X.entry}`}},[Ze,jr,vn,ft,Re,et,Q,ge.fileTree,ge.files]);y.useEffect(()=>{var g;if(!Q||Re!=="ready"||((g=Bn.current)==null?void 0:g.type)!=="template")return;const d=ht.current;d&&(Tt(),xt(),Da(d).catch(v=>{console.warn("Create template failed",v),rt((v==null?void 0:v.message)||"Create template failed"),Oe("error")}))},[Tt,xt,Da,Re,Q]);const kf=d=>{J(g=>{const v=g.openTabs.filter(P=>P!==d),N=g.activeFile===d?v[v.length-1]||"":g.activeFile;return{...g,openTabs:v,activeFile:N,previewEntry:N||g.previewEntry}}),d&&d.startsWith(Tc)&&at(g=>{if(!g||!g[d])return g;const v={...g};return delete v[d],v})},wx=(d,g)=>{J(v=>{const N=v.files.map(P=>P.path===d?{...P,content:g,updated:!1}:P);return{...v,files:N,livePreview:v.livePreview}}),cx(d,g)},kx=(d,g)=>{J(v=>{const N=[...v.openTabs],[P]=N.splice(d,1);return N.splice(g,0,P),{...v,openTabs:N}})},Zr=()=>{if(!Q){alert("");return}mt({isOpen:!0,title:"",label:" (: src/App.js)",defaultValue:"",onConfirm:async d=>{if(d){try{await Q.writeFile(d,"",{createDirectories:!0}),await ft({includeContent:!0,highlight:!0}),vn(d)}catch(g){console.error("Failed to add file",g)}mt(g=>({...g,isOpen:!1}))}},onClose:()=>mt(d=>({...d,isOpen:!1}))})},Sx=y.useCallback(async()=>{if(Q&&Re==="ready"){Zr();return}Bn.current={type:"newFile"},await jr(null)},[jr,Zr,Re,Q]);y.useEffect(()=>{if(!Q||Re!=="ready")return;const d=Bn.current;d!=null&&d.type&&d.type==="newFile"&&(Tt(),Zr())},[Tt,Zr,Re,Q]);const Oa=()=>{if(!Q){alert("");return}mt({isOpen:!0,title:"",label:" (: src/components)",defaultValue:"",onConfirm:async d=>{if(d){try{await Q.createFolder(d),await ft({includeContent:!1,highlight:!1})}catch(g){console.error("Failed to create folder",g)}mt(g=>({...g,isOpen:!1}))}},onClose:()=>mt(d=>({...d,isOpen:!1}))})},Cx=y.useCallback(async d=>{console.log("Connecting to remote:",d),await new Promise(g=>setTimeout(g,1500)),alert(`Connected to ${d.username}@${d.host}:${d.port}`),Si(!1)},[]),jx=async d=>{if(!Q){alert("");return}if(d&&window.confirm(` ${d} ?`))try{await Q.deletePath(d),await ft({includeContent:!0,highlight:!1}),J(g=>({...g,files:g.files.filter(v=>v.path!==d),openTabs:g.openTabs.filter(v=>v!==d),activeFile:g.activeFile===d?"":g.activeFile}))}catch(g){console.error("Failed to delete",g)}},bx=async(d,g=null)=>{if(!Q){alert("");return}if(g){try{await Q.renamePath(d,g),await ft({includeContent:!0,highlight:!0})}catch(v){console.error("Failed to rename",v)}return}mt({isOpen:!0,title:"",label:"",defaultValue:d,onConfirm:async v=>{if(!v||v===d){mt(N=>({...N,isOpen:!1}));return}try{await Q.renamePath(d,v),await ft({includeContent:!0,highlight:!0})}catch(N){console.error("Failed to rename",N)}mt(N=>({...N,isOpen:!1}))},onClose:()=>mt(v=>({...v,isOpen:!1}))})},Sf=async()=>{await ft({includeContent:!0,highlight:!1});const d=Date.now();Ae(d),J(g=>({...g,livePreview:`${d}`}))},Cf=y.useCallback((d,g)=>{k(v=>({...v,[d]:g}))},[]),Ds=y.useCallback(()=>{Yr(!1),S(!1),J(d=>{const v=d.openTabs.includes(Rl)?d.openTabs:[...d.openTabs,Rl];return{...d,openTabs:v,activeFile:Rl,view:"code"}})},[]),jf=y.useCallback(d=>{if(d==="system"){if(rn.current=!1,typeof window<"u")try{window.localStorage.removeItem(qo)}catch{}const v=So();it(v);return}rn.current=!0,it(d==="dark"?"dark":"light")},[]),bf=y.useCallback(()=>{rn.current=!0,it(d=>{const g=d==="dark"?"light":"dark";return Uh(g),g})},[]),Nx=()=>{He.current&&He.current.abort()};y.useEffect(()=>{Rt||(vr.current=$t)},[$t,Rt]);const Ex=y.useCallback(()=>{Ts(d=>(d?hl(vr.current||420):vr.current=$t,!d))},[$t]),Nf=y.useCallback(d=>{Me(g=>g===d&&!O?($(!0),g):($(!1),d))},[O]),ct=y.useCallback(async()=>{if(!D||!Te.isAvailable())return;ir(!0);const d=await Te.status(D);if(Hn(d),!d){ja([]),ba([]),ir(!1);return}const g=await Te.getRemotes(D);ja(g);const v=await Te.log(D);ba((v==null?void 0:v.all)||[]);const N=await Te.branch(D);Jy(N||{all:[],current:"",branches:{}}),ir(!1)},[D]);y.useEffect(()=>{if(Lt&&D){ct();const d=setInterval(ct,5e3);return()=>clearInterval(d)}},[Lt,D,ct]);const _x=async()=>{if(!D){promptBindBackendRoot();return}await Te.init(D),ct()},Tx=async d=>{D&&(await Te.createBranch(D,d),ct())},Px=async d=>{D&&(await Te.deleteBranch(D,d),ct())},Rx=async d=>{D&&(await Te.checkout(D,d),ct())},Lx=async(d,g)=>{D&&(await Te.resolve(D,d,g),ct())},Ix=async(d,g)=>{D&&(await Te.addRemote(D,d,g),ct())},Ax=async d=>{D&&(await Te.stage(D,d),ct())},Dx=async d=>{D&&(await Te.unstage(D,d),ct())},Ox=async()=>{D&&(await Te.stage(D,["."]),ct())},zx=async()=>{var g;!D||!((g=Ne==null?void 0:Ne.files)!=null&&g.some(v=>["A","M","D","R"].includes(v.working_dir)===!1&&["A","M","D","R"].includes(v.index)))||(await Te.unstage(D,"."),ct())},Mx=async d=>{if(!D||!window.confirm(`Are you sure you want to discard changes in ${d.length>1?d.length+" files":d[0]}?`))return;const g=[],v=[];if(d.forEach(N=>{var F;const P=(F=Ne==null?void 0:Ne.files)==null?void 0:F.find(X=>X.path===N);P&&(P.working_dir==="?"||P.working_dir==="U")?g.push(N):v.push(N)}),v.length>0&&await Te.restore(D,v),g.length>0&&Q)for(const N of g)try{await Q.deletePath(N)}catch(P){console.error(P)}ct()},Fx=async()=>{var N;if(!D||!window.confirm("Are you sure you want to discard ALL changes? This cannot be undone."))return;const d=((N=Ne==null?void 0:Ne.files)==null?void 0:N.filter(P=>["A","M","D","R","?"].includes(P.working_dir)))||[],g=[],v=[];if(d.forEach(P=>{P.working_dir==="?"||P.working_dir==="U"?g.push(P.path):v.push(P.path)}),v.length>0&&await Te.restore(D,v.length===d.length?".":v),g.length>0&&Q)for(const P of g)try{await Q.deletePath(P)}catch(F){console.error(F)}ct()},Wx=async d=>{D&&(await Te.commit(D,d),ct())},Bx=async()=>{D&&(await Te.pull(D),ct())},$x=async()=>{D&&(await Te.push(D),ct())},Ux=async d=>{if(!D)return;const g=d||(Ne==null?void 0:Ne.current);g&&(await Te.publishBranch(D,g),ct())},Hx=async d=>{if(!D)return;const g=d||(Ne==null?void 0:Ne.current);g&&(await Te.setUpstream(D,g),ct())},Vx=async()=>{D&&(await Te.pull(D),await Te.push(D),ct())},Gx=async()=>{if(!Ne||!D)return"";const d=await Te.diff(D);if(!d)return"";const v=`Generate a concise git commit message (first line under 50 chars) for this diff:

${(typeof d=="string"?d:JSON.stringify(d)).slice(0,2e3)}`;if(!ee)return"Error: Please open a chat session first.";try{const N=gl(),P=await vt(`/api/sessions/${ee}/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:v,mode:"chat",llm_config:N})});if(!P.body)return"";const F=P.body.getReader(),X=new TextDecoder;let ne="";for(;;){const{value:G,done:ce}=await F.read();if(ce)break;ne+=X.decode(G,{stream:!0})}return ne.trim()}catch(N){return console.error(N),"Error generating message"}},Kx=y.useCallback(async d=>D?await Te.getCommitDetails(D,d):[],[D]),Qx=y.useCallback(async d=>D?await Te.getCommitStats(D,d):null,[D]),Yx=y.useCallback(async(d,g)=>{if(D)try{const v=await Te.getFileContent(D,`${d}~1`,g),N=await Te.getFileContent(D,d,g),P={path:g,before:v,after:N};I.diff==="editor"?(yn(P),Un(null)):Qn(P)}catch(v){console.error("Failed to open commit diff",v)}},[D,Qn,I.diff,yn]),Xx=y.useCallback(async d=>{if(D)try{const g=await Te.getCommitFileDiffs(D,d);if(!g||g.length===0)return;const v={files:g};I.diff==="editor"?(yn(v),Un(null)):Qn(v)}catch(g){console.error("Failed to open all commit diffs",g)}},[D,Qn,I.diff,yn]),Jx=y.useCallback(async(d,g=!1)=>{if(!(!D||!Q))try{let v="",N="";g?(v=await Te.getFileContent(D,"HEAD",d),N=await Te.getFileContent(D,":0",d)):(v=await Te.getFileContent(D,":0",d),N=(await Q.readFile(d)).content||"");const P={path:d,before:v,after:N};I.diff==="editor"?(yn(P),Un(null)):Qn(P)}catch(v){console.error("Failed to open working copy diff",v),vn(d)}},[D,Q,Qn,vn,I.diff,yn]),qx=y.useCallback(async(d,g="unstaged")=>{if(!(!D||!Q||!d||d.length===0))try{const N={files:await Promise.all(d.map(async P=>{const F=P.path;let X="",ne="";return g==="staged"?(X=await Te.getFileContent(D,"HEAD",F),ne=await Te.getFileContent(D,":0",F)):(X=await Te.getFileContent(D,":0",F),ne=(await Q.readFile(F)).content||""),{path:F,before:X,after:ne}}))};I.diff==="editor"?(yn(N),Un(null)):Qn(N)}catch(v){console.error("Failed to open batch diffs",v)}},[D,Q,Qn,I.diff,yn]),Os=y.useCallback(d=>g=>{g.preventDefault(),g.stopPropagation();const v=d==="sidebar"?O?0:Bt:Rt&&vr.current||$t;d==="chat"&&Rt&&(Ts(!1),hl(v||420));let N=1e4;const X=54+4;if(d==="sidebar"){const G=Rt?0:$t;N=window.innerWidth-X-G}else if(d==="chat"){const G=O?0:Bt;N=window.innerWidth-X-G}Na.current={target:d,startX:g.clientX,startWidth:v,maxWidth:N},qd(d),ef(!0),Ps.current={target:d,width:v,delta:0};const ne=d==="sidebar"?Gn.current:bi.current;ne&&(ne.style.transform="translateX(0px)"),d==="sidebar"&&Gn.current&&(Gn.current.style.background="var(--sidebar-active)"),d==="chat"&&bi.current&&(bi.current.style.background="var(--sidebar-active)"),document.body.style.userSelect="none",document.body.style.cursor="col-resize"},[Rt,$t,O,Bt]),vl=y.useCallback(d=>{const{target:g,startX:v,startWidth:N,maxWidth:P}=Na.current;if(!g)return;const F=d.clientX-v,X=F*.8;if(g==="sidebar"&&O){if(F>30){const G=Rs.current||260;$(!1),qr(G*1.1),ei(),setTimeout(()=>{qr(G)},200)}return}let ne=N+X;if(g==="sidebar"){if(ne<120){$(!0),ei();return}ne<=220?(ne=220,Ea({text:"",x:d.clientX,y:d.clientY,warning:!0}),Gn.current&&(Gn.current.style.background="#FF5722")):(Ea({text:`${Math.round(ne)}px`,x:d.clientX,y:d.clientY,warning:!1}),Gn.current&&(Gn.current.style.background="var(--sidebar-active, #2196F3)"))}else ne=Math.max(240,ne);P&&(ne=Math.min(ne,P)),Ps.current={target:g,width:ne,delta:X},ji.current||(ji.current=requestAnimationFrame(()=>{const G=Ps.current;if(G.target){if(G.target==="sidebar")qr(G.width),Rs.current=G.width;else if(G.target==="chat"){const ce=Math.max(240,G.width);hl(ce),vr.current=ce,Ts(!1);try{if(Kn.current){Kn.current.style.transition="none",Kn.current.style.width=`${ce}px`;const ae=Kn.current.getBoundingClientRect().width}}catch{}}ji.current=null}}))},[O]),ei=y.useCallback(()=>{if(ji.current&&(cancelAnimationFrame(ji.current),ji.current=null),Ea(null),lr==="chat"&&Kn.current){const g=Kn.current.getBoundingClientRect().width;hl(g),vr.current=g}Ps.current={target:null,width:0,delta:0},Na.current={target:null,startX:0,startWidth:0};const d=lr;qd(null),ef(!1),document.body.style.userSelect="",document.body.style.cursor="";try{Gn.current&&(Gn.current.style.background="var(--border)")}catch{}try{bi.current&&(bi.current.style.background="var(--border)")}catch{}if(d==="chat")try{Kn.current&&(Kn.current.style.width="",Kn.current.style.transition="")}catch{}},[lr]);y.useEffect(()=>{if(lr)return window.addEventListener("mousemove",vl),window.addEventListener("mouseup",ei),()=>{window.removeEventListener("mousemove",vl),window.removeEventListener("mouseup",ei)}},[lr,vl,ei]),y.useEffect(()=>{},[lr,Zd,Bt,$t,Rt,O]);const Zx=xe.find(d=>d.id===ee),za=Ci&&Ci.length>0?Ci[0]:null,ev=za?{requestOk:!!za.success,parseOk:za.parsed_success!==!1}:null,Ef=["canva","agent"].includes(_e)||ge.openTabs.length>0||Object.keys(Pe).length>0||!Q||Re==="checking"||Re==="error",_f=Ef||Wt,tv=(Ne==null?void 0:Ne.current)||"",nv=y.useMemo(()=>{const d=(Ne==null?void 0:Ne.files)||[];return!Array.isArray(d)||d.length===0?0:d.filter(g=>{const v=g.working_dir||"",N=g.index||"",P=["A","M","D","R","?"].includes(v),F=["A","M","D","R"].includes(N);return P||F}).length},[Ne]),rv=y.useCallback(async(d,g={})=>{if(!Q)return[];try{return(await Q.search(d,g)).results||[]}catch(v){return console.error("Search failed",v),[]}},[Q]),br=y.useMemo(()=>({files:ge.files,fileTree:ge.fileTree,openTabs:ge.openTabs,workspaceRoots:ge.workspaceRoots}),[ge.files,ge.fileTree,ge.openTabs,ge.workspaceRoots]);return s.jsxs(Kj,{theme:Ue,children:[s.jsx(Mj,{projectMeta:U,onSelectProject:jr,onOpenWelcome:()=>et.openWelcomeTab({focus:!0}),onCloseWorkspace:gf,onBindBackend:mf,onToggleTheme:bf,theme:Ue,language:n,viewMode:ge.view,onToggleView:()=>J(d=>({...d,view:d.view==="code"?"preview":"code"})),onAddFile:()=>Zr(),onAddFolder:()=>Oa(),onSync:()=>ft({includeContent:!0,highlight:!1}),onRefreshPreview:Sf,hasDriver:!!Q,bindingError:Mt,workspaceRoots:br.workspaceRoots,workspaceRootLabel:z,recentProjects:q,onOpenRecent:d=>{const g=(d==null?void 0:d.fsPath)||(d==null?void 0:d.pathLabel)||(d==null?void 0:d.backendRoot)||"",v=or(g)?g:(d==null?void 0:d.id)||null;et.openWorkspace(v,{preferredRoot:g})},onCloneRepository:()=>bs(!0),onConnectRemote:()=>Si(!0),onOpenCommandPalette:()=>_s(!0)}),Zd&&s.jsx("div",{onMouseMove:vl,onMouseUp:ei,onPointerMove:vl,onPointerUp:ei,style:{position:"fixed",inset:0,zIndex:99999,cursor:"col-resize",background:"transparent",touchAction:"none"}}),w&&s.jsx(Lh,{config:x,setConfig:E,toolSettings:be,onToolSettingsChange:sf,onSave:rf,onClose:()=>{Yr(!1),S(!1)},checkApiStatus:yl,apiStatus:T,apiMessage:_,appearanceMode:rn.current?Ue==="dark"?"dark":"light":"system",onChangeAppearanceMode:jf,language:n,onLanguageChange:i,displayPreferences:I,onChangeDisplayPreference:Cf,onOpenInEditor:Ds,fullscreen:Ns,onToggleFullscreen:()=>Yr(d=>!d),variant:"modal"}),s.jsx(S2,{isOpen:Es,onClose:()=>_s(!1),files:br.files,onOpenFile:vn,onSearchText:d=>{Ca(d),Nf("search")}}),s.jsxs("div",{className:"app-body",children:[s.jsx(D1,{activeSidebar:ye,sidebarCollapsed:O,explorerOpen:!O&&ye==="explorer",onSelectSidebar:Nf,onToggleChatPanel:Ex,chatPanelCollapsed:Rt,onCreateSession:Ia,onToggleConfig:()=>{I.settings==="editor"?Ds():(Yr(!1),S(!0))},apiStatus:T,gitBadgeCount:nv,language:n}),s.jsxs("div",{className:`sidebar-panel-shell ${O?"collapsed":""}`,style:{width:O?"0px":`${Bt}px`,minWidth:O?"0":"220px",maxWidth:O?"0":"none",transition:lr==="sidebar"?"none":"width 0.2s ease, min-width 0.2s ease",overflow:"hidden",display:"flex",flexDirection:"column",flexShrink:0,background:"var(--panel)",pointerEvents:O?"none":"auto"},children:[!O&&ye==="sessions"&&s.jsx(O1,{sessions:xe,currentSessionId:ee,onSelectSession:ux,onDeleteSession:dx,onRenameSession:xf,onCreateSession:Ia,onSwitchProject:()=>jr(),projectPath:U.pathLabel||D,width:Bt,collapsed:O,isResizing:lr==="sidebar"}),!O&&ye==="explorer"&&s.jsx(H1,{files:br.files,fileTree:br.fileTree,projectLabel:z,workspaceRoots:br.workspaceRoots,loading:De,activeFile:ge.activeFile,onOpenFile:vn,onAddFile:Zr,onAddFolder:Oa,onDeletePath:jx,onRenamePath:bx,onSyncStructure:()=>ft({includeContent:!0,highlight:!1}),hasWorkspace:!!Q,gitStatus:Ne}),!O&&ye==="search"&&s.jsx(k2,{onSearch:rv,onOpenFile:vn,projectLabel:z,initialQuery:Sa}),!O&&ye==="git"&&s.jsx(db,{gitStatus:Ne,gitRemotes:Qy,gitLog:Yy,gitBranches:Xy,onCommit:Wx,onStage:Ax,onUnstage:Dx,onStageAll:Ox,onUnstageAll:zx,onDiscard:Mx,onDiscardAll:Fx,onSync:Vx,onPull:Bx,onPush:$x,onPublishBranch:Ux,onSetUpstream:Hx,onRefresh:ct,onGenerateCommitMessage:Gx,onInit:_x,onAddRemote:Ix,onCreateBranch:Tx,onDeleteBranch:Px,onCheckoutBranch:Rx,onResolve:Lx,onOpenFile:vn,onDiff:Jx,onGetCommitDetails:Kx,onGetCommitStats:Qx,onOpenCommitDiff:Yx,onOpenAllDiffs:Xx,onOpenBatchDiffs:qx,loading:Vn,repositoryLabel:z})]}),s.jsx("div",{ref:Gn,onMouseDown:Os("sidebar"),onPointerDown:Os("sidebar"),style:{width:O?"12px":"4px",marginLeft:O?"-6px":"-2px",cursor:"col-resize",background:O?"transparent":"var(--border)",display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none",flexShrink:0,zIndex:10001,touchAction:"none",height:"100%",position:"relative"},title:O?"":"","aria-label":"Sidebar Resizer","aria-valuenow":Bt,"aria-valuemin":220}),s.jsx("div",{ref:Kn,style:{width:Rt?"0px":`${$t}px`,minWidth:Rt?"0":"240px",display:Rt?"none":"flex",flexDirection:"column",borderRight:"1px solid var(--border)",background:"var(--panel)",transition:lr==="chat"?"none":"width 0.2s ease-out",flex:"none"},children:s.jsx(Aj,{messages:M,input:K,setInput:j,loading:fe.has(ee),onSend:hx,onStop:Nx,onToggleLogs:()=>Xr(!Wt),currentSession:Zx,logStatus:ev,mode:_e,modeOptions:P2,onModeChange:px,toolRuns:C,onOpenDiff:nx,taskReview:se,onTaskToggle:mx,onTaskKeepAll:yx,onTaskRevertAll:vx,onTaskKeepFile:gx,onTaskRevertFile:xx})}),!Rt&&s.jsx("div",{ref:bi,onMouseDown:Os("chat"),onPointerDown:Os("chat"),style:{width:"2px",cursor:"col-resize",background:"var(--border)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10001,userSelect:"none",flexShrink:0,position:"relative",touchAction:"none"},title:""}),s.jsxs("div",{style:{flex:_f?1:0,position:"relative",display:_f?"flex":"none",flexDirection:"column",background:"var(--bg)",minWidth:0,overflow:"hidden"},children:[Ef&&s.jsx(Gj,{files:br.files,openTabs:br.openTabs,activeFile:ge.activeFile,viewMode:ge.view,livePreviewContent:ge.livePreview,entryCandidates:ge.entryCandidates,loading:De,hasWorkspace:!!Q,workspaceRootLabel:z,workspaceRoots:br.workspaceRoots,bindingStatus:Re,bindingError:Mt,hotReloadToken:de,theme:Ue,backendRoot:D,welcomeTabPath:Pl,onOpenWelcomeTab:()=>et.openWelcomeTab({focus:!0}),renderWelcomeTab:()=>s.jsx(p2,{theme:Ue,bindingStatus:Re,bindingError:Mt,recentProjects:q,backendWorkspaces:V,onOpenFolder:()=>jr(),onOpenFile:ox,onNewFile:Sx,onPickFolderPath:pf,onCloneRepository:hf,onCreateTemplate:Da,onOpenFolderWithPreferredRoot:ax,onCancelOpen:()=>gf(),onOpenRecent:d=>et.openWorkspace((d==null?void 0:d.fsPath)||(d==null?void 0:d.id)||null,{preferredRoot:(d==null?void 0:d.fsPath)||""}),onRemoveRecent:d=>Zy(d),onOpenBackendWorkspace:sx}),onSelectFolder:jr,onBindBackendRoot:mf,onOpenFile:vn,onCloseFile:kf,onFileChange:wx,onActiveFileChange:d=>J(g=>({...g,activeFile:d,previewEntry:d&&d!==Pl?d:g.previewEntry})),onTabReorder:kx,onAddFile:Zr,onAddFolder:Oa,onRefreshPreview:Sf,onToggleTheme:bf,onToggleView:()=>J(d=>{const g=d.view==="code"?"preview":"code",v=d.activeFile||d.previewEntry;return{...d,view:g,previewEntry:v}}),onSyncStructure:()=>ft({includeContent:!0,highlight:!1}),previewEntry:ge.previewEntry,onPreviewEntryChange:d=>J(g=>({...g,previewEntry:d})),settingsTabPath:Rl,renderSettingsTab:()=>s.jsx(Lh,{config:x,setConfig:E,toolSettings:be,onToolSettingsChange:sf,onSave:rf,onClose:()=>kf(Rl),checkApiStatus:yl,apiStatus:T,apiMessage:_,appearanceMode:rn.current?Ue==="dark"?"dark":"light":"system",onChangeAppearanceMode:jf,language:n,onLanguageChange:r,displayPreferences:I,onChangeDisplayPreference:Cf,onOpenInEditor:Ds,fullscreen:!1,onToggleFullscreen:()=>{},variant:"inline"}),diffTabPrefix:Tc,diffTabs:Pe}),Wt&&s.jsx(zj,{logs:Ci,onClose:()=>Xr(!1)})]})]}),s.jsxs("div",{className:"status-bar",style:{height:"22px",background:"var(--accent)",color:"#fff",display:"flex",alignItems:"center",padding:"0 8px",fontSize:"11px",cursor:"default",userSelect:"none",zIndex:100},children:[s.jsxs("div",{className:"status-item",style:{display:"flex",gap:"4px",alignItems:"center",cursor:"pointer",marginRight:"10px"},onClick:()=>{O&&$(!1),Me("git")},title:"Switch Branch",children:[s.jsx("span",{className:"codicon codicon-git-branch","aria-hidden":!0,style:{fontSize:"13px"}}),s.jsx("span",{children:tv||"Git"}),Ne&&s.jsxs("span",{style:{marginLeft:"4px"},children:[Ne.ahead>0&&`${Ne.ahead} `,Ne.behind>0&&`${Ne.behind}`]})]}),Re==="error"&&s.jsx("div",{style:{background:"var(--danger)",padding:"0 4px"},children:"Connection Error"})]}),ml&&s.jsx("div",{style:{position:"fixed",left:ml.x+15,top:ml.y,background:ml.warning?"#FF5722":"rgba(0,0,0,0.8)",color:"#fff",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",pointerEvents:"none",zIndex:10002,boxShadow:"0 2px 8px rgba(0,0,0,0.15)",transition:"opacity 0.2s",whiteSpace:"nowrap"},children:ml.text}),s.jsx(x2,{isOpen:Cs,onClose:()=>Si(!1),onConnect:Cx}),s.jsx(v2,{isOpen:js,onClose:()=>bs(!1),onClone:async d=>{const g=await hf(d);g!=null&&g.targetPath&&await et.openWorkspace(null,{preferredRoot:g.targetPath})},onPickFolder:pf}),s.jsx(cb,{diff:Ft,onClose:rx,theme:Ue,onOpenFile:vn,onOpenDiffInWorkspace:ix}),s.jsx(A2,{isOpen:ln.isOpen,title:ln.title,label:ln.label,defaultValue:ln.defaultValue,onConfirm:ln.onConfirm,onClose:ln.onClose})]})}Pc.createRoot(document.getElementById("root")).render(s.jsx(yr.StrictMode,{children:s.jsx(D2,{})}));export{yr as W,y as r};
