:root{--bg: #f6f7fb;--panel: #ffffff;--panel-sub: #f8f9fb;--text: #1f2937;--muted: #6b7280;--border: #e5e7eb;--accent: #1e3a8a;--accent-2: #3b82f6;--pill-bg: #eef2ff;--pill-border: #cbd5ff;--pill-muted: #dbeafe;--danger-pill: #ffedd5;--code-bg: #0b0f1a;--tree-hover: #f8fafc;--preview-bg: #0f172a;--preview-border: #0b1224}[data-theme=dark]{--bg: #0b1220;--panel: #0f172a;--panel-sub: #111827;--text: #e5e7eb;--muted: #9ca3af;--border: #1f2937;--accent: #3b82f6;--accent-2: #60a5fa;--pill-bg: #111827;--pill-border: #1f2937;--pill-muted: #1f2937;--danger-pill: #422006;--code-bg: #0b0f1a;--tree-hover: #1a2538;--preview-bg: #0b1220;--preview-border: #111827}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;overflow-x:hidden;background:var(--bg);color:var(--text)}code{font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace}#root{overflow-x:hidden}.app-frame{display:flex;flex-direction:column;height:100vh;width:100vw;overflow:hidden;background:var(--bg);color:var(--text)}.app-body{display:flex;flex:1;min-height:0}.activity-bar{width:54px;background:#111827;border-right:1px solid var(--border);display:flex;flex-direction:column;align-items:center;padding:.65rem .4rem;gap:.35rem;box-shadow:inset -1px 0 #ffffff08}.activity-item{width:38px;height:38px;border:none;background:transparent;color:var(--muted);border-radius:9px;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:background .18s ease,color .18s ease,box-shadow .18s ease}.activity-item:hover{background:#ffffff0f;color:var(--text)}.activity-item.active{background:#60a5fa24;color:#60a5fa;box-shadow:inset 0 0 0 1px #60a5fa80}.activity-item.ghost{color:var(--text)}.activity-spacer{flex:1;width:100%}.activity-status{width:16px;height:16px;display:flex;align-items:center;justify-content:center}.status-dot{width:10px;height:10px;border-radius:50%;background:#9ca3af;border:1px solid #0b1220}.status-dot.ok{background:#22c55e}.status-dot.checking{background:#f59e0b}.status-dot.error{background:#ef4444}.sidebar-panel-shell{background:var(--panel);border-right:1px solid var(--border);min-height:0}.sidebar-panel-shell.collapsed,.sidebar-panel-shell .workspace-tree{border-right:none}.explorer-panel{flex:1;display:flex;flex-direction:column;min-height:0;background:var(--panel)}.explorer-header{padding:.65rem .9rem;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;gap:.5rem}.explorer-title{display:flex;flex-direction:column;gap:.1rem}.explorer-label{font-size:.72rem;letter-spacing:.08em;color:var(--muted);font-weight:700}.explorer-sub{font-size:.92rem;color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:200px}.explorer-actions{display:flex;gap:.35rem}.ghost-btn.tiny{padding:.25rem .45rem;font-size:.85rem}.spinner{width:16px;height:16px;border:2px solid #ccc;border-top-color:#333;border-radius:50%;animation:spin .8s linear infinite;display:inline-block}@keyframes spin{to{transform:rotate(360deg)}}.markdown-content p{margin-bottom:.8rem;margin-top:0;word-break:break-word;overflow-wrap:anywhere}.markdown-content p:last-child{margin-bottom:0}.markdown-content pre{background:#f1f3f5;padding:.8rem;border-radius:6px;overflow-x:auto;overflow-wrap:anywhere;word-break:break-word}.markdown-content code{background:#f1f3f5;padding:.1rem .3rem;border-radius:3px;font-size:.9em;overflow-wrap:anywhere;word-break:break-word}.markdown-content pre code{background:transparent;padding:0;border-radius:0;white-space:pre-wrap;word-break:break-word}.markdown-content ul,.markdown-content ol{padding-left:1.5rem;margin-bottom:.8rem}.markdown-content img{max-width:100%;height:auto}.icon-btn{border:1px solid #e0e0e0;background:#fff;border-radius:8px;padding:.45rem .55rem;cursor:pointer;font-size:1rem}.icon-btn:hover{background:#eef2ff}.input-shell.dragging{border:1px dashed #3b5bdb!important;background:#eef2ff}.attachment-menu{position:absolute;top:110%;left:0;background:#fff;border:1px solid #e0e0e0;border-radius:8px;box-shadow:0 8px 24px #00000014;min-width:140px;z-index:10}.attachment-item{padding:.5rem .75rem;cursor:pointer;font-size:.9rem}.attachment-item:hover{background:#f5f7fb}.mode-selector{position:relative}.mode-btn{border:1px solid #dfe3ec;background:#fff;border-radius:10px;padding:.45rem .8rem;display:inline-flex;align-items:center;gap:.35rem;cursor:pointer;font-weight:600}.mode-menu{position:absolute;bottom:110%;left:0;background:#fff;border:1px solid #e0e0e0;border-radius:10px;box-shadow:0 10px 30px #00000014;width:240px;z-index:30}.mode-item{padding:.65rem .8rem;cursor:pointer;border-bottom:1px solid #f1f3f5}.mode-item:last-child{border-bottom:none}.mode-item.active{background:#f5f8ff}.mode-item-title{font-weight:700;font-size:.95rem}.mode-item-desc{font-size:.8rem;color:var(--muted)}.workspace-shell{display:flex;flex-direction:column;height:100%;background:var(--panel);min-width:0;overflow:hidden}.workspace-header{padding:.75rem 1rem;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center;gap:.75rem;background:var(--panel)}.workspace-title{display:flex;flex-direction:column;gap:.2rem}.workspace-title .pill{font-weight:700;font-size:1rem}.workspace-title .muted{color:var(--muted);font-size:.85rem}.workspace-actions{display:flex;gap:.35rem}.ghost-btn{border:1px solid var(--border);background:var(--panel);padding:.4rem .75rem;border-radius:8px;cursor:pointer;color:var(--text)}.ghost-btn:hover{background:var(--panel-sub)}.primary-btn{border:none;background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;padding:.45rem .85rem;border-radius:10px;cursor:pointer;font-weight:700}.workspace-body{display:flex;height:calc(100% - 64px);background:var(--panel);min-width:0;overflow:hidden}.workspace-body.preview-only{flex-direction:column}.workspace-tree{width:100%;border-right:1px solid var(--border);background:var(--panel-sub);display:flex;flex-direction:column;flex:1;min-width:0}.explorer-tree{flex:1;min-height:0}.tree-header{padding:.75rem 1rem;font-weight:700;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;gap:.4rem}.tree-badge{background:var(--pill-bg);color:var(--accent);padding:.2rem .45rem;border-radius:6px;font-size:.8rem;border:1px solid var(--pill-border)}.tree-list{overflow-y:auto;padding:.5rem}.tree-item{display:flex;align-items:center;gap:.5rem;padding:.45rem .6rem;border-radius:8px;cursor:pointer;color:var(--text)}.tree-item:hover{background:var(--tree-hover)}.tree-item.active{background:var(--pill-bg)}.tree-item.updated{border:1px solid var(--pill-border)}.tree-icon{width:22px;text-align:center}.tree-dot{margin-left:auto;background:#fef3c7;color:#92400e;padding:.2rem .35rem;border-radius:999px;font-size:.75rem}.tree-empty{padding:.75rem;color:var(--muted)}.workspace-editor{display:flex;flex-direction:column;background:var(--panel);flex:1;min-width:0;overflow:hidden}.tab-row{display:flex;gap:.35rem;padding:.5rem;border-bottom:1px solid var(--border);overflow-x:auto}.tab{display:inline-flex;align-items:center;gap:.35rem;padding:.35rem .55rem;background:var(--panel-sub);border:1px solid var(--border);border-radius:8px;cursor:grab;color:var(--text)}.tab.active{background:var(--pill-bg);border-color:var(--pill-border)}.tab-updated{border-color:var(--pill-border);background:var(--pill-muted)}.tab-pill{background:var(--danger-pill);color:#c2410c;padding:.15rem .35rem;border-radius:999px;font-size:.75rem}.tab-close{border:none;background:transparent;cursor:pointer}.code-editor{flex:1;width:100%;border:none;padding:1rem;font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:.95rem;outline:none;resize:none}.monaco-shell{flex:1;min-height:0;min-width:0;background:var(--code-bg);overflow:hidden}.monaco-fallback{flex:1;display:flex;align-items:center;justify-content:center;color:var(--muted);background:var(--code-bg)}.workspace-preview{display:flex;flex-direction:column;background:var(--preview-bg);color:var(--text);border-left:1px solid var(--preview-border)}.workspace-preview.fullscreen-preview{flex:1}.preview-header{padding:.65rem .85rem;border-bottom:1px solid var(--preview-border);display:flex;justify-content:space-between;align-items:center}.preview-entry{margin-left:.35rem;font-size:.9rem;color:var(--pill-border)}.preview-actions{display:flex;gap:.4rem}.preview-frame{flex:1;width:100%;border:none;background:var(--panel)}.workspace-empty{position:absolute;top:64px;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;pointer-events:none}.workspace-empty-card{background:var(--panel);border:1px dashed var(--border);border-radius:12px;padding:16px 20px;text-align:center;box-shadow:0 8px 40px #0000000a;pointer-events:auto}.context-item:hover{background:var(--panel-sub)}.tree-item-virtual:hover{background:var(--tree-hover)}.tool-run-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:.6rem;justify-items:stretch;align-items:start;margin-top:.5rem}.tool-run-chip{background:linear-gradient(135deg,#f8fafcf2,#f0f4fff2);border:1px solid #d8dde6;border-radius:12px;padding:.55rem .65rem;min-width:180px;max-width:260px;box-shadow:0 6px 18px #0f172a14;cursor:pointer;transition:transform .15s ease,border-color .15s ease,box-shadow .15s ease}.tool-run-chip:hover{transform:translateY(-1px);border-color:#b7c4ff;box-shadow:0 10px 30px #0f172a1f}.tool-run-chip.running{border-color:#38bdf8}.tool-run-chip.done{border-color:#16a34a}.tool-run-chip.error{border-color:#dc2626}.tool-run-chip-main{display:flex;align-items:center;gap:.45rem}.tool-run-chip-icon{width:18px;height:18px;display:inline-flex;align-items:center;justify-content:center}.tool-run-chip-text{display:flex;flex-direction:column;gap:.1rem}.tool-run-chip-title{font-weight:700;font-size:.82rem}.tool-run-chip-desc{font-size:.76rem;color:#475569}.tool-run-progress{margin-top:6px;height:3px;background:linear-gradient(90deg,#60a5fa,#22d3ee,#a855f7);background-size:200% 100%;animation:toolProgress 1.2s linear infinite;border-radius:999px}.tool-run-chip-detail{margin-top:.5rem;background:#0f172a0a;border:1px dashed #d5d9e2;border-radius:8px;padding:.5rem}.tool-run-chip-detail pre{margin:0;font-size:.78rem;white-space:pre-wrap;word-break:break-word}.tool-run-chip-block{margin-bottom:.35rem}.tool-run-chip-block:last-child{margin-bottom:0}.tool-run-chip-label{font-size:.72rem;color:#6b7280;margin-bottom:.2rem}.tool-run-spinner{width:14px;height:14px;border:2px solid #38bdf8;border-top-color:transparent;border-radius:50%;display:inline-block;animation:spin .8s linear infinite}@keyframes toolProgress{0%{background-position:0% 50%}to{background-position:200% 50%}}@media (max-width: 1100px){.workspace-body{flex-direction:column}.workspace-tree{width:100%;border-right:none;border-bottom:1px solid #e5e7eb;flex-direction:row;overflow-x:auto}}@media (max-width: 768px){.workspace-body{flex-direction:column}.workspace-preview{min-height:320px}.mode-menu{width:200px}}.log-panel{width:420px;border-left:1px solid var(--border);display:flex;flex-direction:column;background:var(--panel);height:100%;overflow:hidden;position:absolute;right:0;top:0;z-index:100;box-shadow:-6px 0 24px #00000014}.log-header{padding:.9rem 1rem;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center;gap:.75rem;background:var(--panel-sub)}.log-header-left{display:flex;flex-direction:column;gap:.25rem}.log-body{flex:1;overflow-y:auto;padding:.85rem 1rem;display:flex;flex-direction:column;gap:.65rem}.log-empty{color:var(--muted);font-size:.95rem}.log-row{padding:.65rem .75rem;border:1px solid var(--border);border-radius:10px;background:var(--panel);cursor:pointer;transition:border-color .15s ease,box-shadow .15s ease,transform .1s ease}.log-row:hover{border-color:var(--pill-border);box-shadow:0 8px 24px #0000000d;transform:translateY(-1px)}.log-row-top{display:flex;justify-content:space-between;align-items:center;gap:.35rem;margin-bottom:.35rem}.log-provider{font-weight:700;color:var(--text)}.log-time{font-size:.85rem;color:var(--muted)}.log-row-meta{display:flex;align-items:center;gap:.35rem;flex-wrap:wrap;font-size:.85rem}.log-method{color:var(--text)}.log-parse-error{margin-top:.25rem;font-size:.8rem;color:#b02a37}.log-badge{display:inline-flex;align-items:center;padding:.15rem .5rem;border-radius:999px;font-size:.75rem;border:1px solid transparent}.log-badge.ok{background:#e6f4ea;color:#1e7e34;border-color:#c8e6c9}.log-badge.error{background:#fdecea;color:#b02a37;border-color:#f5c6cb}.log-detail{display:flex;flex-direction:column;gap:.65rem}.log-detail-card{border:1px solid var(--border);border-radius:10px;padding:.75rem;background:var(--panel-sub);display:flex;flex-direction:column;gap:.35rem}.log-detail-title{font-weight:700}.log-detail-meta{display:flex;align-items:center;gap:.4rem;flex-wrap:wrap;font-size:.9rem}.log-time-full{font-size:.82rem;color:var(--muted)}.log-json-block{border:1px solid var(--border);border-radius:8px;overflow:hidden}.log-json-title{padding:.5rem .65rem;border-bottom:1px solid var(--border);background:var(--panel-sub);font-weight:700}.log-json-block pre{margin:0;padding:.6rem .75rem;background:var(--panel);color:var(--text);overflow-x:auto;font-size:.82rem;white-space:pre-wrap;word-break:break-word}.project-bar{display:flex;align-items:center;justify-content:space-between;padding:.65rem .9rem;border-bottom:1px solid var(--border);background:var(--panel);position:sticky;top:0;z-index:30}.project-meta{display:flex;flex-direction:column;gap:4px}.project-name{font-weight:700;cursor:pointer}.project-path{font-size:.85rem;color:var(--muted);max-width:520px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.project-actions{display:flex;align-items:center;gap:.4rem}.project-badge.error{padding:.25rem .5rem;border-radius:999px;background:#ffe8e8;color:#b02a37;border:1px solid #f5c6cb;font-size:.8rem}.welcome-shell{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1.5rem;background:radial-gradient(circle at 10% 20%,#f7faff,#fff);padding:2rem}.welcome-card{background:#fff;border:1px solid var(--border);border-radius:18px;padding:1.8rem;box-shadow:0 14px 38px #00000014;min-width:360px;text-align:center}.welcome-title{font-size:1.6rem;font-weight:800;margin-bottom:.35rem}.welcome-subtitle{color:#4b5563;margin-bottom:1rem}.welcome-actions{display:flex;gap:.5rem;justify-content:center}.recent-list{width:min(540px,90vw);background:#fff;border:1px solid var(--border);border-radius:14px;padding:1rem;box-shadow:0 10px 26px #0000000f}.recent-header{font-weight:700;margin-bottom:.6rem}.recent-item{width:100%;text-align:left;border:1px solid #e5e7eb;background:#f9fafb;border-radius:10px;padding:.75rem .85rem;margin-bottom:.5rem;cursor:pointer;transition:all .2s ease}.recent-item:hover{border-color:#cbd5e1;background:#fff;box-shadow:0 8px 18px #0000000d}.recent-name{font-weight:700}.recent-path{font-size:.85rem;color:#64748b}.recent-empty{color:#94a3b8;font-size:.9rem}.primary-btn.jumbo{padding:.95rem 1.4rem;font-size:1rem}
