# Git 版本控制集成状态报告

本文档详细记录了当前 IDE 中 Git 版本控制系统的集成情况、已实现功能、待开发功能及未来规划。

## 1. 概览

Git 集成采用 **Electron IPC 桥接** 模式，由前端 `GitDriver` 发起请求，Electron 主进程执行原生 `git` 命令并返回结果。这种架构确保了性能和与系统 Git 配置的完全兼容。

## 2. 功能实现状态矩阵

| 功能模块 | 子功能 | 状态 | 说明 |
| :--- | :--- | :--- | :--- |
| **基础操作** | 初始化 (Init) | ✅ 已实现 | 支持在非 Git 目录初始化仓库 |
| | 克隆 (Clone) | ✅ 已实现 | 支持 HTTP/HTTPS/SSH URL |
| | 状态检测 (Status) | ✅ 已实现 | 实时监听文件变动 (Watcher) |
| **暂存区管理** | 暂存文件 (Stage) | ✅ 已实现 | 支持单文件及全部暂存 |
| | 取消暂存 (Unstage) | ✅ 已实现 | 支持单文件及全部取消 |
| | 丢弃更改 (Discard) | ✅ 已实现 | 恢复工作区文件到 HEAD 状态 |
| **提交管理** | 提交 (Commit) | ✅ 已实现 | 支持多行提交信息 |
| | 提交统计 | ✅ 已实现 | 显示插入/删除行数 |
| | 历史记录 (Log) | ✅ 已实现 | 图形化显示提交历史 |
| **远程操作** | 远程管理 (Remote) | ✅ 已实现 | 添加远程仓库 (Add Remote) |
| | 推送 (Push) | ✅ 已实现 | Push 到当前上游分支 |
| | 拉取 (Pull) | ✅ 已实现 | Pull 并自动合并 |
| | 同步 (Sync) | ✅ 已实现 | 智能判断 Pull/Push 顺序 |
| | 发布分支 | ✅ 已实现 | Publish Branch |
| | 设置上游 | ✅ 已实现 | Set Upstream |
| **差异对比** | 文件 Diff | ✅ 已实现 | Side-by-side 差异对比视图 |
| | 提交 Diff | ✅ 已实现 | 查看特定 Commit 的文件变动 |
| **分支管理** | 分支切换 | ❌ 未实现 | 目前仅显示当前分支名 |
| | 创建/删除分支 | ❌ 未实现 | |
| | 合并 (Merge) | ❌ 未实现 | 缺乏冲突解决 UI |
| | 变基 (Rebase) | ❌ 未实现 | |

## 3. 已实现功能详解

### 3.1 源代码管理面板 (Source Control Panel)
*   **实时状态**: 自动分类显示 "暂存的更改" (Staged) 和 "更改" (Changes)。
*   **快捷操作**: 每个文件项支持 "打开"、"Diff"、"暂存/取消"、"丢弃" 按钮。
*   **提交输入**: 提供了提交信息输入框，支持 `Ctrl+Enter` 快捷提交。
*   **AI 辅助**: (预留接口) 具备 AI 生成提交信息的功能入口。

### 3.2 历史记录与图谱
*   **可视化**: 渲染 Git 提交图谱 (Commit Graph)，直观展示分支演进。
*   **详情查看**: 点击提交节点可展开查看该次提交的详细文件变更列表。
*   **统计信息**: 鼠标悬停显示 Commit Hash、作者、时间及代码增删统计。

### 3.3 远程同步
*   **智能同步**: 自动检测远程分支状态，提示 "需要 Pull" 或 "可以 Push"。
*   **凭证管理**: 依赖系统 Git 凭证管理器 (Credential Helper) 处理身份验证。

## 4. 待完善与开发方向

### 4.1 分支管理增强 (高优先级)
*   **需求**: 用户需要频繁切换、创建和删除分支。
*   **计划**: 在状态栏或源代码面板添加分支选择器 (Branch Picker)。

### 4.2 冲突解决 (Merge Conflict)
*   **现状**: 遇到冲突时可能会报错或仅显示文本标记。
*   **计划**: 开发专门的 "合并编辑器" (Merge Editor)，支持 3-way merge 视图，简化冲突解决流程。

### 4.3 交互式变基 (Interactive Rebase)
*   **需求**: 高级用户需要整理提交历史。
*   **计划**: 提供可视化 UI 进行 commit squashing, reordering, re-wording。

### 4.4 储藏 (Stash)
*   **需求**: 临时保存工作现场。
*   **计划**: 添加 Stash 列表及 Pop/Apply 操作入口。
