export function buildAppShellProps({ workspace = {}, sessions = {}, git = {}, layout = {}, prefs = {} } = {}) {
  return {
    theme: prefs.theme,
    projectMeta: workspace.projectMeta,
    handleSelectWorkspace: workspace.handleSelectWorkspace,
    workspaceController: workspace.workspaceController,
    openHelpModal: prefs.openHelpModal,
    closeHelpModal: prefs.closeHelpModal,
    helpModal: prefs.helpModal,
    closeWorkspaceToWelcome: workspace.closeWorkspaceToWelcome,
    promptOpenWorkspace: workspace.promptOpenWorkspace,
    handleToggleTheme: prefs.handleToggleTheme,
    language: prefs.language,
    workspaceState: workspace.workspaceState,
    setWorkspaceState: workspace.setWorkspaceState,
    handleAddFile: workspace.handleAddFile,
    handleAddFolder: workspace.handleAddFolder,
    syncWorkspaceFromDisk: workspace.syncWorkspaceFromDisk,
    handleRefreshPreview: workspace.handleRefreshPreview,
    workspaceDriver: workspace.workspaceDriver,
    workspaceBindingError: workspace.workspaceBindingError,
    workspaceRootLabel: workspace.workspaceRootLabel,
    recentProjects: workspace.recentProjects,
    isAbsolutePath: workspace.isAbsolutePath,
    setShowCloneModal: prefs.setShowCloneModal,
    setShowRemoteModal: prefs.setShowRemoteModal,
    openCommandPalette: workspace.openCommandPalette,
    showResizeOverlay: layout.showResizeOverlay,
    handleMouseMove: layout.handleMouseMove,
    stopResize: layout.stopResize,
    showConfig: prefs.showConfig,
    setShowConfig: prefs.setShowConfig,
    config: prefs.config,
    setConfig: prefs.setConfig,
    toolSettings: prefs.toolSettings,
    persistToolSettings: prefs.persistToolSettings,
    handleConfigSubmit: prefs.handleConfigSubmit,
    setConfigFullscreen: prefs.setConfigFullscreen,
    configFullscreen: prefs.configFullscreen,
    checkApiStatus: prefs.checkApiStatus,
    apiStatus: prefs.apiStatus,
    apiMessage: prefs.apiMessage,
    userThemePreferenceRef: prefs.userThemePreferenceRef,
    handleThemeModeChange: prefs.handleThemeModeChange,
    handleLanguageChange: prefs.handleLanguageChange,
    uiDisplayPreferences: prefs.uiDisplayPreferences,
    handleChangeDisplayPreference: prefs.handleChangeDisplayPreference,
    handleOpenConfigInEditor: prefs.handleOpenConfigInEditor,
    projectConfig: prefs.projectConfig,
    setProjectConfig: prefs.setProjectConfig,
    showCommandPalette: prefs.showCommandPalette,
    closeCommandPalette: prefs.closeCommandPalette,
    commandPaletteInitialQuery: prefs.commandPaletteInitialQuery,
    commandPaletteContext: prefs.commandPaletteContext,
    workspaceProps: workspace.workspaceProps,
    openFile: workspace.openFile,
    closeFile: workspace.closeFile,
    setGlobalSearchQuery: prefs.setGlobalSearchQuery,
    handleSidebarTabChange: layout.handleSidebarTabChange,
    lspService: workspace.lspService,
    editorAiInvoker: prefs.editorAiInvoker,
    activeSidebarPanel: layout.activeSidebarPanel,
    sidebarCollapsed: layout.sidebarCollapsed,
    explorerReveal: layout.explorerReveal,
    sidebarWidth: layout.sidebarWidth,
    activeResizeTarget: layout.activeResizeTarget,
    sidebarResizerGhostRef: layout.sidebarResizerGhostRef,
    startResize: layout.startResize,
    createSession: sessions.createSession,
    gitBadgeCount: git.gitBadgeCount,
    sessions: sessions.sessions,
    currentSessionId: sessions.currentSessionId,
    selectSession: sessions.selectSession,
    deleteSession: sessions.deleteSession,
    renameSession: sessions.renameSession,
    messages: sessions.messages,
    input: sessions.input,
    setInput: sessions.setInput,
    loadingSessions: sessions.loadingSessions,
    handleSend: sessions.handleSend,
    handleStop: sessions.handleStop,
    setShowLogs: sessions.setShowLogs,
    showLogs: sessions.showLogs,
    currentSession: sessions.currentSession,
    logStatus: sessions.logStatus,
    currentMode: sessions.currentMode,
    modeOptions: sessions.modeOptions,
    handleModeChange: sessions.handleModeChange,
    toolRuns: sessions.toolRuns,
    handleOpenDiff: prefs.handleOpenDiff,
    taskReview: sessions.taskReview,
    toggleTaskReview: sessions.toggleTaskReview,
    keepAllTaskFiles: sessions.keepAllTaskFiles,
    revertAllTaskFiles: sessions.revertAllTaskFiles,
    keepTaskFile: sessions.keepTaskFile,
    revertTaskFile: sessions.revertTaskFile,
    resetTaskFile: sessions.resetTaskFile,
    workspaceLoading: workspace.workspaceLoading,
    hotReloadToken: workspace.hotReloadToken,
    backendWorkspaceRoot: workspace.backendWorkspaceRoot,
    handleDeletePath: workspace.handleDeletePath,
    handleRenamePath: workspace.handleRenamePath,
    gitStatus: git.gitStatus,
    handleGlobalSearch: workspace.handleGlobalSearch,
    globalSearchQuery: prefs.globalSearchQuery,
    gitRemotes: git.gitRemotes,
    gitLog: git.gitLog,
    gitBranches: git.gitBranches,
    handleGitCommit: git.handleGitCommit,
    handleGitStage: git.handleGitStage,
    handleGitUnstage: git.handleGitUnstage,
    handleGitStageAll: git.handleGitStageAll,
    handleGitUnstageAll: git.handleGitUnstageAll,
    handleGitRestore: git.handleGitRestore,
    handleGitRestoreAll: git.handleGitRestoreAll,
    handleGitSync: git.handleGitSync,
    handleGitPull: git.handleGitPull,
    handleGitPush: git.handleGitPush,
    handleGitPublishBranch: git.handleGitPublishBranch,
    handleGitSetUpstream: git.handleGitSetUpstream,
    refreshGitStatus: git.refreshGitStatus,
    handleGenerateCommitMessage: git.handleGenerateCommitMessage,
    handleGitInit: git.handleGitInit,
    handleGitAddRemote: git.handleGitAddRemote,
    handleGitCreateBranch: git.handleGitCreateBranch,
    handleGitDeleteBranch: git.handleGitDeleteBranch,
    handleGitCheckoutBranch: git.handleGitCheckoutBranch,
    handleGitResolve: git.handleGitResolve,
    handleOpenWorkingCopyDiff: git.handleOpenWorkingCopyDiff,
    handleGetCommitDetails: git.handleGetCommitDetails,
    handleGetCommitStats: git.handleGetCommitStats,
    handleOpenCommitDiff: git.handleOpenCommitDiff,
    handleOpenAllCommitDiffs: git.handleOpenAllCommitDiffs,
    handleOpenBatchDiffs: git.handleOpenBatchDiffs,
    gitLoading: git.gitLoading,
    workspaceShellVisible: workspace.workspaceShellVisible,
    workspaceVisible: workspace.workspaceVisible,
    diffTabs: workspace.diffTabs,
    diffModal: prefs.diffModal,
    closeDiffModal: prefs.closeDiffModal,
    handleOpenDiffInWorkspace: prefs.handleOpenDiffInWorkspace,
    logs: sessions.logs,
    gitBranch: git.gitBranch,
    workspaceBindingStatus: workspace.workspaceBindingStatus,
    setSidebarCollapsed: layout.setSidebarCollapsed,
    setActiveSidebarPanel: layout.setActiveSidebarPanel,
    showRemoteModal: prefs.showRemoteModal,
    handleConnectRemote: prefs.handleConnectRemote,
    showCloneModal: prefs.showCloneModal,
    cloneRepositoryFromWelcome: workspace.cloneRepositoryFromWelcome,
    pickNativeFolderPath: workspace.pickNativeFolderPath,
    handleOpenFileFromWelcome: workspace.handleOpenFileFromWelcome,
    handleNewFileFromWelcome: workspace.handleNewFileFromWelcome,
    activeWorkspaces: workspace.activeWorkspaces,
    createTemplateProjectInWorkspace: workspace.createTemplateProjectInWorkspace,
    openWorkspaceWithPreferredRoot: workspace.openWorkspaceWithPreferredRoot,
    removeRecentProject: workspace.removeRecentProject,
    handleOpenBackendWorkspaceFromList: workspace.handleOpenBackendWorkspaceFromList,
    handleFileChange: workspace.handleFileChange,
    handleActiveEditorChange: workspace.handleActiveEditorChange,
    handleActiveGroupChange: workspace.handleActiveGroupChange,
    handleTabReorder: workspace.handleTabReorder,
    toggleGroupLocked: workspace.toggleGroupLocked,
    togglePreviewEditorEnabled: workspace.togglePreviewEditorEnabled,
    toggleTabPinned: workspace.toggleTabPinned,
    toggleTabKeptOpen: workspace.toggleTabKeptOpen,
    closeEditors: workspace.closeEditors,
    splitEditor: workspace.splitEditor,
    applyWorkspaceEditCreateFile: workspace.applyWorkspaceEditCreateFile,
    applyWorkspaceEditRenamePath: workspace.applyWorkspaceEditRenamePath,
    applyWorkspaceEditDeletePath: workspace.applyWorkspaceEditDeletePath,
    applyWorkspaceEditReadFile: workspace.applyWorkspaceEditReadFile,
    applyWorkspaceEditWriteFile: workspace.applyWorkspaceEditWriteFile,
    settingsTabPath: workspace.settingsTabPath,
    terminalSettingsTabPath: workspace.terminalSettingsTabPath,
    terminalEditorTabPath: workspace.terminalEditorTabPath,
    welcomeTabPath: workspace.welcomeTabPath,
    aiEngineClient: workspace.aiEngineClient,
    getBackendConfig: workspace.getBackendConfig,
    backendWorkspaceId: workspace.backendWorkspaceId,
    setEditorAiInvoker: prefs.setEditorAiInvoker,
    undoRedoLimit: prefs.undoRedoLimit,
    changeEditorNavigationMode: prefs.changeEditorNavigationMode,
    keepTaskBlock: sessions.keepTaskBlock,
    revertTaskBlock: sessions.revertTaskBlock,
    resetTaskBlock: sessions.resetTaskBlock,
    setTaskReviewCursor: sessions.setTaskReviewCursor,
    diffTabPrefix: workspace.diffTabPrefix,
    inputModal: prefs.inputModal,
  };
}

