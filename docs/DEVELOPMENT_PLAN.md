# IDE 核心功能开发计划 (Development Roadmap)

## 1. 阶段一：基础体验固化 (Foundation & UX) - 预计 4-6 周
**目标**: 提升编辑器作为生产力工具的基础交互体验，缩小与主流编辑器的基本差距。

- **任务 1.1: 视图管理增强**
    - 实现编辑器分屏功能（水平/垂直拆分）。
    - 引入面包屑导航 (Breadcrumbs) 组件。
- **任务 1.2: 结构化导航**
    - 实现侧边栏大纲视图 (Outline View)，支持符号跳转。
    - 优化全局搜索，支持正则替换及文件过滤。
- **任务 1.3: 任务系统原型**
    - 建立 `tasks.json` 解析引擎，允许通过 UI 触发简单的 Shell 脚本任务。

## 2. 阶段二：调试与语言深度集成 (Debugging & LSP) - 预计 8-10 周
**目标**: 引入生产级别的调试能力，使 IDE 具备完整的生命周期管理。

- **任务 2.1: DAP 协议适配**
    - 在后端集成调试适配器协议 (DAP)。
    - 实现断点设置、变量观察和调用栈视图。
- **任务 2.2: 调试 UI 交互**
    - 在编辑器行号区域增加断点交互。
    - 开发悬浮变量查看 (Hover Debug) 功能。
- **任务 2.3: 语言重构 UI**
    - 对接 LSP 重构接口，实现重构预览 (Refactor Preview) 视图。

## 3. 阶段三：AI Native 深度赋能 (AI Native Evolution) - 预计 12-16 周
**目标**: 发挥 AI 原生优势，打造差异化竞争力。

- **任务 3.1: 智能代码预测**
    - 实现 Ghost Text 行内补全预览，对接高性能本地/远程补全模型。
- **任务 3.2: 自治 Agent 升级**
    - 增强 Agent 权限，使其能够读取终端报错并自动发起修复任务。
    - 引入 "Edit Mode" (Composer)，支持 AI 同时修改多个文件并展示 Diff。
- **任务 3.3: 知识图谱 RAG**
    - 升级 [rag_index.ts](file:///d:/Copilot/v0.1.07%20dev01/backend-node/src/ai-engine/rag_index.ts)，整合 Git Commit 历史和代码依赖图谱。

## 4. 阶段四：扩展性与生态建设 (Extensibility & Ecosystem) - 持续进行
**目标**: 建立开放平台，允许社区贡献力量。

- **任务 4.1: 插件系统 2.0**
    - 定义 UI 扩展 API，允许插件注册自定义 View 和 Sidebar。
    - 实现简单的插件热加载机制。
- **任务 4.2: 市场与分发**
    - 建立基础的插件分发渠道（支持从 OpenVSX 或 GitHub 直接安装）。
- **任务 4.3: 云端同步**
    - 实现基于账户的设置、快捷键和插件同步功能。

## 5. 风险与质量控制
- **性能挑战**: 随着 AI 功能增加，需严格监控渲染进程和后端进程的内存/CPU 占用。
- **安全性**: 需对 AI 执行的 Shell 命令进行沙箱化或严格的权限审核。
- **稳定性**: 引入自动化 LSP/DAP 集成测试，确保核心功能不退化。
